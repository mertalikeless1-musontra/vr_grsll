(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function G4(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dA={exports:{}},f1={};var DN;function lte(){if(DN)return f1;DN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:s,ref:i!==void 0?i:null,props:a}}return f1.Fragment=t,f1.jsx=n,f1.jsxs=n,f1}var ON;function ute(){return ON||(ON=1,dA.exports=lte()),dA.exports}var tt=ute(),gA={exports:{}},pt={};var MN;function cte(){if(MN)return pt;MN=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function m(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function E(q,R,G){this.props=q,this.context=R,this.refs=_,this.updater=G||y}E.prototype.isReactComponent={},E.prototype.setState=function(q,R){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,R,"setState")},E.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function w(){}w.prototype=E.prototype;function A(q,R,G){this.props=q,this.context=R,this.refs=_,this.updater=G||y}var k=A.prototype=new w;k.constructor=A,v(k,E.prototype),k.isPureReactComponent=!0;var D=Array.isArray;function O(){}var T={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function C(q,R,G){var K=G.ref;return{$$typeof:e,type:q,key:R,ref:K!==void 0?K:null,props:G}}function N(q,R){return C(q.type,R,q.props)}function L(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function I(q){var R={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(G){return R[G]})}var Q=/\/+/g;function J(q,R){return typeof q=="object"&&q!==null&&q.key!=null?I(""+q.key):R.toString(36)}function H(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(O,O):(q.status="pending",q.then(function(R){q.status==="pending"&&(q.status="fulfilled",q.value=R)},function(R){q.status==="pending"&&(q.status="rejected",q.reason=R)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function z(q,R,G,K,Y){var se=typeof q;(se==="undefined"||se==="boolean")&&(q=null);var ve=!1;if(q===null)ve=!0;else switch(se){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(q.$$typeof){case e:case t:ve=!0;break;case h:return ve=q._init,z(ve(q._payload),R,G,K,Y)}}if(ve)return Y=Y(q),ve=K===""?"."+J(q,0):K,D(Y)?(G="",ve!=null&&(G=ve.replace(Q,"$&/")+"/"),z(Y,R,G,"",function(ue){return ue})):Y!=null&&(L(Y)&&(Y=N(Y,G+(Y.key==null||q&&q.key===Y.key?"":(""+Y.key).replace(Q,"$&/")+"/")+ve)),R.push(Y)),1;ve=0;var _e=K===""?".":K+":";if(D(q))for(var ae=0;ae<q.length;ae++)K=q[ae],se=_e+J(K,ae),ve+=z(K,R,G,se,Y);else if(ae=m(q),typeof ae=="function")for(q=ae.call(q),ae=0;!(K=q.next()).done;)K=K.value,se=_e+J(K,ae++),ve+=z(K,R,G,se,Y);else if(se==="object"){if(typeof q.then=="function")return z(H(q),R,G,K,Y);throw R=String(q),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return ve}function X(q,R,G){if(q==null)return q;var K=[],Y=0;return z(q,K,"","",function(se){return R.call(G,se,Y++)}),K}function re(q){if(q._status===-1){var R=q._result;R=R(),R.then(function(G){(q._status===0||q._status===-1)&&(q._status=1,q._result=G)},function(G){(q._status===0||q._status===-1)&&(q._status=2,q._result=G)}),q._status===-1&&(q._status=0,q._result=R)}if(q._status===1)return q._result.default;throw q._result}var j=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},le={map:X,forEach:function(q,R,G){X(q,function(){R.apply(this,arguments)},G)},count:function(q){var R=0;return X(q,function(){R++}),R},toArray:function(q){return X(q,function(R){return R})||[]},only:function(q){if(!L(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return pt.Activity=d,pt.Children=le,pt.Component=E,pt.Fragment=n,pt.Profiler=i,pt.PureComponent=A,pt.StrictMode=r,pt.Suspense=u,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,pt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return T.H.useMemoCache(q)}},pt.cache=function(q){return function(){return q.apply(null,arguments)}},pt.cacheSignal=function(){return null},pt.cloneElement=function(q,R,G){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var K=v({},q.props),Y=q.key;if(R!=null)for(se in R.key!==void 0&&(Y=""+R.key),R)!F.call(R,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&R.ref===void 0||(K[se]=R[se]);var se=arguments.length-2;if(se===1)K.children=G;else if(1<se){for(var ve=Array(se),_e=0;_e<se;_e++)ve[_e]=arguments[_e+2];K.children=ve}return C(q.type,Y,K)},pt.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:a,_context:q},q},pt.createElement=function(q,R,G){var K,Y={},se=null;if(R!=null)for(K in R.key!==void 0&&(se=""+R.key),R)F.call(R,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(Y[K]=R[K]);var ve=arguments.length-2;if(ve===1)Y.children=G;else if(1<ve){for(var _e=Array(ve),ae=0;ae<ve;ae++)_e[ae]=arguments[ae+2];Y.children=_e}if(q&&q.defaultProps)for(K in ve=q.defaultProps,ve)Y[K]===void 0&&(Y[K]=ve[K]);return C(q,se,Y)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(q){return{$$typeof:o,render:q}},pt.isValidElement=L,pt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:re}},pt.memo=function(q,R){return{$$typeof:c,type:q,compare:R===void 0?null:R}},pt.startTransition=function(q){var R=T.T,G={};T.T=G;try{var K=q(),Y=T.S;Y!==null&&Y(G,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(O,j)}catch(se){j(se)}finally{R!==null&&G.types!==null&&(R.types=G.types),T.T=R}},pt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},pt.use=function(q){return T.H.use(q)},pt.useActionState=function(q,R,G){return T.H.useActionState(q,R,G)},pt.useCallback=function(q,R){return T.H.useCallback(q,R)},pt.useContext=function(q){return T.H.useContext(q)},pt.useDebugValue=function(){},pt.useDeferredValue=function(q,R){return T.H.useDeferredValue(q,R)},pt.useEffect=function(q,R){return T.H.useEffect(q,R)},pt.useEffectEvent=function(q){return T.H.useEffectEvent(q)},pt.useId=function(){return T.H.useId()},pt.useImperativeHandle=function(q,R,G){return T.H.useImperativeHandle(q,R,G)},pt.useInsertionEffect=function(q,R){return T.H.useInsertionEffect(q,R)},pt.useLayoutEffect=function(q,R){return T.H.useLayoutEffect(q,R)},pt.useMemo=function(q,R){return T.H.useMemo(q,R)},pt.useOptimistic=function(q,R){return T.H.useOptimistic(q,R)},pt.useReducer=function(q,R,G){return T.H.useReducer(q,R,G)},pt.useRef=function(q){return T.H.useRef(q)},pt.useState=function(q){return T.H.useState(q)},pt.useSyncExternalStore=function(q,R,G){return T.H.useSyncExternalStore(q,R,G)},pt.useTransition=function(){return T.H.useTransition()},pt.version="19.2.1",pt}var RN;function V4(){return RN||(RN=1,gA.exports=cte()),gA.exports}var wi=V4();const fte=G4(wi);var pA={exports:{}},h1={},mA={exports:{}},xA={};var NN;function hte(){return NN||(NN=1,(function(e){function t(z,X){var re=z.length;z.push(X);e:for(;0<re;){var j=re-1>>>1,le=z[j];if(0<i(le,X))z[j]=X,z[re]=le,re=j;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],re=z.pop();if(re!==X){z[0]=re;e:for(var j=0,le=z.length,q=le>>>1;j<q;){var R=2*(j+1)-1,G=z[R],K=R+1,Y=z[K];if(0>i(G,re))K<le&&0>i(Y,G)?(z[j]=Y,z[K]=re,j=K):(z[j]=G,z[R]=re,j=R);else if(K<le&&0>i(Y,re))z[j]=Y,z[K]=re,j=K;else break e}}return X}function i(z,X){var re=z.sortIndex-X.sortIndex;return re!==0?re:z.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var u=[],c=[],h=1,d=null,p=3,m=!1,y=!1,v=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var X=n(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=z)r(c),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(c)}}function D(z){if(v=!1,k(z),!y)if(n(u)!==null)y=!0,O||(O=!0,I());else{var X=n(c);X!==null&&H(D,X.startTime-z)}}var O=!1,T=-1,F=5,C=-1;function N(){return _?!0:!(e.unstable_now()-C<F)}function L(){if(_=!1,O){var z=e.unstable_now();C=z;var X=!0;try{e:{y=!1,v&&(v=!1,w(T),T=-1),m=!0;var re=p;try{t:{for(k(z),d=n(u);d!==null&&!(d.expirationTime>z&&N());){var j=d.callback;if(typeof j=="function"){d.callback=null,p=d.priorityLevel;var le=j(d.expirationTime<=z);if(z=e.unstable_now(),typeof le=="function"){d.callback=le,k(z),X=!0;break t}d===n(u)&&r(u),k(z)}else r(u);d=n(u)}if(d!==null)X=!0;else{var q=n(c);q!==null&&H(D,q.startTime-z),X=!1}}break e}finally{d=null,p=re,m=!1}X=void 0}}finally{X?I():O=!1}}}var I;if(typeof A=="function")I=function(){A(L)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=L,I=function(){J.postMessage(null)}}else I=function(){E(L,0)};function H(z,X){T=E(function(){z(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(z){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var re=p;p=X;try{return z()}finally{p=re}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=p;p=z;try{return X()}finally{p=re}},e.unstable_scheduleCallback=function(z,X,re){var j=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?j+re:j):re=j,z){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=re+le,z={id:h++,callback:X,priorityLevel:z,startTime:re,expirationTime:le,sortIndex:-1},re>j?(z.sortIndex=re,t(c,z),n(u)===null&&z===n(c)&&(v?(w(T),T=-1):v=!0,H(D,re-j))):(z.sortIndex=le,t(u,z),y||m||(y=!0,O||(O=!0,I()))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var X=p;return function(){var re=p;p=X;try{return z.apply(this,arguments)}finally{p=re}}}})(xA)),xA}var $N;function dte(){return $N||($N=1,mA.exports=hte()),mA.exports}var yA={exports:{}},Yr={};var LN;function gte(){if(LN)return Yr;LN=1;var e=V4();function t(u){var c="https://react.dev/errors/"+u;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,c,h){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:u,containerInfo:c,implementation:h}}var s=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,c){if(u==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return Yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yr.createPortal=function(u,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(t(299));return a(u,c,null,h)},Yr.flushSync=function(u){var c=s.T,h=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=c,r.p=h,r.d.f()}},Yr.preconnect=function(u,c){typeof u=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(u,c))},Yr.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},Yr.preinit=function(u,c){if(typeof u=="string"&&c&&typeof c.as=="string"){var h=c.as,d=o(h,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,m=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;h==="style"?r.d.S(u,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:m}):h==="script"&&r.d.X(u,{crossOrigin:d,integrity:p,fetchPriority:m,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},Yr.preinitModule=function(u,c){if(typeof u=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var h=o(c.as,c.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(u)},Yr.preload=function(u,c){if(typeof u=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var h=c.as,d=o(h,c.crossOrigin);r.d.L(u,h,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},Yr.preloadModule=function(u,c){if(typeof u=="string")if(c){var h=o(c.as,c.crossOrigin);r.d.m(u,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:h,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(u)},Yr.requestFormReset=function(u){r.d.r(u)},Yr.unstable_batchedUpdates=function(u,c){return u(c)},Yr.useFormState=function(u,c,h){return s.H.useFormState(u,c,h)},Yr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Yr.version="19.2.1",Yr}var IN;function pte(){if(IN)return yA.exports;IN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yA.exports=gte(),yA.exports}var zN;function mte(){if(zN)return h1;zN=1;var e=dte(),t=V4(),n=pte();function r(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var f=l,g=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(g=f.return),l=f.return;while(l)}return f.tag===3?g:null}function s(l){if(l.tag===13){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function o(l){if(l.tag===31){var f=l.memoizedState;if(f===null&&(l=l.alternate,l!==null&&(f=l.memoizedState)),f!==null)return f.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(r(188))}function c(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(r(188));return f!==l?null:l}for(var g=l,x=f;;){var b=g.return;if(b===null)break;var S=b.alternate;if(S===null){if(x=b.return,x!==null){g=x;continue}break}if(b.child===S.child){for(S=b.child;S;){if(S===g)return u(b),l;if(S===x)return u(b),f;S=S.sibling}throw Error(r(188))}if(g.return!==x.return)g=b,x=S;else{for(var M=!1,U=b.child;U;){if(U===g){M=!0,g=b,x=S;break}if(U===x){M=!0,x=b,g=S;break}U=U.sibling}if(!M){for(U=S.child;U;){if(U===g){M=!0,g=S,x=b;break}if(U===x){M=!0,x=S,g=b;break}U=U.sibling}if(!M)throw Error(r(189))}}if(g.alternate!==x)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?l:f}function h(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=h(l),f!==null)return f;l=l.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function I(l){return l===null||typeof l!="object"?null:(l=L&&l[L]||l["@@iterator"],typeof l=="function"?l:null)}var Q=Symbol.for("react.client.reference");function J(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Q?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case O:return"SuspenseList";case C:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case y:return"Portal";case A:return l.displayName||"Context";case w:return(l._context.displayName||"Context")+".Consumer";case k:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case T:return f=l.displayName||null,f!==null?f:J(l.type)||"Memo";case F:f=l._payload,l=l._init;try{return J(l(f))}catch{}}return null}var H=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},j=[],le=-1;function q(l){return{current:l}}function R(l){0>le||(l.current=j[le],j[le]=null,le--)}function G(l,f){le++,j[le]=l.current,l.current=f}var K=q(null),Y=q(null),se=q(null),ve=q(null);function _e(l,f){switch(G(se,f),G(Y,l),G(K,null),f.nodeType){case 9:case 11:l=(l=f.documentElement)&&(l=l.namespaceURI)?JR(l):0;break;default:if(l=f.tagName,f=f.namespaceURI)f=JR(f),l=eN(f,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}R(K),G(K,l)}function ae(){R(K),R(Y),R(se)}function ue(l){l.memoizedState!==null&&G(ve,l);var f=K.current,g=eN(f,l.type);f!==g&&(G(Y,l),G(K,g))}function ke(l){Y.current===l&&(R(K),R(Y)),ve.current===l&&(R(ve),o1._currentValue=re)}var P,Ze;function Le(l){if(P===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);P=f&&f[1]||"",Ze=-1<g.stack.indexOf(`
    at`)?" (<anonymous>)":-1<g.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+l+Ze}var He=!1;function Re(l,f){if(!l||He)return"";He=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(f){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(xe){var pe=xe}Reflect.construct(l,[],Ce)}else{try{Ce.call()}catch(xe){pe=xe}l.call(Ce.prototype)}}else{try{throw Error()}catch(xe){pe=xe}(Ce=l())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(xe){if(xe&&pe&&typeof xe.stack=="string")return[xe.stack,pe.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=x.DetermineComponentFrameRoot(),M=S[0],U=S[1];if(M&&U){var ne=M.split(`
`),fe=U.split(`
`);for(b=x=0;x<ne.length&&!ne[x].includes("DetermineComponentFrameRoot");)x++;for(;b<fe.length&&!fe[b].includes("DetermineComponentFrameRoot");)b++;if(x===ne.length||b===fe.length)for(x=ne.length-1,b=fe.length-1;1<=x&&0<=b&&ne[x]!==fe[b];)b--;for(;1<=x&&0<=b;x--,b--)if(ne[x]!==fe[b]){if(x!==1||b!==1)do if(x--,b--,0>b||ne[x]!==fe[b]){var Ee=`
`+ne[x].replace(" at new "," at ");return l.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",l.displayName)),Ee}while(1<=x&&0<=b);break}}}finally{He=!1,Error.prepareStackTrace=g}return(g=l?l.displayName||l.name:"")?Le(g):""}function Fe(l,f){switch(l.tag){case 26:case 27:case 5:return Le(l.type);case 16:return Le("Lazy");case 13:return l.child!==f&&f!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return Re(l.type,!1);case 11:return Re(l.type.render,!1);case 1:return Re(l.type,!0);case 31:return Le("Activity");default:return""}}function nt(l){try{var f="",g=null;do f+=Fe(l,g),g=l,l=l.return;while(l);return f}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var bt=Object.prototype.hasOwnProperty,$t=e.unstable_scheduleCallback,Kn=e.unstable_cancelCallback,xr=e.unstable_shouldYield,Xr=e.unstable_requestPaint,dt=e.unstable_now,Nn=e.unstable_getCurrentPriorityLevel,Yt=e.unstable_ImmediatePriority,Dn=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,Wr=e.unstable_LowPriority,gt=e.unstable_IdlePriority,Qt=e.log,yn=e.unstable_setDisableYieldValue,Vt=null,Sn=null;function ys(l){if(typeof Qt=="function"&&yn(l),Sn&&typeof Sn.setStrictMode=="function")try{Sn.setStrictMode(Vt,l)}catch{}}var xi=Math.clz32?Math.clz32:vx,rS=Math.log,yx=Math.LN2;function vx(l){return l>>>=0,l===0?32:31-(rS(l)/yx|0)|0}var Uc=256,P0=262144,U0=4194304;function $a(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function H0(l,f,g){var x=l.pendingLanes;if(x===0)return 0;var b=0,S=l.suspendedLanes,M=l.pingedLanes;l=l.warmLanes;var U=x&134217727;return U!==0?(x=U&~S,x!==0?b=$a(x):(M&=U,M!==0?b=$a(M):g||(g=U&~l,g!==0&&(b=$a(g))))):(U=x&~S,U!==0?b=$a(U):M!==0?b=$a(M):g||(g=x&~l,g!==0&&(b=$a(g)))),b===0?0:f!==0&&f!==b&&(f&S)===0&&(S=b&-b,g=f&-f,S>=g||S===32&&(g&4194048)!==0)?f:b}function Hc(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function iS(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _x(){var l=U0;return U0<<=1,(U0&62914560)===0&&(U0=4194304),l}function _g(l){for(var f=[],g=0;31>g;g++)f.push(l);return f}function jc(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function aS(l,f,g,x,b,S){var M=l.pendingLanes;l.pendingLanes=g,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=g,l.entangledLanes&=g,l.errorRecoveryDisabledLanes&=g,l.shellSuspendCounter=0;var U=l.entanglements,ne=l.expirationTimes,fe=l.hiddenUpdates;for(g=M&~g;0<g;){var Ee=31-xi(g),Ce=1<<Ee;U[Ee]=0,ne[Ee]=-1;var pe=fe[Ee];if(pe!==null)for(fe[Ee]=null,Ee=0;Ee<pe.length;Ee++){var xe=pe[Ee];xe!==null&&(xe.lane&=-536870913)}g&=~Ce}x!==0&&bx(l,x,0),S!==0&&b===0&&l.tag!==0&&(l.suspendedLanes|=S&~(M&~f))}function bx(l,f,g){l.pendingLanes|=f,l.suspendedLanes&=~f;var x=31-xi(f);l.entangledLanes|=f,l.entanglements[x]=l.entanglements[x]|1073741824|g&261930}function j0(l,f){var g=l.entangledLanes|=f;for(l=l.entanglements;g;){var x=31-xi(g),b=1<<x;b&f|l[x]&f&&(l[x]|=f),g&=~b}}function Ex(l,f){var g=f&-f;return g=(g&42)!==0?1:bg(g),(g&(l.suspendedLanes|f))!==0?0:g}function bg(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function Eg(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function B(){var l=X.p;return l!==0?l:(l=window.event,l===void 0?32:SN(l.type))}function ee(l,f){var g=X.p;try{return X.p=l,f()}finally{X.p=g}}var V=Math.random().toString(36).slice(2),W="__reactFiber$"+V,Z="__reactProps$"+V,te="__reactContainer$"+V,he="__reactEvents$"+V,we="__reactListeners$"+V,de="__reactHandles$"+V,ge="__reactResources$"+V,me="__reactMarker$"+V;function Me(l){delete l[W],delete l[Z],delete l[he],delete l[we],delete l[de]}function Pe(l){var f=l[W];if(f)return f;for(var g=l.parentNode;g;){if(f=g[te]||g[W]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(l=oN(l);l!==null;){if(g=l[W])return g;l=oN(l)}return f}l=g,g=l.parentNode}return null}function Xe(l){if(l=l[W]||l[te]){var f=l.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return l}return null}function Ie(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l.stateNode;throw Error(r(33))}function je(l){var f=l[ge];return f||(f=l[ge]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Ke(l){l[me]=!0}var gn=new Set,pn={};function wn(l,f){La(l,f),La(l+"Capture",f)}function La(l,f){for(pn[l]=f,l=0;l<f.length;l++)gn.add(f[l])}var qc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},io={};function Sg(l){return bt.call(io,l)?!0:bt.call(lu,l)?!1:qc.test(l)?io[l]=!0:(lu[l]=!0,!1)}function Hi(l,f,g){if(Sg(f))if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":l.removeAttribute(f);return;case"boolean":var x=f.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(f);return}}l.setAttribute(f,""+g)}}function Sx(l,f,g){if(g===null)l.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(f);return}l.setAttribute(f,""+g)}}function tl(l,f,g,x){if(x===null)l.removeAttribute(g);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(g);return}l.setAttributeNS(f,g,""+x)}}function Ia(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function GO(l){var f=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function tJ(l,f,g){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,f);if(!l.hasOwnProperty(f)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var b=x.get,S=x.set;return Object.defineProperty(l,f,{configurable:!0,get:function(){return b.call(this)},set:function(M){g=""+M,S.call(this,M)}}),Object.defineProperty(l,f,{enumerable:x.enumerable}),{getValue:function(){return g},setValue:function(M){g=""+M},stopTracking:function(){l._valueTracker=null,delete l[f]}}}}function sS(l){if(!l._valueTracker){var f=GO(l)?"checked":"value";l._valueTracker=tJ(l,f,""+l[f])}}function VO(l){if(!l)return!1;var f=l._valueTracker;if(!f)return!0;var g=f.getValue(),x="";return l&&(x=GO(l)?l.checked?"true":"false":l.value),l=x,l!==g?(f.setValue(l),!0):!1}function wx(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var nJ=/[\n"\\]/g;function za(l){return l.replace(nJ,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function oS(l,f,g,x,b,S,M,U){l.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?l.type=M:l.removeAttribute("type"),f!=null?M==="number"?(f===0&&l.value===""||l.value!=f)&&(l.value=""+Ia(f)):l.value!==""+Ia(f)&&(l.value=""+Ia(f)):M!=="submit"&&M!=="reset"||l.removeAttribute("value"),f!=null?lS(l,M,Ia(f)):g!=null?lS(l,M,Ia(g)):x!=null&&l.removeAttribute("value"),b==null&&S!=null&&(l.defaultChecked=!!S),b!=null&&(l.checked=b&&typeof b!="function"&&typeof b!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?l.name=""+Ia(U):l.removeAttribute("name")}function XO(l,f,g,x,b,S,M,U){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(l.type=S),f!=null||g!=null){if(!(S!=="submit"&&S!=="reset"||f!=null)){sS(l);return}g=g!=null?""+Ia(g):"",f=f!=null?""+Ia(f):g,U||f===l.value||(l.value=f),l.defaultValue=f}x=x??b,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=U?l.checked:!!x,l.defaultChecked=!!x,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(l.name=M),sS(l)}function lS(l,f,g){f==="number"&&wx(l.ownerDocument)===l||l.defaultValue===""+g||(l.defaultValue=""+g)}function q0(l,f,g,x){if(l=l.options,f){f={};for(var b=0;b<g.length;b++)f["$"+g[b]]=!0;for(g=0;g<l.length;g++)b=f.hasOwnProperty("$"+l[g].value),l[g].selected!==b&&(l[g].selected=b),b&&x&&(l[g].defaultSelected=!0)}else{for(g=""+Ia(g),f=null,b=0;b<l.length;b++){if(l[b].value===g){l[b].selected=!0,x&&(l[b].defaultSelected=!0);return}f!==null||l[b].disabled||(f=l[b])}f!==null&&(f.selected=!0)}}function WO(l,f,g){if(f!=null&&(f=""+Ia(f),f!==l.value&&(l.value=f),g==null)){l.defaultValue!==f&&(l.defaultValue=f);return}l.defaultValue=g!=null?""+Ia(g):""}function YO(l,f,g,x){if(f==null){if(x!=null){if(g!=null)throw Error(r(92));if(H(x)){if(1<x.length)throw Error(r(93));x=x[0]}g=x}g==null&&(g=""),f=g}g=Ia(f),l.defaultValue=g,x=l.textContent,x===g&&x!==""&&x!==null&&(l.value=x),sS(l)}function G0(l,f){if(f){var g=l.firstChild;if(g&&g===l.lastChild&&g.nodeType===3){g.nodeValue=f;return}}l.textContent=f}var rJ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function KO(l,f,g){var x=f.indexOf("--")===0;g==null||typeof g=="boolean"||g===""?x?l.setProperty(f,""):f==="float"?l.cssFloat="":l[f]="":x?l.setProperty(f,g):typeof g!="number"||g===0||rJ.has(f)?f==="float"?l.cssFloat=g:l[f]=(""+g).trim():l[f]=g+"px"}function QO(l,f,g){if(f!=null&&typeof f!="object")throw Error(r(62));if(l=l.style,g!=null){for(var x in g)!g.hasOwnProperty(x)||f!=null&&f.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var b in f)x=f[b],f.hasOwnProperty(b)&&g[b]!==x&&KO(l,b,x)}else for(var S in f)f.hasOwnProperty(S)&&KO(l,S,f[S])}function uS(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var iJ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),aJ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ax(l){return aJ.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function nl(){}var cS=null;function fS(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var V0=null,X0=null;function ZO(l){var f=Xe(l);if(f&&(l=f.stateNode)){var g=l[Z]||null;e:switch(l=f.stateNode,f.type){case"input":if(oS(l,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type==="radio"&&f!=null){for(g=l;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name="'+za(""+f)+'"][type="radio"]'),f=0;f<g.length;f++){var x=g[f];if(x!==l&&x.form===l.form){var b=x[Z]||null;if(!b)throw Error(r(90));oS(x,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(f=0;f<g.length;f++)x=g[f],x.form===l.form&&VO(x)}break e;case"textarea":WO(l,g.value,g.defaultValue);break e;case"select":f=g.value,f!=null&&q0(l,!!g.multiple,f,!1)}}}var hS=!1;function JO(l,f,g){if(hS)return l(f,g);hS=!0;try{var x=l(f);return x}finally{if(hS=!1,(V0!==null||X0!==null)&&(hy(),V0&&(f=V0,l=X0,X0=V0=null,ZO(f),l)))for(f=0;f<l.length;f++)ZO(l[f])}}function wg(l,f){var g=l.stateNode;if(g===null)return null;var x=g[Z]||null;if(x===null)return null;g=x[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(g&&typeof g!="function")throw Error(r(231,f,typeof g));return g}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dS=!1;if(rl)try{var Ag={};Object.defineProperty(Ag,"passive",{get:function(){dS=!0}}),window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{dS=!1}var uu=null,gS=null,Tx=null;function e8(){if(Tx)return Tx;var l,f=gS,g=f.length,x,b="value"in uu?uu.value:uu.textContent,S=b.length;for(l=0;l<g&&f[l]===b[l];l++);var M=g-l;for(x=1;x<=M&&f[g-x]===b[S-x];x++);return Tx=b.slice(l,1<x?1-x:void 0)}function kx(l){var f=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&f===13&&(l=13)):l=f,l===10&&(l=13),32<=l||l===13?l:0}function Cx(){return!0}function t8(){return!1}function ji(l){function f(g,x,b,S,M){this._reactName=g,this._targetInst=b,this.type=x,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var U in l)l.hasOwnProperty(U)&&(g=l[U],this[U]=g?g(S):S[U]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Cx:t8,this.isPropagationStopped=t8,this}return d(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Cx)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Cx)},persist:function(){},isPersistent:Cx}),f}var Gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fx=ji(Gc),Tg=d({},Gc,{view:0,detail:0}),sJ=ji(Tg),pS,mS,kg,Dx=d({},Tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yS,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==kg&&(kg&&l.type==="mousemove"?(pS=l.screenX-kg.screenX,mS=l.screenY-kg.screenY):mS=pS=0,kg=l),pS)},movementY:function(l){return"movementY"in l?l.movementY:mS}}),n8=ji(Dx),oJ=d({},Dx,{dataTransfer:0}),lJ=ji(oJ),uJ=d({},Tg,{relatedTarget:0}),xS=ji(uJ),cJ=d({},Gc,{animationName:0,elapsedTime:0,pseudoElement:0}),fJ=ji(cJ),hJ=d({},Gc,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),dJ=ji(hJ),gJ=d({},Gc,{data:0}),r8=ji(gJ),pJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yJ(l){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(l):(l=xJ[l])?!!f[l]:!1}function yS(){return yJ}var vJ=d({},Tg,{key:function(l){if(l.key){var f=pJ[l.key]||l.key;if(f!=="Unidentified")return f}return l.type==="keypress"?(l=kx(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?mJ[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yS,charCode:function(l){return l.type==="keypress"?kx(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?kx(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),_J=ji(vJ),bJ=d({},Dx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i8=ji(bJ),EJ=d({},Tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yS}),SJ=ji(EJ),wJ=d({},Gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),AJ=ji(wJ),TJ=d({},Dx,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),kJ=ji(TJ),CJ=d({},Gc,{newState:0,oldState:0}),FJ=ji(CJ),DJ=[9,13,27,32],vS=rl&&"CompositionEvent"in window,Cg=null;rl&&"documentMode"in document&&(Cg=document.documentMode);var OJ=rl&&"TextEvent"in window&&!Cg,a8=rl&&(!vS||Cg&&8<Cg&&11>=Cg),s8=" ",o8=!1;function l8(l,f){switch(l){case"keyup":return DJ.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u8(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var W0=!1;function MJ(l,f){switch(l){case"compositionend":return u8(f);case"keypress":return f.which!==32?null:(o8=!0,s8);case"textInput":return l=f.data,l===s8&&o8?null:l;default:return null}}function RJ(l,f){if(W0)return l==="compositionend"||!vS&&l8(l,f)?(l=e8(),Tx=gS=uu=null,W0=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return a8&&f.locale!=="ko"?null:f.data;default:return null}}var NJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c8(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f==="input"?!!NJ[l.type]:f==="textarea"}function f8(l,f,g,x){V0?X0?X0.push(x):X0=[x]:V0=x,f=vy(f,"onChange"),0<f.length&&(g=new Fx("onChange","change",null,g,x),l.push({event:g,listeners:f}))}var Fg=null,Dg=null;function $J(l){XR(l,0)}function Ox(l){var f=Ie(l);if(VO(f))return l}function h8(l,f){if(l==="change")return f}var d8=!1;if(rl){var _S;if(rl){var bS="oninput"in document;if(!bS){var g8=document.createElement("div");g8.setAttribute("oninput","return;"),bS=typeof g8.oninput=="function"}_S=bS}else _S=!1;d8=_S&&(!document.documentMode||9<document.documentMode)}function p8(){Fg&&(Fg.detachEvent("onpropertychange",m8),Dg=Fg=null)}function m8(l){if(l.propertyName==="value"&&Ox(Dg)){var f=[];f8(f,Dg,l,fS(l)),JO($J,f)}}function LJ(l,f,g){l==="focusin"?(p8(),Fg=f,Dg=g,Fg.attachEvent("onpropertychange",m8)):l==="focusout"&&p8()}function IJ(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Ox(Dg)}function zJ(l,f){if(l==="click")return Ox(f)}function BJ(l,f){if(l==="input"||l==="change")return Ox(f)}function PJ(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}var ca=typeof Object.is=="function"?Object.is:PJ;function Og(l,f){if(ca(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var g=Object.keys(l),x=Object.keys(f);if(g.length!==x.length)return!1;for(x=0;x<g.length;x++){var b=g[x];if(!bt.call(f,b)||!ca(l[b],f[b]))return!1}return!0}function x8(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function y8(l,f){var g=x8(l);l=0;for(var x;g;){if(g.nodeType===3){if(x=l+g.textContent.length,l<=f&&x>=f)return{node:g,offset:f-l};l=x}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=x8(g)}}function v8(l,f){return l&&f?l===f?!0:l&&l.nodeType===3?!1:f&&f.nodeType===3?v8(l,f.parentNode):"contains"in l?l.contains(f):l.compareDocumentPosition?!!(l.compareDocumentPosition(f)&16):!1:!1}function _8(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var f=wx(l.document);f instanceof l.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)l=f.contentWindow;else break;f=wx(l.document)}return f}function ES(l){var f=l&&l.nodeName&&l.nodeName.toLowerCase();return f&&(f==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||f==="textarea"||l.contentEditable==="true")}var UJ=rl&&"documentMode"in document&&11>=document.documentMode,Y0=null,SS=null,Mg=null,wS=!1;function b8(l,f,g){var x=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;wS||Y0==null||Y0!==wx(x)||(x=Y0,"selectionStart"in x&&ES(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Mg&&Og(Mg,x)||(Mg=x,x=vy(SS,"onSelect"),0<x.length&&(f=new Fx("onSelect","select",null,f,g),l.push({event:f,listeners:x}),f.target=Y0)))}function Vc(l,f){var g={};return g[l.toLowerCase()]=f.toLowerCase(),g["Webkit"+l]="webkit"+f,g["Moz"+l]="moz"+f,g}var K0={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionrun:Vc("Transition","TransitionRun"),transitionstart:Vc("Transition","TransitionStart"),transitioncancel:Vc("Transition","TransitionCancel"),transitionend:Vc("Transition","TransitionEnd")},AS={},E8={};rl&&(E8=document.createElement("div").style,"AnimationEvent"in window||(delete K0.animationend.animation,delete K0.animationiteration.animation,delete K0.animationstart.animation),"TransitionEvent"in window||delete K0.transitionend.transition);function Xc(l){if(AS[l])return AS[l];if(!K0[l])return l;var f=K0[l],g;for(g in f)if(f.hasOwnProperty(g)&&g in E8)return AS[l]=f[g];return l}var S8=Xc("animationend"),w8=Xc("animationiteration"),A8=Xc("animationstart"),HJ=Xc("transitionrun"),jJ=Xc("transitionstart"),qJ=Xc("transitioncancel"),T8=Xc("transitionend"),k8=new Map,TS="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");TS.push("scrollEnd");function vs(l,f){k8.set(l,f),wn(f,[l])}var Mx=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ba=[],Q0=0,kS=0;function Rx(){for(var l=Q0,f=kS=Q0=0;f<l;){var g=Ba[f];Ba[f++]=null;var x=Ba[f];Ba[f++]=null;var b=Ba[f];Ba[f++]=null;var S=Ba[f];if(Ba[f++]=null,x!==null&&b!==null){var M=x.pending;M===null?b.next=b:(b.next=M.next,M.next=b),x.pending=b}S!==0&&C8(g,b,S)}}function Nx(l,f,g,x){Ba[Q0++]=l,Ba[Q0++]=f,Ba[Q0++]=g,Ba[Q0++]=x,kS|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function CS(l,f,g,x){return Nx(l,f,g,x),$x(l)}function Wc(l,f){return Nx(l,null,null,f),$x(l)}function C8(l,f,g){l.lanes|=g;var x=l.alternate;x!==null&&(x.lanes|=g);for(var b=!1,S=l.return;S!==null;)S.childLanes|=g,x=S.alternate,x!==null&&(x.childLanes|=g),S.tag===22&&(l=S.stateNode,l===null||l._visibility&1||(b=!0)),l=S,S=S.return;return l.tag===3?(S=l.stateNode,b&&f!==null&&(b=31-xi(g),l=S.hiddenUpdates,x=l[b],x===null?l[b]=[f]:x.push(f),f.lane=g|536870912),S):null}function $x(l){if(50<e1)throw e1=0,Iw=null,Error(r(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}var Z0={};function GJ(l,f,g,x){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(l,f,g,x){return new GJ(l,f,g,x)}function FS(l){return l=l.prototype,!(!l||!l.isReactComponent)}function il(l,f){var g=l.alternate;return g===null?(g=fa(l.tag,f,l.key,l.mode),g.elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=f,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=l.flags&65011712,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,f=l.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g.refCleanup=l.refCleanup,g}function F8(l,f){l.flags&=65011714;var g=l.alternate;return g===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=g.childLanes,l.lanes=g.lanes,l.child=g.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=g.memoizedProps,l.memoizedState=g.memoizedState,l.updateQueue=g.updateQueue,l.type=g.type,f=g.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function Lx(l,f,g,x,b,S){var M=0;if(x=l,typeof l=="function")FS(l)&&(M=1);else if(typeof l=="string")M=Kee(l,g,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case C:return l=fa(31,g,f,b),l.elementType=C,l.lanes=S,l;case v:return Yc(g.children,b,S,f);case _:M=8,b|=24;break;case E:return l=fa(12,g,f,b|2),l.elementType=E,l.lanes=S,l;case D:return l=fa(13,g,f,b),l.elementType=D,l.lanes=S,l;case O:return l=fa(19,g,f,b),l.elementType=O,l.lanes=S,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case A:M=10;break e;case w:M=9;break e;case k:M=11;break e;case T:M=14;break e;case F:M=16,x=null;break e}M=29,g=Error(r(130,l===null?"null":typeof l,"")),x=null}return f=fa(M,g,f,b),f.elementType=l,f.type=x,f.lanes=S,f}function Yc(l,f,g,x){return l=fa(7,l,x,f),l.lanes=g,l}function DS(l,f,g){return l=fa(6,l,null,f),l.lanes=g,l}function D8(l){var f=fa(18,null,null,0);return f.stateNode=l,f}function OS(l,f,g){return f=fa(4,l.children!==null?l.children:[],l.key,f),f.lanes=g,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}var O8=new WeakMap;function Pa(l,f){if(typeof l=="object"&&l!==null){var g=O8.get(l);return g!==void 0?g:(f={value:l,source:f,stack:nt(f)},O8.set(l,f),f)}return{value:l,source:f,stack:nt(f)}}var J0=[],eh=0,Ix=null,Rg=0,Ua=[],Ha=0,cu=null,ao=1,so="";function al(l,f){J0[eh++]=Rg,J0[eh++]=Ix,Ix=l,Rg=f}function M8(l,f,g){Ua[Ha++]=ao,Ua[Ha++]=so,Ua[Ha++]=cu,cu=l;var x=ao;l=so;var b=32-xi(x)-1;x&=~(1<<b),g+=1;var S=32-xi(f)+b;if(30<S){var M=b-b%5;S=(x&(1<<M)-1).toString(32),x>>=M,b-=M,ao=1<<32-xi(f)+b|g<<b|x,so=S+l}else ao=1<<S|g<<b|x,so=l}function MS(l){l.return!==null&&(al(l,1),M8(l,1,0))}function RS(l){for(;l===Ix;)Ix=J0[--eh],J0[eh]=null,Rg=J0[--eh],J0[eh]=null;for(;l===cu;)cu=Ua[--Ha],Ua[Ha]=null,so=Ua[--Ha],Ua[Ha]=null,ao=Ua[--Ha],Ua[Ha]=null}function R8(l,f){Ua[Ha++]=ao,Ua[Ha++]=so,Ua[Ha++]=cu,ao=f.id,so=f.overflow,cu=l}var Or=null,vn=null,Ot=!1,fu=null,ja=!1,NS=Error(r(519));function hu(l){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ng(Pa(f,l)),NS}function N8(l){var f=l.stateNode,g=l.type,x=l.memoizedProps;switch(f[W]=l,f[Z]=x,g){case"dialog":kt("cancel",f),kt("close",f);break;case"iframe":case"object":case"embed":kt("load",f);break;case"video":case"audio":for(g=0;g<n1.length;g++)kt(n1[g],f);break;case"source":kt("error",f);break;case"img":case"image":case"link":kt("error",f),kt("load",f);break;case"details":kt("toggle",f);break;case"input":kt("invalid",f),XO(f,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":kt("invalid",f);break;case"textarea":kt("invalid",f),YO(f,x.value,x.defaultValue,x.children)}g=x.children,typeof g!="string"&&typeof g!="number"&&typeof g!="bigint"||f.textContent===""+g||x.suppressHydrationWarning===!0||QR(f.textContent,g)?(x.popover!=null&&(kt("beforetoggle",f),kt("toggle",f)),x.onScroll!=null&&kt("scroll",f),x.onScrollEnd!=null&&kt("scrollend",f),x.onClick!=null&&(f.onclick=nl),f=!0):f=!1,f||hu(l,!0)}function $8(l){for(Or=l.return;Or;)switch(Or.tag){case 5:case 31:case 13:ja=!1;return;case 27:case 3:ja=!0;return;default:Or=Or.return}}function th(l){if(l!==Or)return!1;if(!Ot)return $8(l),Ot=!0,!1;var f=l.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=l.type,g=!(g!=="form"&&g!=="button")||Zw(l.type,l.memoizedProps)),g=!g),g&&vn&&hu(l),$8(l),f===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));vn=sN(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));vn=sN(l)}else f===27?(f=vn,Tu(l.type)?(l=rA,rA=null,vn=l):vn=f):vn=Or?Ga(l.stateNode.nextSibling):null;return!0}function Kc(){vn=Or=null,Ot=!1}function $S(){var l=fu;return l!==null&&(Xi===null?Xi=l:Xi.push.apply(Xi,l),fu=null),l}function Ng(l){fu===null?fu=[l]:fu.push(l)}var LS=q(null),Qc=null,sl=null;function du(l,f,g){G(LS,f._currentValue),f._currentValue=g}function ol(l){l._currentValue=LS.current,R(LS)}function IS(l,f,g){for(;l!==null;){var x=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,x!==null&&(x.childLanes|=f)):x!==null&&(x.childLanes&f)!==f&&(x.childLanes|=f),l===g)break;l=l.return}}function zS(l,f,g,x){var b=l.child;for(b!==null&&(b.return=l);b!==null;){var S=b.dependencies;if(S!==null){var M=b.child;S=S.firstContext;e:for(;S!==null;){var U=S;S=b;for(var ne=0;ne<f.length;ne++)if(U.context===f[ne]){S.lanes|=g,U=S.alternate,U!==null&&(U.lanes|=g),IS(S.return,g,l),x||(M=null);break e}S=U.next}}else if(b.tag===18){if(M=b.return,M===null)throw Error(r(341));M.lanes|=g,S=M.alternate,S!==null&&(S.lanes|=g),IS(M,g,l),M=null}else M=b.child;if(M!==null)M.return=b;else for(M=b;M!==null;){if(M===l){M=null;break}if(b=M.sibling,b!==null){b.return=M.return,M=b;break}M=M.return}b=M}}function nh(l,f,g,x){l=null;for(var b=f,S=!1;b!==null;){if(!S){if((b.flags&524288)!==0)S=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var M=b.alternate;if(M===null)throw Error(r(387));if(M=M.memoizedProps,M!==null){var U=b.type;ca(b.pendingProps.value,M.value)||(l!==null?l.push(U):l=[U])}}else if(b===ve.current){if(M=b.alternate,M===null)throw Error(r(387));M.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(l!==null?l.push(o1):l=[o1])}b=b.return}l!==null&&zS(f,l,g,x),f.flags|=262144}function zx(l){for(l=l.firstContext;l!==null;){if(!ca(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Zc(l){Qc=l,sl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function Mr(l){return L8(Qc,l)}function Bx(l,f){return Qc===null&&Zc(l),L8(l,f)}function L8(l,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},sl===null){if(l===null)throw Error(r(308));sl=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else sl=sl.next=f;return g}var VJ=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(g,x){l.push(x)}};this.abort=function(){f.aborted=!0,l.forEach(function(g){return g()})}},XJ=e.unstable_scheduleCallback,WJ=e.unstable_NormalPriority,Qn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function BS(){return{controller:new VJ,data:new Map,refCount:0}}function $g(l){l.refCount--,l.refCount===0&&XJ(WJ,function(){l.controller.abort()})}var Lg=null,PS=0,rh=0,ih=null;function YJ(l,f){if(Lg===null){var g=Lg=[];PS=0,rh=jw(),ih={status:"pending",value:void 0,then:function(x){g.push(x)}}}return PS++,f.then(I8,I8),f}function I8(){if(--PS===0&&Lg!==null){ih!==null&&(ih.status="fulfilled");var l=Lg;Lg=null,rh=0,ih=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function KJ(l,f){var g=[],x={status:"pending",value:null,reason:null,then:function(b){g.push(b)}};return l.then(function(){x.status="fulfilled",x.value=f;for(var b=0;b<g.length;b++)(0,g[b])(f)},function(b){for(x.status="rejected",x.reason=b,b=0;b<g.length;b++)(0,g[b])(void 0)}),x}var z8=z.S;z.S=function(l,f){bR=dt(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&YJ(l,f),z8!==null&&z8(l,f)};var Jc=q(null);function US(){var l=Jc.current;return l!==null?l:fn.pooledCache}function Px(l,f){f===null?G(Jc,Jc.current):G(Jc,f.pool)}function B8(){var l=US();return l===null?null:{parent:Qn._currentValue,pool:l}}var ah=Error(r(460)),HS=Error(r(474)),Ux=Error(r(542)),Hx={then:function(){}};function P8(l){return l=l.status,l==="fulfilled"||l==="rejected"}function U8(l,f,g){switch(g=l[g],g===void 0?l.push(f):g!==f&&(f.then(nl,nl),f=g),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,j8(l),l;default:if(typeof f.status=="string")f.then(nl,nl);else{if(l=fn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=f,l.status="pending",l.then(function(x){if(f.status==="pending"){var b=f;b.status="fulfilled",b.value=x}},function(x){if(f.status==="pending"){var b=f;b.status="rejected",b.reason=x}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,j8(l),l}throw tf=f,ah}}function ef(l){try{var f=l._init;return f(l._payload)}catch(g){throw g!==null&&typeof g=="object"&&typeof g.then=="function"?(tf=g,ah):g}}var tf=null;function H8(){if(tf===null)throw Error(r(459));var l=tf;return tf=null,l}function j8(l){if(l===ah||l===Ux)throw Error(r(483))}var sh=null,Ig=0;function jx(l){var f=Ig;return Ig+=1,sh===null&&(sh=[]),U8(sh,l,f)}function zg(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function qx(l,f){throw f.$$typeof===p?Error(r(525)):(l=Object.prototype.toString.call(f),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function q8(l){function f(oe,ie){if(l){var ce=oe.deletions;ce===null?(oe.deletions=[ie],oe.flags|=16):ce.push(ie)}}function g(oe,ie){if(!l)return null;for(;ie!==null;)f(oe,ie),ie=ie.sibling;return null}function x(oe){for(var ie=new Map;oe!==null;)oe.key!==null?ie.set(oe.key,oe):ie.set(oe.index,oe),oe=oe.sibling;return ie}function b(oe,ie){return oe=il(oe,ie),oe.index=0,oe.sibling=null,oe}function S(oe,ie,ce){return oe.index=ce,l?(ce=oe.alternate,ce!==null?(ce=ce.index,ce<ie?(oe.flags|=67108866,ie):ce):(oe.flags|=67108866,ie)):(oe.flags|=1048576,ie)}function M(oe){return l&&oe.alternate===null&&(oe.flags|=67108866),oe}function U(oe,ie,ce,Te){return ie===null||ie.tag!==6?(ie=DS(ce,oe.mode,Te),ie.return=oe,ie):(ie=b(ie,ce),ie.return=oe,ie)}function ne(oe,ie,ce,Te){var st=ce.type;return st===v?Ee(oe,ie,ce.props.children,Te,ce.key):ie!==null&&(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===F&&ef(st)===ie.type)?(ie=b(ie,ce.props),zg(ie,ce),ie.return=oe,ie):(ie=Lx(ce.type,ce.key,ce.props,null,oe.mode,Te),zg(ie,ce),ie.return=oe,ie)}function fe(oe,ie,ce,Te){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==ce.containerInfo||ie.stateNode.implementation!==ce.implementation?(ie=OS(ce,oe.mode,Te),ie.return=oe,ie):(ie=b(ie,ce.children||[]),ie.return=oe,ie)}function Ee(oe,ie,ce,Te,st){return ie===null||ie.tag!==7?(ie=Yc(ce,oe.mode,Te,st),ie.return=oe,ie):(ie=b(ie,ce),ie.return=oe,ie)}function Ce(oe,ie,ce){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=DS(""+ie,oe.mode,ce),ie.return=oe,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case m:return ce=Lx(ie.type,ie.key,ie.props,null,oe.mode,ce),zg(ce,ie),ce.return=oe,ce;case y:return ie=OS(ie,oe.mode,ce),ie.return=oe,ie;case F:return ie=ef(ie),Ce(oe,ie,ce)}if(H(ie)||I(ie))return ie=Yc(ie,oe.mode,ce,null),ie.return=oe,ie;if(typeof ie.then=="function")return Ce(oe,jx(ie),ce);if(ie.$$typeof===A)return Ce(oe,Bx(oe,ie),ce);qx(oe,ie)}return null}function pe(oe,ie,ce,Te){var st=ie!==null?ie.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return st!==null?null:U(oe,ie,""+ce,Te);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case m:return ce.key===st?ne(oe,ie,ce,Te):null;case y:return ce.key===st?fe(oe,ie,ce,Te):null;case F:return ce=ef(ce),pe(oe,ie,ce,Te)}if(H(ce)||I(ce))return st!==null?null:Ee(oe,ie,ce,Te,null);if(typeof ce.then=="function")return pe(oe,ie,jx(ce),Te);if(ce.$$typeof===A)return pe(oe,ie,Bx(oe,ce),Te);qx(oe,ce)}return null}function xe(oe,ie,ce,Te,st){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return oe=oe.get(ce)||null,U(ie,oe,""+Te,st);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case m:return oe=oe.get(Te.key===null?ce:Te.key)||null,ne(ie,oe,Te,st);case y:return oe=oe.get(Te.key===null?ce:Te.key)||null,fe(ie,oe,Te,st);case F:return Te=ef(Te),xe(oe,ie,ce,Te,st)}if(H(Te)||I(Te))return oe=oe.get(ce)||null,Ee(ie,oe,Te,st,null);if(typeof Te.then=="function")return xe(oe,ie,ce,jx(Te),st);if(Te.$$typeof===A)return xe(oe,ie,ce,Bx(ie,Te),st);qx(ie,Te)}return null}function Ye(oe,ie,ce,Te){for(var st=null,Pt=null,Je=ie,Et=ie=0,Ft=null;Je!==null&&Et<ce.length;Et++){Je.index>Et?(Ft=Je,Je=null):Ft=Je.sibling;var Ut=pe(oe,Je,ce[Et],Te);if(Ut===null){Je===null&&(Je=Ft);break}l&&Je&&Ut.alternate===null&&f(oe,Je),ie=S(Ut,ie,Et),Pt===null?st=Ut:Pt.sibling=Ut,Pt=Ut,Je=Ft}if(Et===ce.length)return g(oe,Je),Ot&&al(oe,Et),st;if(Je===null){for(;Et<ce.length;Et++)Je=Ce(oe,ce[Et],Te),Je!==null&&(ie=S(Je,ie,Et),Pt===null?st=Je:Pt.sibling=Je,Pt=Je);return Ot&&al(oe,Et),st}for(Je=x(Je);Et<ce.length;Et++)Ft=xe(Je,oe,Et,ce[Et],Te),Ft!==null&&(l&&Ft.alternate!==null&&Je.delete(Ft.key===null?Et:Ft.key),ie=S(Ft,ie,Et),Pt===null?st=Ft:Pt.sibling=Ft,Pt=Ft);return l&&Je.forEach(function(Ou){return f(oe,Ou)}),Ot&&al(oe,Et),st}function ut(oe,ie,ce,Te){if(ce==null)throw Error(r(151));for(var st=null,Pt=null,Je=ie,Et=ie=0,Ft=null,Ut=ce.next();Je!==null&&!Ut.done;Et++,Ut=ce.next()){Je.index>Et?(Ft=Je,Je=null):Ft=Je.sibling;var Ou=pe(oe,Je,Ut.value,Te);if(Ou===null){Je===null&&(Je=Ft);break}l&&Je&&Ou.alternate===null&&f(oe,Je),ie=S(Ou,ie,Et),Pt===null?st=Ou:Pt.sibling=Ou,Pt=Ou,Je=Ft}if(Ut.done)return g(oe,Je),Ot&&al(oe,Et),st;if(Je===null){for(;!Ut.done;Et++,Ut=ce.next())Ut=Ce(oe,Ut.value,Te),Ut!==null&&(ie=S(Ut,ie,Et),Pt===null?st=Ut:Pt.sibling=Ut,Pt=Ut);return Ot&&al(oe,Et),st}for(Je=x(Je);!Ut.done;Et++,Ut=ce.next())Ut=xe(Je,oe,Et,Ut.value,Te),Ut!==null&&(l&&Ut.alternate!==null&&Je.delete(Ut.key===null?Et:Ut.key),ie=S(Ut,ie,Et),Pt===null?st=Ut:Pt.sibling=Ut,Pt=Ut);return l&&Je.forEach(function(ote){return f(oe,ote)}),Ot&&al(oe,Et),st}function un(oe,ie,ce,Te){if(typeof ce=="object"&&ce!==null&&ce.type===v&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case m:e:{for(var st=ce.key;ie!==null;){if(ie.key===st){if(st=ce.type,st===v){if(ie.tag===7){g(oe,ie.sibling),Te=b(ie,ce.props.children),Te.return=oe,oe=Te;break e}}else if(ie.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===F&&ef(st)===ie.type){g(oe,ie.sibling),Te=b(ie,ce.props),zg(Te,ce),Te.return=oe,oe=Te;break e}g(oe,ie);break}else f(oe,ie);ie=ie.sibling}ce.type===v?(Te=Yc(ce.props.children,oe.mode,Te,ce.key),Te.return=oe,oe=Te):(Te=Lx(ce.type,ce.key,ce.props,null,oe.mode,Te),zg(Te,ce),Te.return=oe,oe=Te)}return M(oe);case y:e:{for(st=ce.key;ie!==null;){if(ie.key===st)if(ie.tag===4&&ie.stateNode.containerInfo===ce.containerInfo&&ie.stateNode.implementation===ce.implementation){g(oe,ie.sibling),Te=b(ie,ce.children||[]),Te.return=oe,oe=Te;break e}else{g(oe,ie);break}else f(oe,ie);ie=ie.sibling}Te=OS(ce,oe.mode,Te),Te.return=oe,oe=Te}return M(oe);case F:return ce=ef(ce),un(oe,ie,ce,Te)}if(H(ce))return Ye(oe,ie,ce,Te);if(I(ce)){if(st=I(ce),typeof st!="function")throw Error(r(150));return ce=st.call(ce),ut(oe,ie,ce,Te)}if(typeof ce.then=="function")return un(oe,ie,jx(ce),Te);if(ce.$$typeof===A)return un(oe,ie,Bx(oe,ce),Te);qx(oe,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ie!==null&&ie.tag===6?(g(oe,ie.sibling),Te=b(ie,ce),Te.return=oe,oe=Te):(g(oe,ie),Te=DS(ce,oe.mode,Te),Te.return=oe,oe=Te),M(oe)):g(oe,ie)}return function(oe,ie,ce,Te){try{Ig=0;var st=un(oe,ie,ce,Te);return sh=null,st}catch(Je){if(Je===ah||Je===Ux)throw Je;var Pt=fa(29,Je,null,oe.mode);return Pt.lanes=Te,Pt.return=oe,Pt}finally{}}}var nf=q8(!0),G8=q8(!1),gu=!1;function jS(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qS(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pu(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function mu(l,f,g){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(Xt&2)!==0){var b=x.pending;return b===null?f.next=f:(f.next=b.next,b.next=f),x.pending=f,f=$x(l),C8(l,null,g),f}return Nx(l,x,f,g),$x(l)}function Bg(l,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var x=f.lanes;x&=l.pendingLanes,g|=x,f.lanes=g,j0(l,g)}}function GS(l,f){var g=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,g===x)){var b=null,S=null;if(g=g.firstBaseUpdate,g!==null){do{var M={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};S===null?b=S=M:S=S.next=M,g=g.next}while(g!==null);S===null?b=S=f:S=S.next=f}else b=S=f;g={baseState:x.baseState,firstBaseUpdate:b,lastBaseUpdate:S,shared:x.shared,callbacks:x.callbacks},l.updateQueue=g;return}l=g.lastBaseUpdate,l===null?g.firstBaseUpdate=f:l.next=f,g.lastBaseUpdate=f}var VS=!1;function Pg(){if(VS){var l=ih;if(l!==null)throw l}}function Ug(l,f,g,x){VS=!1;var b=l.updateQueue;gu=!1;var S=b.firstBaseUpdate,M=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var ne=U,fe=ne.next;ne.next=null,M===null?S=fe:M.next=fe,M=ne;var Ee=l.alternate;Ee!==null&&(Ee=Ee.updateQueue,U=Ee.lastBaseUpdate,U!==M&&(U===null?Ee.firstBaseUpdate=fe:U.next=fe,Ee.lastBaseUpdate=ne))}if(S!==null){var Ce=b.baseState;M=0,Ee=fe=ne=null,U=S;do{var pe=U.lane&-536870913,xe=pe!==U.lane;if(xe?(Ct&pe)===pe:(x&pe)===pe){pe!==0&&pe===rh&&(VS=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var Ye=l,ut=U;pe=f;var un=g;switch(ut.tag){case 1:if(Ye=ut.payload,typeof Ye=="function"){Ce=Ye.call(un,Ce,pe);break e}Ce=Ye;break e;case 3:Ye.flags=Ye.flags&-65537|128;case 0:if(Ye=ut.payload,pe=typeof Ye=="function"?Ye.call(un,Ce,pe):Ye,pe==null)break e;Ce=d({},Ce,pe);break e;case 2:gu=!0}}pe=U.callback,pe!==null&&(l.flags|=64,xe&&(l.flags|=8192),xe=b.callbacks,xe===null?b.callbacks=[pe]:xe.push(pe))}else xe={lane:pe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ee===null?(fe=Ee=xe,ne=Ce):Ee=Ee.next=xe,M|=pe;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;xe=U,U=xe.next,xe.next=null,b.lastBaseUpdate=xe,b.shared.pending=null}}while(!0);Ee===null&&(ne=Ce),b.baseState=ne,b.firstBaseUpdate=fe,b.lastBaseUpdate=Ee,S===null&&(b.shared.lanes=0),bu|=M,l.lanes=M,l.memoizedState=Ce}}function V8(l,f){if(typeof l!="function")throw Error(r(191,l));l.call(f)}function X8(l,f){var g=l.callbacks;if(g!==null)for(l.callbacks=null,l=0;l<g.length;l++)V8(g[l],f)}var oh=q(null),Gx=q(0);function W8(l,f){l=ml,G(Gx,l),G(oh,f),ml=l|f.baseLanes}function XS(){G(Gx,ml),G(oh,oh.current)}function WS(){ml=Gx.current,R(oh),R(Gx)}var ha=q(null),qa=null;function xu(l){var f=l.alternate;G(jn,jn.current&1),G(ha,l),qa===null&&(f===null||oh.current!==null||f.memoizedState!==null)&&(qa=l)}function YS(l){G(jn,jn.current),G(ha,l),qa===null&&(qa=l)}function Y8(l){l.tag===22?(G(jn,jn.current),G(ha,l),qa===null&&(qa=l)):yu()}function yu(){G(jn,jn.current),G(ha,ha.current)}function da(l){R(ha),qa===l&&(qa=null),R(jn)}var jn=q(0);function Vx(l){for(var f=l;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||tA(g)||nA(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var ll=0,xt=null,on=null,Zn=null,Xx=!1,lh=!1,rf=!1,Wx=0,Hg=0,uh=null,QJ=0;function $n(){throw Error(r(321))}function KS(l,f){if(f===null)return!1;for(var g=0;g<f.length&&g<l.length;g++)if(!ca(l[g],f[g]))return!1;return!0}function QS(l,f,g,x,b,S){return ll=S,xt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,z.H=l===null||l.memoizedState===null?MM:hw,rf=!1,S=g(x,b),rf=!1,lh&&(S=Q8(f,g,x,b)),K8(l),S}function K8(l){z.H=Gg;var f=on!==null&&on.next!==null;if(ll=0,Zn=on=xt=null,Xx=!1,Hg=0,uh=null,f)throw Error(r(300));l===null||Jn||(l=l.dependencies,l!==null&&zx(l)&&(Jn=!0))}function Q8(l,f,g,x){xt=l;var b=0;do{if(lh&&(uh=null),Hg=0,lh=!1,25<=b)throw Error(r(301));if(b+=1,Zn=on=null,l.updateQueue!=null){var S=l.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}z.H=RM,S=f(g,x)}while(lh);return S}function ZJ(){var l=z.H,f=l.useState()[0];return f=typeof f.then=="function"?jg(f):f,l=l.useState()[0],(on!==null?on.memoizedState:null)!==l&&(xt.flags|=1024),f}function ZS(){var l=Wx!==0;return Wx=0,l}function JS(l,f,g){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~g}function ew(l){if(Xx){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}Xx=!1}ll=0,Zn=on=xt=null,lh=!1,Hg=Wx=0,uh=null}function yi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zn===null?xt.memoizedState=Zn=l:Zn=Zn.next=l,Zn}function qn(){if(on===null){var l=xt.alternate;l=l!==null?l.memoizedState:null}else l=on.next;var f=Zn===null?xt.memoizedState:Zn.next;if(f!==null)Zn=f,on=l;else{if(l===null)throw xt.alternate===null?Error(r(467)):Error(r(310));on=l,l={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Zn===null?xt.memoizedState=Zn=l:Zn=Zn.next=l}return Zn}function Yx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jg(l){var f=Hg;return Hg+=1,uh===null&&(uh=[]),l=U8(uh,l,f),f=xt,(Zn===null?f.memoizedState:Zn.next)===null&&(f=f.alternate,z.H=f===null||f.memoizedState===null?MM:hw),l}function Kx(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return jg(l);if(l.$$typeof===A)return Mr(l)}throw Error(r(438,String(l)))}function tw(l){var f=null,g=xt.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var x=xt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(f={data:x.data.map(function(b){return b.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=Yx(),xt.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(l),x=0;x<l;x++)g[x]=N;return f.index++,g}function ul(l,f){return typeof f=="function"?f(l):f}function Qx(l){var f=qn();return nw(f,on,l)}function nw(l,f,g){var x=l.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=g;var b=l.baseQueue,S=x.pending;if(S!==null){if(b!==null){var M=b.next;b.next=S.next,S.next=M}f.baseQueue=b=S,x.pending=null}if(S=l.baseState,b===null)l.memoizedState=S;else{f=b.next;var U=M=null,ne=null,fe=f,Ee=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(Ct&Ce)===Ce:(ll&Ce)===Ce){var pe=fe.revertLane;if(pe===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===rh&&(Ee=!0);else if((ll&pe)===pe){fe=fe.next,pe===rh&&(Ee=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ne===null?(U=ne=Ce,M=S):ne=ne.next=Ce,xt.lanes|=pe,bu|=pe;Ce=fe.action,rf&&g(S,Ce),S=fe.hasEagerState?fe.eagerState:g(S,Ce)}else pe={lane:Ce,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ne===null?(U=ne=pe,M=S):ne=ne.next=pe,xt.lanes|=Ce,bu|=Ce;fe=fe.next}while(fe!==null&&fe!==f);if(ne===null?M=S:ne.next=U,!ca(S,l.memoizedState)&&(Jn=!0,Ee&&(g=ih,g!==null)))throw g;l.memoizedState=S,l.baseState=M,l.baseQueue=ne,x.lastRenderedState=S}return b===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function rw(l){var f=qn(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=l;var x=g.dispatch,b=g.pending,S=f.memoizedState;if(b!==null){g.pending=null;var M=b=b.next;do S=l(S,M.action),M=M.next;while(M!==b);ca(S,f.memoizedState)||(Jn=!0),f.memoizedState=S,f.baseQueue===null&&(f.baseState=S),g.lastRenderedState=S}return[S,x]}function Z8(l,f,g){var x=xt,b=qn(),S=Ot;if(S){if(g===void 0)throw Error(r(407));g=g()}else g=f();var M=!ca((on||b).memoizedState,g);if(M&&(b.memoizedState=g,Jn=!0),b=b.queue,sw(tM.bind(null,x,b,l),[l]),b.getSnapshot!==f||M||Zn!==null&&Zn.memoizedState.tag&1){if(x.flags|=2048,ch(9,{destroy:void 0},eM.bind(null,x,b,g,f),null),fn===null)throw Error(r(349));S||(ll&127)!==0||J8(x,f,g)}return g}function J8(l,f,g){l.flags|=16384,l={getSnapshot:f,value:g},f=xt.updateQueue,f===null?(f=Yx(),xt.updateQueue=f,f.stores=[l]):(g=f.stores,g===null?f.stores=[l]:g.push(l))}function eM(l,f,g,x){f.value=g,f.getSnapshot=x,nM(f)&&rM(l)}function tM(l,f,g){return g(function(){nM(f)&&rM(l)})}function nM(l){var f=l.getSnapshot;l=l.value;try{var g=f();return!ca(l,g)}catch{return!0}}function rM(l){var f=Wc(l,2);f!==null&&Wi(f,l,2)}function iw(l){var f=yi();if(typeof l=="function"){var g=l;if(l=g(),rf){ys(!0);try{g()}finally{ys(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:l},f}function iM(l,f,g,x){return l.baseState=g,nw(l,on,typeof x=="function"?x:ul)}function JJ(l,f,g,x,b){if(ey(l))throw Error(r(485));if(l=f.action,l!==null){var S={payload:b,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){S.listeners.push(M)}};z.T!==null?g(!0):S.isTransition=!1,x(S),g=f.pending,g===null?(S.next=f.pending=S,aM(f,S)):(S.next=g.next,f.pending=g.next=S)}}function aM(l,f){var g=f.action,x=f.payload,b=l.state;if(f.isTransition){var S=z.T,M={};z.T=M;try{var U=g(b,x),ne=z.S;ne!==null&&ne(M,U),sM(l,f,U)}catch(fe){aw(l,f,fe)}finally{S!==null&&M.types!==null&&(S.types=M.types),z.T=S}}else try{S=g(b,x),sM(l,f,S)}catch(fe){aw(l,f,fe)}}function sM(l,f,g){g!==null&&typeof g=="object"&&typeof g.then=="function"?g.then(function(x){oM(l,f,x)},function(x){return aw(l,f,x)}):oM(l,f,g)}function oM(l,f,g){f.status="fulfilled",f.value=g,lM(f),l.state=g,f=l.pending,f!==null&&(g=f.next,g===f?l.pending=null:(g=g.next,f.next=g,aM(l,g)))}function aw(l,f,g){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do f.status="rejected",f.reason=g,lM(f),f=f.next;while(f!==x)}l.action=null}function lM(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function uM(l,f){return f}function cM(l,f){if(Ot){var g=fn.formState;if(g!==null){e:{var x=xt;if(Ot){if(vn){t:{for(var b=vn,S=ja;b.nodeType!==8;){if(!S){b=null;break t}if(b=Ga(b.nextSibling),b===null){b=null;break t}}S=b.data,b=S==="F!"||S==="F"?b:null}if(b){vn=Ga(b.nextSibling),x=b.data==="F!";break e}}hu(x)}x=!1}x&&(f=g[0])}}return g=yi(),g.memoizedState=g.baseState=f,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uM,lastRenderedState:f},g.queue=x,g=FM.bind(null,xt,x),x.dispatch=g,x=iw(!1),S=fw.bind(null,xt,!1,x.queue),x=yi(),b={state:f,dispatch:null,action:l,pending:null},x.queue=b,g=JJ.bind(null,xt,b,S,g),b.dispatch=g,x.memoizedState=l,[f,g,!1]}function fM(l){var f=qn();return hM(f,on,l)}function hM(l,f,g){if(f=nw(l,f,uM)[0],l=Qx(ul)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var x=jg(f)}catch(M){throw M===ah?Ux:M}else x=f;f=qn();var b=f.queue,S=b.dispatch;return g!==f.memoizedState&&(xt.flags|=2048,ch(9,{destroy:void 0},eee.bind(null,b,g),null)),[x,S,l]}function eee(l,f){l.action=f}function dM(l){var f=qn(),g=on;if(g!==null)return hM(f,g,l);qn(),f=f.memoizedState,g=qn();var x=g.queue.dispatch;return g.memoizedState=l,[f,x,!1]}function ch(l,f,g,x){return l={tag:l,create:g,deps:x,inst:f,next:null},f=xt.updateQueue,f===null&&(f=Yx(),xt.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=l.next=l:(x=g.next,g.next=l,l.next=x,f.lastEffect=l),l}function gM(){return qn().memoizedState}function Zx(l,f,g,x){var b=yi();xt.flags|=l,b.memoizedState=ch(1|f,{destroy:void 0},g,x===void 0?null:x)}function Jx(l,f,g,x){var b=qn();x=x===void 0?null:x;var S=b.memoizedState.inst;on!==null&&x!==null&&KS(x,on.memoizedState.deps)?b.memoizedState=ch(f,S,g,x):(xt.flags|=l,b.memoizedState=ch(1|f,S,g,x))}function pM(l,f){Zx(8390656,8,l,f)}function sw(l,f){Jx(2048,8,l,f)}function tee(l){xt.flags|=4;var f=xt.updateQueue;if(f===null)f=Yx(),xt.updateQueue=f,f.events=[l];else{var g=f.events;g===null?f.events=[l]:g.push(l)}}function mM(l){var f=qn().memoizedState;return tee({ref:f,nextImpl:l}),function(){if((Xt&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function xM(l,f){return Jx(4,2,l,f)}function yM(l,f){return Jx(4,4,l,f)}function vM(l,f){if(typeof f=="function"){l=l();var g=f(l);return function(){typeof g=="function"?g():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function _M(l,f,g){g=g!=null?g.concat([l]):null,Jx(4,4,vM.bind(null,f,l),g)}function ow(){}function bM(l,f){var g=qn();f=f===void 0?null:f;var x=g.memoizedState;return f!==null&&KS(f,x[1])?x[0]:(g.memoizedState=[l,f],l)}function EM(l,f){var g=qn();f=f===void 0?null:f;var x=g.memoizedState;if(f!==null&&KS(f,x[1]))return x[0];if(x=l(),rf){ys(!0);try{l()}finally{ys(!1)}}return g.memoizedState=[x,f],x}function lw(l,f,g){return g===void 0||(ll&1073741824)!==0&&(Ct&261930)===0?l.memoizedState=f:(l.memoizedState=g,l=SR(),xt.lanes|=l,bu|=l,g)}function SM(l,f,g,x){return ca(g,f)?g:oh.current!==null?(l=lw(l,g,x),ca(l,f)||(Jn=!0),l):(ll&42)===0||(ll&1073741824)!==0&&(Ct&261930)===0?(Jn=!0,l.memoizedState=g):(l=SR(),xt.lanes|=l,bu|=l,f)}function wM(l,f,g,x,b){var S=X.p;X.p=S!==0&&8>S?S:8;var M=z.T,U={};z.T=U,fw(l,!1,f,g);try{var ne=b(),fe=z.S;if(fe!==null&&fe(U,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Ee=KJ(ne,x);qg(l,f,Ee,ma(l))}else qg(l,f,x,ma(l))}catch(Ce){qg(l,f,{then:function(){},status:"rejected",reason:Ce},ma())}finally{X.p=S,M!==null&&U.types!==null&&(M.types=U.types),z.T=M}}function nee(){}function uw(l,f,g,x){if(l.tag!==5)throw Error(r(476));var b=AM(l).queue;wM(l,b,f,re,g===null?nee:function(){return TM(l),g(x)})}function AM(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:re},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ul,lastRenderedState:g},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function TM(l){var f=AM(l);f.next===null&&(f=l.alternate.memoizedState),qg(l,f.next.queue,{},ma())}function cw(){return Mr(o1)}function kM(){return qn().memoizedState}function CM(){return qn().memoizedState}function ree(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var g=ma();l=pu(g);var x=mu(f,l,g);x!==null&&(Wi(x,f,g),Bg(x,f,g)),f={cache:BS()},l.payload=f;return}f=f.return}}function iee(l,f,g){var x=ma();g={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},ey(l)?DM(f,g):(g=CS(l,f,g,x),g!==null&&(Wi(g,l,x),OM(g,f,x)))}function FM(l,f,g){var x=ma();qg(l,f,g,x)}function qg(l,f,g,x){var b={lane:x,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(ey(l))DM(f,b);else{var S=l.alternate;if(l.lanes===0&&(S===null||S.lanes===0)&&(S=f.lastRenderedReducer,S!==null))try{var M=f.lastRenderedState,U=S(M,g);if(b.hasEagerState=!0,b.eagerState=U,ca(U,M))return Nx(l,f,b,0),fn===null&&Rx(),!1}catch{}finally{}if(g=CS(l,f,b,x),g!==null)return Wi(g,l,x),OM(g,f,x),!0}return!1}function fw(l,f,g,x){if(x={lane:2,revertLane:jw(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},ey(l)){if(f)throw Error(r(479))}else f=CS(l,g,x,2),f!==null&&Wi(f,l,2)}function ey(l){var f=l.alternate;return l===xt||f!==null&&f===xt}function DM(l,f){lh=Xx=!0;var g=l.pending;g===null?f.next=f:(f.next=g.next,g.next=f),l.pending=f}function OM(l,f,g){if((g&4194048)!==0){var x=f.lanes;x&=l.pendingLanes,g|=x,f.lanes=g,j0(l,g)}}var Gg={readContext:Mr,use:Kx,useCallback:$n,useContext:$n,useEffect:$n,useImperativeHandle:$n,useLayoutEffect:$n,useInsertionEffect:$n,useMemo:$n,useReducer:$n,useRef:$n,useState:$n,useDebugValue:$n,useDeferredValue:$n,useTransition:$n,useSyncExternalStore:$n,useId:$n,useHostTransitionStatus:$n,useFormState:$n,useActionState:$n,useOptimistic:$n,useMemoCache:$n,useCacheRefresh:$n};Gg.useEffectEvent=$n;var MM={readContext:Mr,use:Kx,useCallback:function(l,f){return yi().memoizedState=[l,f===void 0?null:f],l},useContext:Mr,useEffect:pM,useImperativeHandle:function(l,f,g){g=g!=null?g.concat([l]):null,Zx(4194308,4,vM.bind(null,f,l),g)},useLayoutEffect:function(l,f){return Zx(4194308,4,l,f)},useInsertionEffect:function(l,f){Zx(4,2,l,f)},useMemo:function(l,f){var g=yi();f=f===void 0?null:f;var x=l();if(rf){ys(!0);try{l()}finally{ys(!1)}}return g.memoizedState=[x,f],x},useReducer:function(l,f,g){var x=yi();if(g!==void 0){var b=g(f);if(rf){ys(!0);try{g(f)}finally{ys(!1)}}}else b=f;return x.memoizedState=x.baseState=b,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:b},x.queue=l,l=l.dispatch=iee.bind(null,xt,l),[x.memoizedState,l]},useRef:function(l){var f=yi();return l={current:l},f.memoizedState=l},useState:function(l){l=iw(l);var f=l.queue,g=FM.bind(null,xt,f);return f.dispatch=g,[l.memoizedState,g]},useDebugValue:ow,useDeferredValue:function(l,f){var g=yi();return lw(g,l,f)},useTransition:function(){var l=iw(!1);return l=wM.bind(null,xt,l.queue,!0,!1),yi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,g){var x=xt,b=yi();if(Ot){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),fn===null)throw Error(r(349));(Ct&127)!==0||J8(x,f,g)}b.memoizedState=g;var S={value:g,getSnapshot:f};return b.queue=S,pM(tM.bind(null,x,S,l),[l]),x.flags|=2048,ch(9,{destroy:void 0},eM.bind(null,x,S,g,f),null),g},useId:function(){var l=yi(),f=fn.identifierPrefix;if(Ot){var g=so,x=ao;g=(x&~(1<<32-xi(x)-1)).toString(32)+g,f="_"+f+"R_"+g,g=Wx++,0<g&&(f+="H"+g.toString(32)),f+="_"}else g=QJ++,f="_"+f+"r_"+g.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:cw,useFormState:cM,useActionState:cM,useOptimistic:function(l){var f=yi();f.memoizedState=f.baseState=l;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=fw.bind(null,xt,!0,g),g.dispatch=f,[l,f]},useMemoCache:tw,useCacheRefresh:function(){return yi().memoizedState=ree.bind(null,xt)},useEffectEvent:function(l){var f=yi(),g={impl:l};return f.memoizedState=g,function(){if((Xt&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},hw={readContext:Mr,use:Kx,useCallback:bM,useContext:Mr,useEffect:sw,useImperativeHandle:_M,useInsertionEffect:xM,useLayoutEffect:yM,useMemo:EM,useReducer:Qx,useRef:gM,useState:function(){return Qx(ul)},useDebugValue:ow,useDeferredValue:function(l,f){var g=qn();return SM(g,on.memoizedState,l,f)},useTransition:function(){var l=Qx(ul)[0],f=qn().memoizedState;return[typeof l=="boolean"?l:jg(l),f]},useSyncExternalStore:Z8,useId:kM,useHostTransitionStatus:cw,useFormState:fM,useActionState:fM,useOptimistic:function(l,f){var g=qn();return iM(g,on,l,f)},useMemoCache:tw,useCacheRefresh:CM};hw.useEffectEvent=mM;var RM={readContext:Mr,use:Kx,useCallback:bM,useContext:Mr,useEffect:sw,useImperativeHandle:_M,useInsertionEffect:xM,useLayoutEffect:yM,useMemo:EM,useReducer:rw,useRef:gM,useState:function(){return rw(ul)},useDebugValue:ow,useDeferredValue:function(l,f){var g=qn();return on===null?lw(g,l,f):SM(g,on.memoizedState,l,f)},useTransition:function(){var l=rw(ul)[0],f=qn().memoizedState;return[typeof l=="boolean"?l:jg(l),f]},useSyncExternalStore:Z8,useId:kM,useHostTransitionStatus:cw,useFormState:dM,useActionState:dM,useOptimistic:function(l,f){var g=qn();return on!==null?iM(g,on,l,f):(g.baseState=l,[l,g.queue.dispatch])},useMemoCache:tw,useCacheRefresh:CM};RM.useEffectEvent=mM;function dw(l,f,g,x){f=l.memoizedState,g=g(x,f),g=g==null?f:d({},f,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var gw={enqueueSetState:function(l,f,g){l=l._reactInternals;var x=ma(),b=pu(x);b.payload=f,g!=null&&(b.callback=g),f=mu(l,b,x),f!==null&&(Wi(f,l,x),Bg(f,l,x))},enqueueReplaceState:function(l,f,g){l=l._reactInternals;var x=ma(),b=pu(x);b.tag=1,b.payload=f,g!=null&&(b.callback=g),f=mu(l,b,x),f!==null&&(Wi(f,l,x),Bg(f,l,x))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var g=ma(),x=pu(g);x.tag=2,f!=null&&(x.callback=f),f=mu(l,x,g),f!==null&&(Wi(f,l,g),Bg(f,l,g))}};function NM(l,f,g,x,b,S,M){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,S,M):f.prototype&&f.prototype.isPureReactComponent?!Og(g,x)||!Og(b,S):!0}function $M(l,f,g,x){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,x),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,x),f.state!==l&&gw.enqueueReplaceState(f,f.state,null)}function af(l,f){var g=f;if("ref"in f){g={};for(var x in f)x!=="ref"&&(g[x]=f[x])}if(l=l.defaultProps){g===f&&(g=d({},g));for(var b in l)g[b]===void 0&&(g[b]=l[b])}return g}function LM(l){Mx(l)}function IM(l){console.error(l)}function zM(l){Mx(l)}function ty(l,f){try{var g=l.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(x){setTimeout(function(){throw x})}}function BM(l,f,g){try{var x=l.onCaughtError;x(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function pw(l,f,g){return g=pu(g),g.tag=3,g.payload={element:null},g.callback=function(){ty(l,f)},g}function PM(l){return l=pu(l),l.tag=3,l}function UM(l,f,g,x){var b=g.type.getDerivedStateFromError;if(typeof b=="function"){var S=x.value;l.payload=function(){return b(S)},l.callback=function(){BM(f,g,x)}}var M=g.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(l.callback=function(){BM(f,g,x),typeof b!="function"&&(Eu===null?Eu=new Set([this]):Eu.add(this));var U=x.stack;this.componentDidCatch(x.value,{componentStack:U!==null?U:""})})}function aee(l,f,g,x,b){if(g.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(f=g.alternate,f!==null&&nh(f,g,b,!0),g=ha.current,g!==null){switch(g.tag){case 31:case 13:return qa===null?dy():g.alternate===null&&Ln===0&&(Ln=3),g.flags&=-257,g.flags|=65536,g.lanes=b,x===Hx?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([x]):f.add(x),Pw(l,x,b)),!1;case 22:return g.flags|=65536,x===Hx?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([x])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([x]):g.add(x)),Pw(l,x,b)),!1}throw Error(r(435,g.tag))}return Pw(l,x,b),dy(),!1}if(Ot)return f=ha.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=b,x!==NS&&(l=Error(r(422),{cause:x}),Ng(Pa(l,g)))):(x!==NS&&(f=Error(r(423),{cause:x}),Ng(Pa(f,g))),l=l.current.alternate,l.flags|=65536,b&=-b,l.lanes|=b,x=Pa(x,g),b=pw(l.stateNode,x,b),GS(l,b),Ln!==4&&(Ln=2)),!1;var S=Error(r(520),{cause:x});if(S=Pa(S,g),Jg===null?Jg=[S]:Jg.push(S),Ln!==4&&(Ln=2),f===null)return!0;x=Pa(x,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,l=b&-b,g.lanes|=l,l=pw(g.stateNode,x,l),GS(g,l),!1;case 1:if(f=g.type,S=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Eu===null||!Eu.has(S))))return g.flags|=65536,b&=-b,g.lanes|=b,b=PM(b),UM(b,l,g,x),GS(g,b),!1}g=g.return}while(g!==null);return!1}var mw=Error(r(461)),Jn=!1;function Rr(l,f,g,x){f.child=l===null?G8(f,null,g,x):nf(f,l.child,g,x)}function HM(l,f,g,x,b){g=g.render;var S=f.ref;if("ref"in x){var M={};for(var U in x)U!=="ref"&&(M[U]=x[U])}else M=x;return Zc(f),x=QS(l,f,g,M,S,b),U=ZS(),l!==null&&!Jn?(JS(l,f,b),cl(l,f,b)):(Ot&&U&&MS(f),f.flags|=1,Rr(l,f,x,b),f.child)}function jM(l,f,g,x,b){if(l===null){var S=g.type;return typeof S=="function"&&!FS(S)&&S.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=S,qM(l,f,S,x,b)):(l=Lx(g.type,null,x,f,f.mode,b),l.ref=f.ref,l.return=f,f.child=l)}if(S=l.child,!ww(l,b)){var M=S.memoizedProps;if(g=g.compare,g=g!==null?g:Og,g(M,x)&&l.ref===f.ref)return cl(l,f,b)}return f.flags|=1,l=il(S,x),l.ref=f.ref,l.return=f,f.child=l}function qM(l,f,g,x,b){if(l!==null){var S=l.memoizedProps;if(Og(S,x)&&l.ref===f.ref)if(Jn=!1,f.pendingProps=x=S,ww(l,b))(l.flags&131072)!==0&&(Jn=!0);else return f.lanes=l.lanes,cl(l,f,b)}return xw(l,f,g,x,b)}function GM(l,f,g,x){var b=x.children,S=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((f.flags&128)!==0){if(S=S!==null?S.baseLanes|g:g,l!==null){for(x=f.child=l.child,b=0;x!==null;)b=b|x.lanes|x.childLanes,x=x.sibling;x=b&~S}else x=0,f.child=null;return VM(l,f,S,g,x)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&Px(f,S!==null?S.cachePool:null),S!==null?W8(f,S):XS(),Y8(f);else return x=f.lanes=536870912,VM(l,f,S!==null?S.baseLanes|g:g,g,x)}else S!==null?(Px(f,S.cachePool),W8(f,S),yu(),f.memoizedState=null):(l!==null&&Px(f,null),XS(),yu());return Rr(l,f,b,g),f.child}function Vg(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function VM(l,f,g,x,b){var S=US();return S=S===null?null:{parent:Qn._currentValue,pool:S},f.memoizedState={baseLanes:g,cachePool:S},l!==null&&Px(f,null),XS(),Y8(f),l!==null&&nh(l,f,x,!0),f.childLanes=b,null}function ny(l,f){return f=iy({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function XM(l,f,g){return nf(f,l.child,null,g),l=ny(f,f.pendingProps),l.flags|=2,da(f),f.memoizedState=null,l}function see(l,f,g){var x=f.pendingProps,b=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(Ot){if(x.mode==="hidden")return l=ny(f,x),f.lanes=536870912,Vg(null,l);if(YS(f),(l=vn)?(l=aN(l,ja),l=l!==null&&l.data==="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:cu!==null?{id:ao,overflow:so}:null,retryLane:536870912,hydrationErrors:null},g=D8(l),g.return=f,f.child=g,Or=f,vn=null)):l=null,l===null)throw hu(f);return f.lanes=536870912,null}return ny(f,x)}var S=l.memoizedState;if(S!==null){var M=S.dehydrated;if(YS(f),b)if(f.flags&256)f.flags&=-257,f=XM(l,f,g);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(r(558));else if(Jn||nh(l,f,g,!1),b=(g&l.childLanes)!==0,Jn||b){if(x=fn,x!==null&&(M=Ex(x,g),M!==0&&M!==S.retryLane))throw S.retryLane=M,Wc(l,M),Wi(x,l,M),mw;dy(),f=XM(l,f,g)}else l=S.treeContext,vn=Ga(M.nextSibling),Or=f,Ot=!0,fu=null,ja=!1,l!==null&&R8(f,l),f=ny(f,x),f.flags|=4096;return f}return l=il(l.child,{mode:x.mode,children:x.children}),l.ref=f.ref,f.child=l,l.return=f,l}function ry(l,f){var g=f.ref;if(g===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof g!="function"&&typeof g!="object")throw Error(r(284));(l===null||l.ref!==g)&&(f.flags|=4194816)}}function xw(l,f,g,x,b){return Zc(f),g=QS(l,f,g,x,void 0,b),x=ZS(),l!==null&&!Jn?(JS(l,f,b),cl(l,f,b)):(Ot&&x&&MS(f),f.flags|=1,Rr(l,f,g,b),f.child)}function WM(l,f,g,x,b,S){return Zc(f),f.updateQueue=null,g=Q8(f,x,g,b),K8(l),x=ZS(),l!==null&&!Jn?(JS(l,f,S),cl(l,f,S)):(Ot&&x&&MS(f),f.flags|=1,Rr(l,f,g,S),f.child)}function YM(l,f,g,x,b){if(Zc(f),f.stateNode===null){var S=Z0,M=g.contextType;typeof M=="object"&&M!==null&&(S=Mr(M)),S=new g(x,S),f.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=gw,f.stateNode=S,S._reactInternals=f,S=f.stateNode,S.props=x,S.state=f.memoizedState,S.refs={},jS(f),M=g.contextType,S.context=typeof M=="object"&&M!==null?Mr(M):Z0,S.state=f.memoizedState,M=g.getDerivedStateFromProps,typeof M=="function"&&(dw(f,g,M,x),S.state=f.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(M=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),M!==S.state&&gw.enqueueReplaceState(S,S.state,null),Ug(f,x,S,b),Pg(),S.state=f.memoizedState),typeof S.componentDidMount=="function"&&(f.flags|=4194308),x=!0}else if(l===null){S=f.stateNode;var U=f.memoizedProps,ne=af(g,U);S.props=ne;var fe=S.context,Ee=g.contextType;M=Z0,typeof Ee=="object"&&Ee!==null&&(M=Mr(Ee));var Ce=g.getDerivedStateFromProps;Ee=typeof Ce=="function"||typeof S.getSnapshotBeforeUpdate=="function",U=f.pendingProps!==U,Ee||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(U||fe!==M)&&$M(f,S,x,M),gu=!1;var pe=f.memoizedState;S.state=pe,Ug(f,x,S,b),Pg(),fe=f.memoizedState,U||pe!==fe||gu?(typeof Ce=="function"&&(dw(f,g,Ce,x),fe=f.memoizedState),(ne=gu||NM(f,g,ne,x,pe,fe,M))?(Ee||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(f.flags|=4194308)):(typeof S.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=x,f.memoizedState=fe),S.props=x,S.state=fe,S.context=M,x=ne):(typeof S.componentDidMount=="function"&&(f.flags|=4194308),x=!1)}else{S=f.stateNode,qS(l,f),M=f.memoizedProps,Ee=af(g,M),S.props=Ee,Ce=f.pendingProps,pe=S.context,fe=g.contextType,ne=Z0,typeof fe=="object"&&fe!==null&&(ne=Mr(fe)),U=g.getDerivedStateFromProps,(fe=typeof U=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==Ce||pe!==ne)&&$M(f,S,x,ne),gu=!1,pe=f.memoizedState,S.state=pe,Ug(f,x,S,b),Pg();var xe=f.memoizedState;M!==Ce||pe!==xe||gu||l!==null&&l.dependencies!==null&&zx(l.dependencies)?(typeof U=="function"&&(dw(f,g,U,x),xe=f.memoizedState),(Ee=gu||NM(f,g,Ee,x,pe,xe,ne)||l!==null&&l.dependencies!==null&&zx(l.dependencies))?(fe||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(x,xe,ne),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(x,xe,ne)),typeof S.componentDidUpdate=="function"&&(f.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===l.memoizedProps&&pe===l.memoizedState||(f.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===l.memoizedProps&&pe===l.memoizedState||(f.flags|=1024),f.memoizedProps=x,f.memoizedState=xe),S.props=x,S.state=xe,S.context=ne,x=Ee):(typeof S.componentDidUpdate!="function"||M===l.memoizedProps&&pe===l.memoizedState||(f.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===l.memoizedProps&&pe===l.memoizedState||(f.flags|=1024),x=!1)}return S=x,ry(l,f),x=(f.flags&128)!==0,S||x?(S=f.stateNode,g=x&&typeof g.getDerivedStateFromError!="function"?null:S.render(),f.flags|=1,l!==null&&x?(f.child=nf(f,l.child,null,b),f.child=nf(f,null,g,b)):Rr(l,f,g,b),f.memoizedState=S.state,l=f.child):l=cl(l,f,b),l}function KM(l,f,g,x){return Kc(),f.flags|=256,Rr(l,f,g,x),f.child}var yw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vw(l){return{baseLanes:l,cachePool:B8()}}function _w(l,f,g){return l=l!==null?l.childLanes&~g:0,f&&(l|=pa),l}function QM(l,f,g){var x=f.pendingProps,b=!1,S=(f.flags&128)!==0,M;if((M=S)||(M=l!==null&&l.memoizedState===null?!1:(jn.current&2)!==0),M&&(b=!0,f.flags&=-129),M=(f.flags&32)!==0,f.flags&=-33,l===null){if(Ot){if(b?xu(f):yu(),(l=vn)?(l=aN(l,ja),l=l!==null&&l.data!=="&"?l:null,l!==null&&(f.memoizedState={dehydrated:l,treeContext:cu!==null?{id:ao,overflow:so}:null,retryLane:536870912,hydrationErrors:null},g=D8(l),g.return=f,f.child=g,Or=f,vn=null)):l=null,l===null)throw hu(f);return nA(l)?f.lanes=32:f.lanes=536870912,null}var U=x.children;return x=x.fallback,b?(yu(),b=f.mode,U=iy({mode:"hidden",children:U},b),x=Yc(x,b,g,null),U.return=f,x.return=f,U.sibling=x,f.child=U,x=f.child,x.memoizedState=vw(g),x.childLanes=_w(l,M,g),f.memoizedState=yw,Vg(null,x)):(xu(f),bw(f,U))}var ne=l.memoizedState;if(ne!==null&&(U=ne.dehydrated,U!==null)){if(S)f.flags&256?(xu(f),f.flags&=-257,f=Ew(l,f,g)):f.memoizedState!==null?(yu(),f.child=l.child,f.flags|=128,f=null):(yu(),U=x.fallback,b=f.mode,x=iy({mode:"visible",children:x.children},b),U=Yc(U,b,g,null),U.flags|=2,x.return=f,U.return=f,x.sibling=U,f.child=x,nf(f,l.child,null,g),x=f.child,x.memoizedState=vw(g),x.childLanes=_w(l,M,g),f.memoizedState=yw,f=Vg(null,x));else if(xu(f),nA(U)){if(M=U.nextSibling&&U.nextSibling.dataset,M)var fe=M.dgst;M=fe,x=Error(r(419)),x.stack="",x.digest=M,Ng({value:x,source:null,stack:null}),f=Ew(l,f,g)}else if(Jn||nh(l,f,g,!1),M=(g&l.childLanes)!==0,Jn||M){if(M=fn,M!==null&&(x=Ex(M,g),x!==0&&x!==ne.retryLane))throw ne.retryLane=x,Wc(l,x),Wi(M,l,x),mw;tA(U)||dy(),f=Ew(l,f,g)}else tA(U)?(f.flags|=192,f.child=l.child,f=null):(l=ne.treeContext,vn=Ga(U.nextSibling),Or=f,Ot=!0,fu=null,ja=!1,l!==null&&R8(f,l),f=bw(f,x.children),f.flags|=4096);return f}return b?(yu(),U=x.fallback,b=f.mode,ne=l.child,fe=ne.sibling,x=il(ne,{mode:"hidden",children:x.children}),x.subtreeFlags=ne.subtreeFlags&65011712,fe!==null?U=il(fe,U):(U=Yc(U,b,g,null),U.flags|=2),U.return=f,x.return=f,x.sibling=U,f.child=x,Vg(null,x),x=f.child,U=l.child.memoizedState,U===null?U=vw(g):(b=U.cachePool,b!==null?(ne=Qn._currentValue,b=b.parent!==ne?{parent:ne,pool:ne}:b):b=B8(),U={baseLanes:U.baseLanes|g,cachePool:b}),x.memoizedState=U,x.childLanes=_w(l,M,g),f.memoizedState=yw,Vg(l.child,x)):(xu(f),g=l.child,l=g.sibling,g=il(g,{mode:"visible",children:x.children}),g.return=f,g.sibling=null,l!==null&&(M=f.deletions,M===null?(f.deletions=[l],f.flags|=16):M.push(l)),f.child=g,f.memoizedState=null,g)}function bw(l,f){return f=iy({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function iy(l,f){return l=fa(22,l,null,f),l.lanes=0,l}function Ew(l,f,g){return nf(f,l.child,null,g),l=bw(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function ZM(l,f,g){l.lanes|=f;var x=l.alternate;x!==null&&(x.lanes|=f),IS(l.return,f,g)}function Sw(l,f,g,x,b,S){var M=l.memoizedState;M===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:x,tail:g,tailMode:b,treeForkCount:S}:(M.isBackwards=f,M.rendering=null,M.renderingStartTime=0,M.last=x,M.tail=g,M.tailMode=b,M.treeForkCount=S)}function JM(l,f,g){var x=f.pendingProps,b=x.revealOrder,S=x.tail;x=x.children;var M=jn.current,U=(M&2)!==0;if(U?(M=M&1|2,f.flags|=128):M&=1,G(jn,M),Rr(l,f,x,g),x=Ot?Rg:0,!U&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&ZM(l,g,f);else if(l.tag===19)ZM(l,g,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(b){case"forwards":for(g=f.child,b=null;g!==null;)l=g.alternate,l!==null&&Vx(l)===null&&(b=g),g=g.sibling;g=b,g===null?(b=f.child,f.child=null):(b=g.sibling,g.sibling=null),Sw(f,!1,b,g,S,x);break;case"backwards":case"unstable_legacy-backwards":for(g=null,b=f.child,f.child=null;b!==null;){if(l=b.alternate,l!==null&&Vx(l)===null){f.child=b;break}l=b.sibling,b.sibling=g,g=b,b=l}Sw(f,!0,g,null,S,x);break;case"together":Sw(f,!1,null,null,void 0,x);break;default:f.memoizedState=null}return f.child}function cl(l,f,g){if(l!==null&&(f.dependencies=l.dependencies),bu|=f.lanes,(g&f.childLanes)===0)if(l!==null){if(nh(l,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(r(153));if(f.child!==null){for(l=f.child,g=il(l,l.pendingProps),f.child=g,g.return=f;l.sibling!==null;)l=l.sibling,g=g.sibling=il(l,l.pendingProps),g.return=f;g.sibling=null}return f.child}function ww(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&zx(l)))}function oee(l,f,g){switch(f.tag){case 3:_e(f,f.stateNode.containerInfo),du(f,Qn,l.memoizedState.cache),Kc();break;case 27:case 5:ue(f);break;case 4:_e(f,f.stateNode.containerInfo);break;case 10:du(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,YS(f),null;break;case 13:var x=f.memoizedState;if(x!==null)return x.dehydrated!==null?(xu(f),f.flags|=128,null):(g&f.child.childLanes)!==0?QM(l,f,g):(xu(f),l=cl(l,f,g),l!==null?l.sibling:null);xu(f);break;case 19:var b=(l.flags&128)!==0;if(x=(g&f.childLanes)!==0,x||(nh(l,f,g,!1),x=(g&f.childLanes)!==0),b){if(x)return JM(l,f,g);f.flags|=128}if(b=f.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),G(jn,jn.current),x)break;return null;case 22:return f.lanes=0,GM(l,f,g,f.pendingProps);case 24:du(f,Qn,l.memoizedState.cache)}return cl(l,f,g)}function eR(l,f,g){if(l!==null)if(l.memoizedProps!==f.pendingProps)Jn=!0;else{if(!ww(l,g)&&(f.flags&128)===0)return Jn=!1,oee(l,f,g);Jn=(l.flags&131072)!==0}else Jn=!1,Ot&&(f.flags&1048576)!==0&&M8(f,Rg,f.index);switch(f.lanes=0,f.tag){case 16:e:{var x=f.pendingProps;if(l=ef(f.elementType),f.type=l,typeof l=="function")FS(l)?(x=af(l,x),f.tag=1,f=YM(null,f,l,x,g)):(f.tag=0,f=xw(null,f,l,x,g));else{if(l!=null){var b=l.$$typeof;if(b===k){f.tag=11,f=HM(null,f,l,x,g);break e}else if(b===T){f.tag=14,f=jM(null,f,l,x,g);break e}}throw f=J(l)||l,Error(r(306,f,""))}}return f;case 0:return xw(l,f,f.type,f.pendingProps,g);case 1:return x=f.type,b=af(x,f.pendingProps),YM(l,f,x,b,g);case 3:e:{if(_e(f,f.stateNode.containerInfo),l===null)throw Error(r(387));x=f.pendingProps;var S=f.memoizedState;b=S.element,qS(l,f),Ug(f,x,null,g);var M=f.memoizedState;if(x=M.cache,du(f,Qn,x),x!==S.cache&&zS(f,[Qn],g,!0),Pg(),x=M.element,S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:M.cache},f.updateQueue.baseState=S,f.memoizedState=S,f.flags&256){f=KM(l,f,x,g);break e}else if(x!==b){b=Pa(Error(r(424)),f),Ng(b),f=KM(l,f,x,g);break e}else{switch(l=f.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(vn=Ga(l.firstChild),Or=f,Ot=!0,fu=null,ja=!0,g=G8(f,null,x,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Kc(),x===b){f=cl(l,f,g);break e}Rr(l,f,x,g)}f=f.child}return f;case 26:return ry(l,f),l===null?(g=fN(f.type,null,f.pendingProps,null))?f.memoizedState=g:Ot||(g=f.type,l=f.pendingProps,x=_y(se.current).createElement(g),x[W]=f,x[Z]=l,Nr(x,g,l),Ke(x),f.stateNode=x):f.memoizedState=fN(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:return ue(f),l===null&&Ot&&(x=f.stateNode=lN(f.type,f.pendingProps,se.current),Or=f,ja=!0,b=vn,Tu(f.type)?(rA=b,vn=Ga(x.firstChild)):vn=b),Rr(l,f,f.pendingProps.children,g),ry(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&Ot&&((b=x=vn)&&(x=Iee(x,f.type,f.pendingProps,ja),x!==null?(f.stateNode=x,Or=f,vn=Ga(x.firstChild),ja=!1,b=!0):b=!1),b||hu(f)),ue(f),b=f.type,S=f.pendingProps,M=l!==null?l.memoizedProps:null,x=S.children,Zw(b,S)?x=null:M!==null&&Zw(b,M)&&(f.flags|=32),f.memoizedState!==null&&(b=QS(l,f,ZJ,null,null,g),o1._currentValue=b),ry(l,f),Rr(l,f,x,g),f.child;case 6:return l===null&&Ot&&((l=g=vn)&&(g=zee(g,f.pendingProps,ja),g!==null?(f.stateNode=g,Or=f,vn=null,l=!0):l=!1),l||hu(f)),null;case 13:return QM(l,f,g);case 4:return _e(f,f.stateNode.containerInfo),x=f.pendingProps,l===null?f.child=nf(f,null,x,g):Rr(l,f,x,g),f.child;case 11:return HM(l,f,f.type,f.pendingProps,g);case 7:return Rr(l,f,f.pendingProps,g),f.child;case 8:return Rr(l,f,f.pendingProps.children,g),f.child;case 12:return Rr(l,f,f.pendingProps.children,g),f.child;case 10:return x=f.pendingProps,du(f,f.type,x.value),Rr(l,f,x.children,g),f.child;case 9:return b=f.type._context,x=f.pendingProps.children,Zc(f),b=Mr(b),x=x(b),f.flags|=1,Rr(l,f,x,g),f.child;case 14:return jM(l,f,f.type,f.pendingProps,g);case 15:return qM(l,f,f.type,f.pendingProps,g);case 19:return JM(l,f,g);case 31:return see(l,f,g);case 22:return GM(l,f,g,f.pendingProps);case 24:return Zc(f),x=Mr(Qn),l===null?(b=US(),b===null&&(b=fn,S=BS(),b.pooledCache=S,S.refCount++,S!==null&&(b.pooledCacheLanes|=g),b=S),f.memoizedState={parent:x,cache:b},jS(f),du(f,Qn,b)):((l.lanes&g)!==0&&(qS(l,f),Ug(f,null,null,g),Pg()),b=l.memoizedState,S=f.memoizedState,b.parent!==x?(b={parent:x,cache:x},f.memoizedState=b,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=b),du(f,Qn,x)):(x=S.cache,du(f,Qn,x),x!==b.cache&&zS(f,[Qn],g,!0))),Rr(l,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function fl(l){l.flags|=4}function Aw(l,f,g,x,b){if((f=(l.mode&32)!==0)&&(f=!1),f){if(l.flags|=16777216,(b&335544128)===b)if(l.stateNode.complete)l.flags|=8192;else if(kR())l.flags|=8192;else throw tf=Hx,HS}else l.flags&=-16777217}function tR(l,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!mN(f))if(kR())l.flags|=8192;else throw tf=Hx,HS}function ay(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?_x():536870912,l.lanes|=f,gh|=f)}function Xg(l,f){if(!Ot)switch(l.tailMode){case"hidden":f=l.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var x=null;g!==null;)g.alternate!==null&&(x=g),g=g.sibling;x===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function _n(l){var f=l.alternate!==null&&l.alternate.child===l.child,g=0,x=0;if(f)for(var b=l.child;b!==null;)g|=b.lanes|b.childLanes,x|=b.subtreeFlags&65011712,x|=b.flags&65011712,b.return=l,b=b.sibling;else for(b=l.child;b!==null;)g|=b.lanes|b.childLanes,x|=b.subtreeFlags,x|=b.flags,b.return=l,b=b.sibling;return l.subtreeFlags|=x,l.childLanes=g,f}function lee(l,f,g){var x=f.pendingProps;switch(RS(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(f),null;case 1:return _n(f),null;case 3:return g=f.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),f.memoizedState.cache!==x&&(f.flags|=2048),ol(Qn),ae(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(l===null||l.child===null)&&(th(f)?fl(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,$S())),_n(f),null;case 26:var b=f.type,S=f.memoizedState;return l===null?(fl(f),S!==null?(_n(f),tR(f,S)):(_n(f),Aw(f,b,null,x,g))):S?S!==l.memoizedState?(fl(f),_n(f),tR(f,S)):(_n(f),f.flags&=-16777217):(l=l.memoizedProps,l!==x&&fl(f),_n(f),Aw(f,b,l,x,g)),null;case 27:if(ke(f),g=se.current,b=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==x&&fl(f);else{if(!x){if(f.stateNode===null)throw Error(r(166));return _n(f),null}l=K.current,th(f)?N8(f):(l=lN(b,x,g),f.stateNode=l,fl(f))}return _n(f),null;case 5:if(ke(f),b=f.type,l!==null&&f.stateNode!=null)l.memoizedProps!==x&&fl(f);else{if(!x){if(f.stateNode===null)throw Error(r(166));return _n(f),null}if(S=K.current,th(f))N8(f);else{var M=_y(se.current);switch(S){case 1:S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":S=M.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":S=M.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":S=M.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof x.is=="string"?M.createElement("select",{is:x.is}):M.createElement("select"),x.multiple?S.multiple=!0:x.size&&(S.size=x.size);break;default:S=typeof x.is=="string"?M.createElement(b,{is:x.is}):M.createElement(b)}}S[W]=f,S[Z]=x;e:for(M=f.child;M!==null;){if(M.tag===5||M.tag===6)S.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===f)break e;for(;M.sibling===null;){if(M.return===null||M.return===f)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}f.stateNode=S;e:switch(Nr(S,b,x),b){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&fl(f)}}return _n(f),Aw(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,g),null;case 6:if(l&&f.stateNode!=null)l.memoizedProps!==x&&fl(f);else{if(typeof x!="string"&&f.stateNode===null)throw Error(r(166));if(l=se.current,th(f)){if(l=f.stateNode,g=f.memoizedProps,x=null,b=Or,b!==null)switch(b.tag){case 27:case 5:x=b.memoizedProps}l[W]=f,l=!!(l.nodeValue===g||x!==null&&x.suppressHydrationWarning===!0||QR(l.nodeValue,g)),l||hu(f,!0)}else l=_y(l).createTextNode(x),l[W]=f,f.stateNode=l}return _n(f),null;case 31:if(g=f.memoizedState,l===null||l.memoizedState!==null){if(x=th(f),g!==null){if(l===null){if(!x)throw Error(r(318));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[W]=f}else Kc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;_n(f),l=!1}else g=$S(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=g),l=!0;if(!l)return f.flags&256?(da(f),f):(da(f),null);if((f.flags&128)!==0)throw Error(r(558))}return _n(f),null;case 13:if(x=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(b=th(f),x!==null&&x.dehydrated!==null){if(l===null){if(!b)throw Error(r(318));if(b=f.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[W]=f}else Kc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;_n(f),b=!1}else b=$S(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=b),b=!0;if(!b)return f.flags&256?(da(f),f):(da(f),null)}return da(f),(f.flags&128)!==0?(f.lanes=g,f):(g=x!==null,l=l!==null&&l.memoizedState!==null,g&&(x=f.child,b=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(b=x.alternate.memoizedState.cachePool.pool),S=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(S=x.memoizedState.cachePool.pool),S!==b&&(x.flags|=2048)),g!==l&&g&&(f.child.flags|=8192),ay(f,f.updateQueue),_n(f),null);case 4:return ae(),l===null&&Xw(f.stateNode.containerInfo),_n(f),null;case 10:return ol(f.type),_n(f),null;case 19:if(R(jn),x=f.memoizedState,x===null)return _n(f),null;if(b=(f.flags&128)!==0,S=x.rendering,S===null)if(b)Xg(x,!1);else{if(Ln!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(S=Vx(l),S!==null){for(f.flags|=128,Xg(x,!1),l=S.updateQueue,f.updateQueue=l,ay(f,l),f.subtreeFlags=0,l=g,g=f.child;g!==null;)F8(g,l),g=g.sibling;return G(jn,jn.current&1|2),Ot&&al(f,x.treeForkCount),f.child}l=l.sibling}x.tail!==null&&dt()>cy&&(f.flags|=128,b=!0,Xg(x,!1),f.lanes=4194304)}else{if(!b)if(l=Vx(S),l!==null){if(f.flags|=128,b=!0,l=l.updateQueue,f.updateQueue=l,ay(f,l),Xg(x,!0),x.tail===null&&x.tailMode==="hidden"&&!S.alternate&&!Ot)return _n(f),null}else 2*dt()-x.renderingStartTime>cy&&g!==536870912&&(f.flags|=128,b=!0,Xg(x,!1),f.lanes=4194304);x.isBackwards?(S.sibling=f.child,f.child=S):(l=x.last,l!==null?l.sibling=S:f.child=S,x.last=S)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=dt(),l.sibling=null,g=jn.current,G(jn,b?g&1|2:g&1),Ot&&al(f,x.treeForkCount),l):(_n(f),null);case 22:case 23:return da(f),WS(),x=f.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(f.flags|=8192):x&&(f.flags|=8192),x?(g&536870912)!==0&&(f.flags&128)===0&&(_n(f),f.subtreeFlags&6&&(f.flags|=8192)):_n(f),g=f.updateQueue,g!==null&&ay(f,g.retryQueue),g=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),x=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(x=f.memoizedState.cachePool.pool),x!==g&&(f.flags|=2048),l!==null&&R(Jc),null;case 24:return g=null,l!==null&&(g=l.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),ol(Qn),_n(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function uee(l,f){switch(RS(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return ol(Qn),ae(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return ke(f),null;case 31:if(f.memoizedState!==null){if(da(f),f.alternate===null)throw Error(r(340));Kc()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(da(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Kc()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return R(jn),null;case 4:return ae(),null;case 10:return ol(f.type),null;case 22:case 23:return da(f),WS(),l!==null&&R(Jc),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return ol(Qn),null;case 25:return null;default:return null}}function nR(l,f){switch(RS(f),f.tag){case 3:ol(Qn),ae();break;case 26:case 27:case 5:ke(f);break;case 4:ae();break;case 31:f.memoizedState!==null&&da(f);break;case 13:da(f);break;case 19:R(jn);break;case 10:ol(f.type);break;case 22:case 23:da(f),WS(),l!==null&&R(Jc);break;case 24:ol(Qn)}}function Wg(l,f){try{var g=f.updateQueue,x=g!==null?g.lastEffect:null;if(x!==null){var b=x.next;g=b;do{if((g.tag&l)===l){x=void 0;var S=g.create,M=g.inst;x=S(),M.destroy=x}g=g.next}while(g!==b)}}catch(U){nn(f,f.return,U)}}function vu(l,f,g){try{var x=f.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var S=b.next;x=S;do{if((x.tag&l)===l){var M=x.inst,U=M.destroy;if(U!==void 0){M.destroy=void 0,b=f;var ne=g,fe=U;try{fe()}catch(Ee){nn(b,ne,Ee)}}}x=x.next}while(x!==S)}}catch(Ee){nn(f,f.return,Ee)}}function rR(l){var f=l.updateQueue;if(f!==null){var g=l.stateNode;try{X8(f,g)}catch(x){nn(l,l.return,x)}}}function iR(l,f,g){g.props=af(l.type,l.memoizedProps),g.state=l.memoizedState;try{g.componentWillUnmount()}catch(x){nn(l,f,x)}}function Yg(l,f){try{var g=l.ref;if(g!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof g=="function"?l.refCleanup=g(x):g.current=x}}catch(b){nn(l,f,b)}}function oo(l,f){var g=l.ref,x=l.refCleanup;if(g!==null)if(typeof x=="function")try{x()}catch(b){nn(l,f,b)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof g=="function")try{g(null)}catch(b){nn(l,f,b)}else g.current=null}function aR(l){var f=l.type,g=l.memoizedProps,x=l.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":g.autoFocus&&x.focus();break e;case"img":g.src?x.src=g.src:g.srcSet&&(x.srcset=g.srcSet)}}catch(b){nn(l,l.return,b)}}function Tw(l,f,g){try{var x=l.stateNode;Oee(x,l.type,g,f),x[Z]=f}catch(b){nn(l,l.return,b)}}function sR(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Tu(l.type)||l.tag===4}function kw(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||sR(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Tu(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Cw(l,f,g){var x=l.tag;if(x===5||x===6)l=l.stateNode,f?(g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g).insertBefore(l,f):(f=g.nodeType===9?g.body:g.nodeName==="HTML"?g.ownerDocument.body:g,f.appendChild(l),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=nl));else if(x!==4&&(x===27&&Tu(l.type)&&(g=l.stateNode,f=null),l=l.child,l!==null))for(Cw(l,f,g),l=l.sibling;l!==null;)Cw(l,f,g),l=l.sibling}function sy(l,f,g){var x=l.tag;if(x===5||x===6)l=l.stateNode,f?g.insertBefore(l,f):g.appendChild(l);else if(x!==4&&(x===27&&Tu(l.type)&&(g=l.stateNode),l=l.child,l!==null))for(sy(l,f,g),l=l.sibling;l!==null;)sy(l,f,g),l=l.sibling}function oR(l){var f=l.stateNode,g=l.memoizedProps;try{for(var x=l.type,b=f.attributes;b.length;)f.removeAttributeNode(b[0]);Nr(f,x,g),f[W]=l,f[Z]=g}catch(S){nn(l,l.return,S)}}var hl=!1,er=!1,Fw=!1,lR=typeof WeakSet=="function"?WeakSet:Set,yr=null;function cee(l,f){if(l=l.containerInfo,Kw=ky,l=_8(l),ES(l)){if("selectionStart"in l)var g={start:l.selectionStart,end:l.selectionEnd};else e:{g=(g=l.ownerDocument)&&g.defaultView||window;var x=g.getSelection&&g.getSelection();if(x&&x.rangeCount!==0){g=x.anchorNode;var b=x.anchorOffset,S=x.focusNode;x=x.focusOffset;try{g.nodeType,S.nodeType}catch{g=null;break e}var M=0,U=-1,ne=-1,fe=0,Ee=0,Ce=l,pe=null;t:for(;;){for(var xe;Ce!==g||b!==0&&Ce.nodeType!==3||(U=M+b),Ce!==S||x!==0&&Ce.nodeType!==3||(ne=M+x),Ce.nodeType===3&&(M+=Ce.nodeValue.length),(xe=Ce.firstChild)!==null;)pe=Ce,Ce=xe;for(;;){if(Ce===l)break t;if(pe===g&&++fe===b&&(U=M),pe===S&&++Ee===x&&(ne=M),(xe=Ce.nextSibling)!==null)break;Ce=pe,pe=Ce.parentNode}Ce=xe}g=U===-1||ne===-1?null:{start:U,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(Qw={focusedElem:l,selectionRange:g},ky=!1,yr=f;yr!==null;)if(f=yr,l=f.child,(f.subtreeFlags&1028)!==0&&l!==null)l.return=f,yr=l;else for(;yr!==null;){switch(f=yr,S=f.alternate,l=f.flags,f.tag){case 0:if((l&4)!==0&&(l=f.updateQueue,l=l!==null?l.events:null,l!==null))for(g=0;g<l.length;g++)b=l[g],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&S!==null){l=void 0,g=f,b=S.memoizedProps,S=S.memoizedState,x=g.stateNode;try{var Ye=af(g.type,b);l=x.getSnapshotBeforeUpdate(Ye,S),x.__reactInternalSnapshotBeforeUpdate=l}catch(ut){nn(g,g.return,ut)}}break;case 3:if((l&1024)!==0){if(l=f.stateNode.containerInfo,g=l.nodeType,g===9)eA(l);else if(g===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":eA(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=f.sibling,l!==null){l.return=f.return,yr=l;break}yr=f.return}}function uR(l,f,g){var x=g.flags;switch(g.tag){case 0:case 11:case 15:gl(l,g),x&4&&Wg(5,g);break;case 1:if(gl(l,g),x&4)if(l=g.stateNode,f===null)try{l.componentDidMount()}catch(M){nn(g,g.return,M)}else{var b=af(g.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(b,f,l.__reactInternalSnapshotBeforeUpdate)}catch(M){nn(g,g.return,M)}}x&64&&rR(g),x&512&&Yg(g,g.return);break;case 3:if(gl(l,g),x&64&&(l=g.updateQueue,l!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{X8(l,f)}catch(M){nn(g,g.return,M)}}break;case 27:f===null&&x&4&&oR(g);case 26:case 5:gl(l,g),f===null&&x&4&&aR(g),x&512&&Yg(g,g.return);break;case 12:gl(l,g);break;case 31:gl(l,g),x&4&&hR(l,g);break;case 13:gl(l,g),x&4&&dR(l,g),x&64&&(l=g.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(g=vee.bind(null,g),Bee(l,g))));break;case 22:if(x=g.memoizedState!==null||hl,!x){f=f!==null&&f.memoizedState!==null||er,b=hl;var S=er;hl=x,(er=f)&&!S?pl(l,g,(g.subtreeFlags&8772)!==0):gl(l,g),hl=b,er=S}break;case 30:break;default:gl(l,g)}}function cR(l){var f=l.alternate;f!==null&&(l.alternate=null,cR(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&Me(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var An=null,qi=!1;function dl(l,f,g){for(g=g.child;g!==null;)fR(l,f,g),g=g.sibling}function fR(l,f,g){if(Sn&&typeof Sn.onCommitFiberUnmount=="function")try{Sn.onCommitFiberUnmount(Vt,g)}catch{}switch(g.tag){case 26:er||oo(g,f),dl(l,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:er||oo(g,f);var x=An,b=qi;Tu(g.type)&&(An=g.stateNode,qi=!1),dl(l,f,g),i1(g.stateNode),An=x,qi=b;break;case 5:er||oo(g,f);case 6:if(x=An,b=qi,An=null,dl(l,f,g),An=x,qi=b,An!==null)if(qi)try{(An.nodeType===9?An.body:An.nodeName==="HTML"?An.ownerDocument.body:An).removeChild(g.stateNode)}catch(S){nn(g,f,S)}else try{An.removeChild(g.stateNode)}catch(S){nn(g,f,S)}break;case 18:An!==null&&(qi?(l=An,rN(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,g.stateNode),Eh(l)):rN(An,g.stateNode));break;case 4:x=An,b=qi,An=g.stateNode.containerInfo,qi=!0,dl(l,f,g),An=x,qi=b;break;case 0:case 11:case 14:case 15:vu(2,g,f),er||vu(4,g,f),dl(l,f,g);break;case 1:er||(oo(g,f),x=g.stateNode,typeof x.componentWillUnmount=="function"&&iR(g,f,x)),dl(l,f,g);break;case 21:dl(l,f,g);break;case 22:er=(x=er)||g.memoizedState!==null,dl(l,f,g),er=x;break;default:dl(l,f,g)}}function hR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Eh(l)}catch(g){nn(f,f.return,g)}}}function dR(l,f){if(f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Eh(l)}catch(g){nn(f,f.return,g)}}function fee(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new lR),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new lR),f;default:throw Error(r(435,l.tag))}}function oy(l,f){var g=fee(l);f.forEach(function(x){if(!g.has(x)){g.add(x);var b=_ee.bind(null,l,x);x.then(b,b)}})}function Gi(l,f){var g=f.deletions;if(g!==null)for(var x=0;x<g.length;x++){var b=g[x],S=l,M=f,U=M;e:for(;U!==null;){switch(U.tag){case 27:if(Tu(U.type)){An=U.stateNode,qi=!1;break e}break;case 5:An=U.stateNode,qi=!1;break e;case 3:case 4:An=U.stateNode.containerInfo,qi=!0;break e}U=U.return}if(An===null)throw Error(r(160));fR(S,M,b),An=null,qi=!1,S=b.alternate,S!==null&&(S.return=null),b.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)gR(f,l),f=f.sibling}var _s=null;function gR(l,f){var g=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Gi(f,l),Vi(l),x&4&&(vu(3,l,l.return),Wg(3,l),vu(5,l,l.return));break;case 1:Gi(f,l),Vi(l),x&512&&(er||g===null||oo(g,g.return)),x&64&&hl&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(g=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=g===null?x:g.concat(x))));break;case 26:var b=_s;if(Gi(f,l),Vi(l),x&512&&(er||g===null||oo(g,g.return)),x&4){var S=g!==null?g.memoizedState:null;if(x=l.memoizedState,g===null)if(x===null)if(l.stateNode===null){e:{x=l.type,g=l.memoizedProps,b=b.ownerDocument||b;t:switch(x){case"title":S=b.getElementsByTagName("title")[0],(!S||S[me]||S[W]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=b.createElement(x),b.head.insertBefore(S,b.querySelector("head > title"))),Nr(S,x,g),S[W]=l,Ke(S),x=S;break e;case"link":var M=gN("link","href",b).get(x+(g.href||""));if(M){for(var U=0;U<M.length;U++)if(S=M[U],S.getAttribute("href")===(g.href==null||g.href===""?null:g.href)&&S.getAttribute("rel")===(g.rel==null?null:g.rel)&&S.getAttribute("title")===(g.title==null?null:g.title)&&S.getAttribute("crossorigin")===(g.crossOrigin==null?null:g.crossOrigin)){M.splice(U,1);break t}}S=b.createElement(x),Nr(S,x,g),b.head.appendChild(S);break;case"meta":if(M=gN("meta","content",b).get(x+(g.content||""))){for(U=0;U<M.length;U++)if(S=M[U],S.getAttribute("content")===(g.content==null?null:""+g.content)&&S.getAttribute("name")===(g.name==null?null:g.name)&&S.getAttribute("property")===(g.property==null?null:g.property)&&S.getAttribute("http-equiv")===(g.httpEquiv==null?null:g.httpEquiv)&&S.getAttribute("charset")===(g.charSet==null?null:g.charSet)){M.splice(U,1);break t}}S=b.createElement(x),Nr(S,x,g),b.head.appendChild(S);break;default:throw Error(r(468,x))}S[W]=l,Ke(S),x=S}l.stateNode=x}else pN(b,l.type,l.stateNode);else l.stateNode=dN(b,x,l.memoizedProps);else S!==x?(S===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):S.count--,x===null?pN(b,l.type,l.stateNode):dN(b,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Tw(l,l.memoizedProps,g.memoizedProps)}break;case 27:Gi(f,l),Vi(l),x&512&&(er||g===null||oo(g,g.return)),g!==null&&x&4&&Tw(l,l.memoizedProps,g.memoizedProps);break;case 5:if(Gi(f,l),Vi(l),x&512&&(er||g===null||oo(g,g.return)),l.flags&32){b=l.stateNode;try{G0(b,"")}catch(Ye){nn(l,l.return,Ye)}}x&4&&l.stateNode!=null&&(b=l.memoizedProps,Tw(l,b,g!==null?g.memoizedProps:b)),x&1024&&(Fw=!0);break;case 6:if(Gi(f,l),Vi(l),x&4){if(l.stateNode===null)throw Error(r(162));x=l.memoizedProps,g=l.stateNode;try{g.nodeValue=x}catch(Ye){nn(l,l.return,Ye)}}break;case 3:if(Sy=null,b=_s,_s=by(f.containerInfo),Gi(f,l),_s=b,Vi(l),x&4&&g!==null&&g.memoizedState.isDehydrated)try{Eh(f.containerInfo)}catch(Ye){nn(l,l.return,Ye)}Fw&&(Fw=!1,pR(l));break;case 4:x=_s,_s=by(l.stateNode.containerInfo),Gi(f,l),Vi(l),_s=x;break;case 12:Gi(f,l),Vi(l);break;case 31:Gi(f,l),Vi(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,oy(l,x)));break;case 13:Gi(f,l),Vi(l),l.child.flags&8192&&l.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(uy=dt()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,oy(l,x)));break;case 22:b=l.memoizedState!==null;var ne=g!==null&&g.memoizedState!==null,fe=hl,Ee=er;if(hl=fe||b,er=Ee||ne,Gi(f,l),er=Ee,hl=fe,Vi(l),x&8192)e:for(f=l.stateNode,f._visibility=b?f._visibility&-2:f._visibility|1,b&&(g===null||ne||hl||er||sf(l)),g=null,f=l;;){if(f.tag===5||f.tag===26){if(g===null){ne=g=f;try{if(S=ne.stateNode,b)M=S.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{U=ne.stateNode;var Ce=ne.memoizedProps.style,pe=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;U.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ye){nn(ne,ne.return,Ye)}}}else if(f.tag===6){if(g===null){ne=f;try{ne.stateNode.nodeValue=b?"":ne.memoizedProps}catch(Ye){nn(ne,ne.return,Ye)}}}else if(f.tag===18){if(g===null){ne=f;try{var xe=ne.stateNode;b?iN(xe,!0):iN(ne.stateNode,!1)}catch(Ye){nn(ne,ne.return,Ye)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}x&4&&(x=l.updateQueue,x!==null&&(g=x.retryQueue,g!==null&&(x.retryQueue=null,oy(l,g))));break;case 19:Gi(f,l),Vi(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,oy(l,x)));break;case 30:break;case 21:break;default:Gi(f,l),Vi(l)}}function Vi(l){var f=l.flags;if(f&2){try{for(var g,x=l.return;x!==null;){if(sR(x)){g=x;break}x=x.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var b=g.stateNode,S=kw(l);sy(l,S,b);break;case 5:var M=g.stateNode;g.flags&32&&(G0(M,""),g.flags&=-33);var U=kw(l);sy(l,U,M);break;case 3:case 4:var ne=g.stateNode.containerInfo,fe=kw(l);Cw(l,fe,ne);break;default:throw Error(r(161))}}catch(Ee){nn(l,l.return,Ee)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function pR(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;pR(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),l=l.sibling}}function gl(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)uR(l,f.alternate,f),f=f.sibling}function sf(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:vu(4,f,f.return),sf(f);break;case 1:oo(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount=="function"&&iR(f,f.return,g),sf(f);break;case 27:i1(f.stateNode);case 26:case 5:oo(f,f.return),sf(f);break;case 22:f.memoizedState===null&&sf(f);break;case 30:sf(f);break;default:sf(f)}l=l.sibling}}function pl(l,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var x=f.alternate,b=l,S=f,M=S.flags;switch(S.tag){case 0:case 11:case 15:pl(b,S,g),Wg(4,S);break;case 1:if(pl(b,S,g),x=S,b=x.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(fe){nn(x,x.return,fe)}if(x=S,b=x.updateQueue,b!==null){var U=x.stateNode;try{var ne=b.shared.hiddenCallbacks;if(ne!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ne.length;b++)V8(ne[b],U)}catch(fe){nn(x,x.return,fe)}}g&&M&64&&rR(S),Yg(S,S.return);break;case 27:oR(S);case 26:case 5:pl(b,S,g),g&&x===null&&M&4&&aR(S),Yg(S,S.return);break;case 12:pl(b,S,g);break;case 31:pl(b,S,g),g&&M&4&&hR(b,S);break;case 13:pl(b,S,g),g&&M&4&&dR(b,S);break;case 22:S.memoizedState===null&&pl(b,S,g),Yg(S,S.return);break;case 30:break;default:pl(b,S,g)}f=f.sibling}}function Dw(l,f){var g=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(g=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==g&&(l!=null&&l.refCount++,g!=null&&$g(g))}function Ow(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&$g(l))}function bs(l,f,g,x){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)mR(l,f,g,x),f=f.sibling}function mR(l,f,g,x){var b=f.flags;switch(f.tag){case 0:case 11:case 15:bs(l,f,g,x),b&2048&&Wg(9,f);break;case 1:bs(l,f,g,x);break;case 3:bs(l,f,g,x),b&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&$g(l)));break;case 12:if(b&2048){bs(l,f,g,x),l=f.stateNode;try{var S=f.memoizedProps,M=S.id,U=S.onPostCommit;typeof U=="function"&&U(M,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(ne){nn(f,f.return,ne)}}else bs(l,f,g,x);break;case 31:bs(l,f,g,x);break;case 13:bs(l,f,g,x);break;case 23:break;case 22:S=f.stateNode,M=f.alternate,f.memoizedState!==null?S._visibility&2?bs(l,f,g,x):Kg(l,f):S._visibility&2?bs(l,f,g,x):(S._visibility|=2,fh(l,f,g,x,(f.subtreeFlags&10256)!==0||!1)),b&2048&&Dw(M,f);break;case 24:bs(l,f,g,x),b&2048&&Ow(f.alternate,f);break;default:bs(l,f,g,x)}}function fh(l,f,g,x,b){for(b=b&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var S=l,M=f,U=g,ne=x,fe=M.flags;switch(M.tag){case 0:case 11:case 15:fh(S,M,U,ne,b),Wg(8,M);break;case 23:break;case 22:var Ee=M.stateNode;M.memoizedState!==null?Ee._visibility&2?fh(S,M,U,ne,b):Kg(S,M):(Ee._visibility|=2,fh(S,M,U,ne,b)),b&&fe&2048&&Dw(M.alternate,M);break;case 24:fh(S,M,U,ne,b),b&&fe&2048&&Ow(M.alternate,M);break;default:fh(S,M,U,ne,b)}f=f.sibling}}function Kg(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=l,x=f,b=x.flags;switch(x.tag){case 22:Kg(g,x),b&2048&&Dw(x.alternate,x);break;case 24:Kg(g,x),b&2048&&Ow(x.alternate,x);break;default:Kg(g,x)}f=f.sibling}}var Qg=8192;function hh(l,f,g){if(l.subtreeFlags&Qg)for(l=l.child;l!==null;)xR(l,f,g),l=l.sibling}function xR(l,f,g){switch(l.tag){case 26:hh(l,f,g),l.flags&Qg&&l.memoizedState!==null&&Qee(g,_s,l.memoizedState,l.memoizedProps);break;case 5:hh(l,f,g);break;case 3:case 4:var x=_s;_s=by(l.stateNode.containerInfo),hh(l,f,g),_s=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=Qg,Qg=16777216,hh(l,f,g),Qg=x):hh(l,f,g));break;default:hh(l,f,g)}}function yR(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function Zg(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];yr=x,_R(x,l)}yR(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)vR(l),l=l.sibling}function vR(l){switch(l.tag){case 0:case 11:case 15:Zg(l),l.flags&2048&&vu(9,l,l.return);break;case 3:Zg(l);break;case 12:Zg(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,ly(l)):Zg(l);break;default:Zg(l)}}function ly(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var x=f[g];yr=x,_R(x,l)}yR(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:vu(8,f,f.return),ly(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,ly(f));break;default:ly(f)}l=l.sibling}}function _R(l,f){for(;yr!==null;){var g=yr;switch(g.tag){case 0:case 11:case 15:vu(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var x=g.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:$g(g.memoizedState.cache)}if(x=g.child,x!==null)x.return=g,yr=x;else e:for(g=l;yr!==null;){x=yr;var b=x.sibling,S=x.return;if(cR(x),x===g){yr=null;break e}if(b!==null){b.return=S,yr=b;break e}yr=S}}}var hee={getCacheForType:function(l){var f=Mr(Qn),g=f.data.get(l);return g===void 0&&(g=l(),f.data.set(l,g)),g},cacheSignal:function(){return Mr(Qn).controller.signal}},dee=typeof WeakMap=="function"?WeakMap:Map,Xt=0,fn=null,Tt=null,Ct=0,tn=0,ga=null,_u=!1,dh=!1,Mw=!1,ml=0,Ln=0,bu=0,of=0,Rw=0,pa=0,gh=0,Jg=null,Xi=null,Nw=!1,uy=0,bR=0,cy=1/0,fy=null,Eu=null,sr=0,Su=null,ph=null,xl=0,$w=0,Lw=null,ER=null,e1=0,Iw=null;function ma(){return(Xt&2)!==0&&Ct!==0?Ct&-Ct:z.T!==null?jw():B()}function SR(){if(pa===0)if((Ct&536870912)===0||Ot){var l=P0;P0<<=1,(P0&3932160)===0&&(P0=262144),pa=l}else pa=536870912;return l=ha.current,l!==null&&(l.flags|=32),pa}function Wi(l,f,g){(l===fn&&(tn===2||tn===9)||l.cancelPendingCommit!==null)&&(mh(l,0),wu(l,Ct,pa,!1)),jc(l,g),((Xt&2)===0||l!==fn)&&(l===fn&&((Xt&2)===0&&(of|=g),Ln===4&&wu(l,Ct,pa,!1)),lo(l))}function wR(l,f,g){if((Xt&6)!==0)throw Error(r(327));var x=!g&&(f&127)===0&&(f&l.expiredLanes)===0||Hc(l,f),b=x?mee(l,f):Bw(l,f,!0),S=x;do{if(b===0){dh&&!x&&wu(l,f,0,!1);break}else{if(g=l.current.alternate,S&&!gee(g)){b=Bw(l,f,!1),S=!1;continue}if(b===2){if(S=f,l.errorRecoveryDisabledLanes&S)var M=0;else M=l.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){f=M;e:{var U=l;b=Jg;var ne=U.current.memoizedState.isDehydrated;if(ne&&(mh(U,M).flags|=256),M=Bw(U,M,!1),M!==2){if(Mw&&!ne){U.errorRecoveryDisabledLanes|=S,of|=S,b=4;break e}S=Xi,Xi=b,S!==null&&(Xi===null?Xi=S:Xi.push.apply(Xi,S))}b=M}if(S=!1,b!==2)continue}}if(b===1){mh(l,0),wu(l,f,0,!0);break}e:{switch(x=l,S=b,S){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:wu(x,f,pa,!_u);break e;case 2:Xi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(b=uy+300-dt(),10<b)){if(wu(x,f,pa,!_u),H0(x,0,!0)!==0)break e;xl=f,x.timeoutHandle=tN(AR.bind(null,x,g,Xi,fy,Nw,f,pa,of,gh,_u,S,"Throttled",-0,0),b);break e}AR(x,g,Xi,fy,Nw,f,pa,of,gh,_u,S,null,-0,0)}}break}while(!0);lo(l)}function AR(l,f,g,x,b,S,M,U,ne,fe,Ee,Ce,pe,xe){if(l.timeoutHandle=-1,Ce=f.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nl},xR(f,S,Ce);var Ye=(S&62914560)===S?uy-dt():(S&4194048)===S?bR-dt():0;if(Ye=Zee(Ce,Ye),Ye!==null){xl=S,l.cancelPendingCommit=Ye(RR.bind(null,l,f,S,g,x,b,M,U,ne,Ee,Ce,null,pe,xe)),wu(l,S,M,!fe);return}}RR(l,f,S,g,x,b,M,U,ne)}function gee(l){for(var f=l;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var x=0;x<g.length;x++){var b=g[x],S=b.getSnapshot;b=b.value;try{if(!ca(S(),b))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function wu(l,f,g,x){f&=~Rw,f&=~of,l.suspendedLanes|=f,l.pingedLanes&=~f,x&&(l.warmLanes|=f),x=l.expirationTimes;for(var b=f;0<b;){var S=31-xi(b),M=1<<S;x[S]=-1,b&=~M}g!==0&&bx(l,g,f)}function hy(){return(Xt&6)===0?(t1(0),!1):!0}function zw(){if(Tt!==null){if(tn===0)var l=Tt.return;else l=Tt,sl=Qc=null,ew(l),sh=null,Ig=0,l=Tt;for(;l!==null;)nR(l.alternate,l),l=l.return;Tt=null}}function mh(l,f){var g=l.timeoutHandle;g!==-1&&(l.timeoutHandle=-1,Nee(g)),g=l.cancelPendingCommit,g!==null&&(l.cancelPendingCommit=null,g()),xl=0,zw(),fn=l,Tt=g=il(l.current,null),Ct=f,tn=0,ga=null,_u=!1,dh=Hc(l,f),Mw=!1,gh=pa=Rw=of=bu=Ln=0,Xi=Jg=null,Nw=!1,(f&8)!==0&&(f|=f&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=f;0<x;){var b=31-xi(x),S=1<<b;f|=l[b],x&=~S}return ml=f,Rx(),g}function TR(l,f){xt=null,z.H=Gg,f===ah||f===Ux?(f=H8(),tn=3):f===HS?(f=H8(),tn=4):tn=f===mw?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ga=f,Tt===null&&(Ln=1,ty(l,Pa(f,l.current)))}function kR(){var l=ha.current;return l===null?!0:(Ct&4194048)===Ct?qa===null:(Ct&62914560)===Ct||(Ct&536870912)!==0?l===qa:!1}function CR(){var l=z.H;return z.H=Gg,l===null?Gg:l}function FR(){var l=z.A;return z.A=hee,l}function dy(){Ln=4,_u||(Ct&4194048)!==Ct&&ha.current!==null||(dh=!0),(bu&134217727)===0&&(of&134217727)===0||fn===null||wu(fn,Ct,pa,!1)}function Bw(l,f,g){var x=Xt;Xt|=2;var b=CR(),S=FR();(fn!==l||Ct!==f)&&(fy=null,mh(l,f)),f=!1;var M=Ln;e:do try{if(tn!==0&&Tt!==null){var U=Tt,ne=ga;switch(tn){case 8:zw(),M=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(f=!0);var fe=tn;if(tn=0,ga=null,xh(l,U,ne,fe),g&&dh){M=0;break e}break;default:fe=tn,tn=0,ga=null,xh(l,U,ne,fe)}}pee(),M=Ln;break}catch(Ee){TR(l,Ee)}while(!0);return f&&l.shellSuspendCounter++,sl=Qc=null,Xt=x,z.H=b,z.A=S,Tt===null&&(fn=null,Ct=0,Rx()),M}function pee(){for(;Tt!==null;)DR(Tt)}function mee(l,f){var g=Xt;Xt|=2;var x=CR(),b=FR();fn!==l||Ct!==f?(fy=null,cy=dt()+500,mh(l,f)):dh=Hc(l,f);e:do try{if(tn!==0&&Tt!==null){f=Tt;var S=ga;t:switch(tn){case 1:tn=0,ga=null,xh(l,f,S,1);break;case 2:case 9:if(P8(S)){tn=0,ga=null,OR(f);break}f=function(){tn!==2&&tn!==9||fn!==l||(tn=7),lo(l)},S.then(f,f);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:P8(S)?(tn=0,ga=null,OR(f)):(tn=0,ga=null,xh(l,f,S,7));break;case 5:var M=null;switch(Tt.tag){case 26:M=Tt.memoizedState;case 5:case 27:var U=Tt;if(M?mN(M):U.stateNode.complete){tn=0,ga=null;var ne=U.sibling;if(ne!==null)Tt=ne;else{var fe=U.return;fe!==null?(Tt=fe,gy(fe)):Tt=null}break t}}tn=0,ga=null,xh(l,f,S,5);break;case 6:tn=0,ga=null,xh(l,f,S,6);break;case 8:zw(),Ln=6;break e;default:throw Error(r(462))}}xee();break}catch(Ee){TR(l,Ee)}while(!0);return sl=Qc=null,z.H=x,z.A=b,Xt=g,Tt!==null?0:(fn=null,Ct=0,Rx(),Ln)}function xee(){for(;Tt!==null&&!xr();)DR(Tt)}function DR(l){var f=eR(l.alternate,l,ml);l.memoizedProps=l.pendingProps,f===null?gy(l):Tt=f}function OR(l){var f=l,g=f.alternate;switch(f.tag){case 15:case 0:f=WM(g,f,f.pendingProps,f.type,void 0,Ct);break;case 11:f=WM(g,f,f.pendingProps,f.type.render,f.ref,Ct);break;case 5:ew(f);default:nR(g,f),f=Tt=F8(f,ml),f=eR(g,f,ml)}l.memoizedProps=l.pendingProps,f===null?gy(l):Tt=f}function xh(l,f,g,x){sl=Qc=null,ew(f),sh=null,Ig=0;var b=f.return;try{if(aee(l,b,f,g,Ct)){Ln=1,ty(l,Pa(g,l.current)),Tt=null;return}}catch(S){if(b!==null)throw Tt=b,S;Ln=1,ty(l,Pa(g,l.current)),Tt=null;return}f.flags&32768?(Ot||x===1?l=!0:dh||(Ct&536870912)!==0?l=!1:(_u=l=!0,(x===2||x===9||x===3||x===6)&&(x=ha.current,x!==null&&x.tag===13&&(x.flags|=16384))),MR(f,l)):gy(f)}function gy(l){var f=l;do{if((f.flags&32768)!==0){MR(f,_u);return}l=f.return;var g=lee(f.alternate,f,ml);if(g!==null){Tt=g;return}if(f=f.sibling,f!==null){Tt=f;return}Tt=f=l}while(f!==null);Ln===0&&(Ln=5)}function MR(l,f){do{var g=uee(l.alternate,l);if(g!==null){g.flags&=32767,Tt=g;return}if(g=l.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(l=l.sibling,l!==null)){Tt=l;return}Tt=l=g}while(l!==null);Ln=6,Tt=null}function RR(l,f,g,x,b,S,M,U,ne){l.cancelPendingCommit=null;do py();while(sr!==0);if((Xt&6)!==0)throw Error(r(327));if(f!==null){if(f===l.current)throw Error(r(177));if(S=f.lanes|f.childLanes,S|=kS,aS(l,g,S,M,U,ne),l===fn&&(Tt=fn=null,Ct=0),ph=f,Su=l,xl=g,$w=S,Lw=b,ER=x,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,bee(Kt,function(){return zR(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||x){x=z.T,z.T=null,b=X.p,X.p=2,M=Xt,Xt|=4;try{cee(l,f,g)}finally{Xt=M,X.p=b,z.T=x}}sr=1,NR(),$R(),LR()}}function NR(){if(sr===1){sr=0;var l=Su,f=ph,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=z.T,z.T=null;var x=X.p;X.p=2;var b=Xt;Xt|=4;try{gR(f,l);var S=Qw,M=_8(l.containerInfo),U=S.focusedElem,ne=S.selectionRange;if(M!==U&&U&&U.ownerDocument&&v8(U.ownerDocument.documentElement,U)){if(ne!==null&&ES(U)){var fe=ne.start,Ee=ne.end;if(Ee===void 0&&(Ee=fe),"selectionStart"in U)U.selectionStart=fe,U.selectionEnd=Math.min(Ee,U.value.length);else{var Ce=U.ownerDocument||document,pe=Ce&&Ce.defaultView||window;if(pe.getSelection){var xe=pe.getSelection(),Ye=U.textContent.length,ut=Math.min(ne.start,Ye),un=ne.end===void 0?ut:Math.min(ne.end,Ye);!xe.extend&&ut>un&&(M=un,un=ut,ut=M);var oe=y8(U,ut),ie=y8(U,un);if(oe&&ie&&(xe.rangeCount!==1||xe.anchorNode!==oe.node||xe.anchorOffset!==oe.offset||xe.focusNode!==ie.node||xe.focusOffset!==ie.offset)){var ce=Ce.createRange();ce.setStart(oe.node,oe.offset),xe.removeAllRanges(),ut>un?(xe.addRange(ce),xe.extend(ie.node,ie.offset)):(ce.setEnd(ie.node,ie.offset),xe.addRange(ce))}}}}for(Ce=[],xe=U;xe=xe.parentNode;)xe.nodeType===1&&Ce.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ce.length;U++){var Te=Ce[U];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}ky=!!Kw,Qw=Kw=null}finally{Xt=b,X.p=x,z.T=g}}l.current=f,sr=2}}function $R(){if(sr===2){sr=0;var l=Su,f=ph,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=z.T,z.T=null;var x=X.p;X.p=2;var b=Xt;Xt|=4;try{uR(l,f.alternate,f)}finally{Xt=b,X.p=x,z.T=g}}sr=3}}function LR(){if(sr===4||sr===3){sr=0,Xr();var l=Su,f=ph,g=xl,x=ER;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?sr=5:(sr=0,ph=Su=null,IR(l,l.pendingLanes));var b=l.pendingLanes;if(b===0&&(Eu=null),Eg(g),f=f.stateNode,Sn&&typeof Sn.onCommitFiberRoot=="function")try{Sn.onCommitFiberRoot(Vt,f,void 0,(f.current.flags&128)===128)}catch{}if(x!==null){f=z.T,b=X.p,X.p=2,z.T=null;try{for(var S=l.onRecoverableError,M=0;M<x.length;M++){var U=x[M];S(U.value,{componentStack:U.stack})}}finally{z.T=f,X.p=b}}(xl&3)!==0&&py(),lo(l),b=l.pendingLanes,(g&261930)!==0&&(b&42)!==0?l===Iw?e1++:(e1=0,Iw=l):e1=0,t1(0)}}function IR(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,$g(f)))}function py(){return NR(),$R(),LR(),zR()}function zR(){if(sr!==5)return!1;var l=Su,f=$w;$w=0;var g=Eg(xl),x=z.T,b=X.p;try{X.p=32>g?32:g,z.T=null,g=Lw,Lw=null;var S=Su,M=xl;if(sr=0,ph=Su=null,xl=0,(Xt&6)!==0)throw Error(r(331));var U=Xt;if(Xt|=4,vR(S.current),mR(S,S.current,M,g),Xt=U,t1(0,!1),Sn&&typeof Sn.onPostCommitFiberRoot=="function")try{Sn.onPostCommitFiberRoot(Vt,S)}catch{}return!0}finally{X.p=b,z.T=x,IR(l,f)}}function BR(l,f,g){f=Pa(g,f),f=pw(l.stateNode,f,2),l=mu(l,f,2),l!==null&&(jc(l,2),lo(l))}function nn(l,f,g){if(l.tag===3)BR(l,l,g);else for(;f!==null;){if(f.tag===3){BR(f,l,g);break}else if(f.tag===1){var x=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(Eu===null||!Eu.has(x))){l=Pa(g,l),g=PM(2),x=mu(f,g,2),x!==null&&(UM(g,x,f,l),jc(x,2),lo(x));break}}f=f.return}}function Pw(l,f,g){var x=l.pingCache;if(x===null){x=l.pingCache=new dee;var b=new Set;x.set(f,b)}else b=x.get(f),b===void 0&&(b=new Set,x.set(f,b));b.has(g)||(Mw=!0,b.add(g),l=yee.bind(null,l,f,g),f.then(l,l))}function yee(l,f,g){var x=l.pingCache;x!==null&&x.delete(f),l.pingedLanes|=l.suspendedLanes&g,l.warmLanes&=~g,fn===l&&(Ct&g)===g&&(Ln===4||Ln===3&&(Ct&62914560)===Ct&&300>dt()-uy?(Xt&2)===0&&mh(l,0):Rw|=g,gh===Ct&&(gh=0)),lo(l)}function PR(l,f){f===0&&(f=_x()),l=Wc(l,f),l!==null&&(jc(l,f),lo(l))}function vee(l){var f=l.memoizedState,g=0;f!==null&&(g=f.retryLane),PR(l,g)}function _ee(l,f){var g=0;switch(l.tag){case 31:case 13:var x=l.stateNode,b=l.memoizedState;b!==null&&(g=b.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(f),PR(l,g)}function bee(l,f){return $t(l,f)}var my=null,yh=null,Uw=!1,xy=!1,Hw=!1,Au=0;function lo(l){l!==yh&&l.next===null&&(yh===null?my=yh=l:yh=yh.next=l),xy=!0,Uw||(Uw=!0,See())}function t1(l,f){if(!Hw&&xy){Hw=!0;do for(var g=!1,x=my;x!==null;){if(l!==0){var b=x.pendingLanes;if(b===0)var S=0;else{var M=x.suspendedLanes,U=x.pingedLanes;S=(1<<31-xi(42|l)+1)-1,S&=b&~(M&~U),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(g=!0,qR(x,S))}else S=Ct,S=H0(x,x===fn?S:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(S&3)===0||Hc(x,S)||(g=!0,qR(x,S));x=x.next}while(g);Hw=!1}}function Eee(){UR()}function UR(){xy=Uw=!1;var l=0;Au!==0&&Ree()&&(l=Au);for(var f=dt(),g=null,x=my;x!==null;){var b=x.next,S=HR(x,f);S===0?(x.next=null,g===null?my=b:g.next=b,b===null&&(yh=g)):(g=x,(l!==0||(S&3)!==0)&&(xy=!0)),x=b}sr!==0&&sr!==5||t1(l),Au!==0&&(Au=0)}function HR(l,f){for(var g=l.suspendedLanes,x=l.pingedLanes,b=l.expirationTimes,S=l.pendingLanes&-62914561;0<S;){var M=31-xi(S),U=1<<M,ne=b[M];ne===-1?((U&g)===0||(U&x)!==0)&&(b[M]=iS(U,f)):ne<=f&&(l.expiredLanes|=U),S&=~U}if(f=fn,g=Ct,g=H0(l,l===f?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,g===0||l===f&&(tn===2||tn===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&Kn(x),l.callbackNode=null,l.callbackPriority=0;if((g&3)===0||Hc(l,g)){if(f=g&-g,f===l.callbackPriority)return f;switch(x!==null&&Kn(x),Eg(g)){case 2:case 8:g=Dn;break;case 32:g=Kt;break;case 268435456:g=gt;break;default:g=Kt}return x=jR.bind(null,l),g=$t(g,x),l.callbackPriority=f,l.callbackNode=g,f}return x!==null&&x!==null&&Kn(x),l.callbackPriority=2,l.callbackNode=null,2}function jR(l,f){if(sr!==0&&sr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var g=l.callbackNode;if(py()&&l.callbackNode!==g)return null;var x=Ct;return x=H0(l,l===fn?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(wR(l,x,f),HR(l,dt()),l.callbackNode!=null&&l.callbackNode===g?jR.bind(null,l):null)}function qR(l,f){if(py())return null;wR(l,f,!0)}function See(){$ee(function(){(Xt&6)!==0?$t(Yt,Eee):UR()})}function jw(){if(Au===0){var l=rh;l===0&&(l=Uc,Uc<<=1,(Uc&261888)===0&&(Uc=256)),Au=l}return Au}function GR(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Ax(""+l)}function VR(l,f){var g=f.ownerDocument.createElement("input");return g.name=f.name,g.value=f.value,l.id&&g.setAttribute("form",l.id),f.parentNode.insertBefore(g,f),l=new FormData(l),g.parentNode.removeChild(g),l}function wee(l,f,g,x,b){if(f==="submit"&&g&&g.stateNode===b){var S=GR((b[Z]||null).action),M=x.submitter;M&&(f=(f=M[Z]||null)?GR(f.formAction):M.getAttribute("formAction"),f!==null&&(S=f,M=null));var U=new Fx("action","action",null,x,b);l.push({event:U,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Au!==0){var ne=M?VR(b,M):new FormData(b);uw(g,{pending:!0,data:ne,method:b.method,action:S},null,ne)}}else typeof S=="function"&&(U.preventDefault(),ne=M?VR(b,M):new FormData(b),uw(g,{pending:!0,data:ne,method:b.method,action:S},S,ne))},currentTarget:b}]})}}for(var qw=0;qw<TS.length;qw++){var Gw=TS[qw],Aee=Gw.toLowerCase(),Tee=Gw[0].toUpperCase()+Gw.slice(1);vs(Aee,"on"+Tee)}vs(S8,"onAnimationEnd"),vs(w8,"onAnimationIteration"),vs(A8,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(HJ,"onTransitionRun"),vs(jJ,"onTransitionStart"),vs(qJ,"onTransitionCancel"),vs(T8,"onTransitionEnd"),La("onMouseEnter",["mouseout","mouseover"]),La("onMouseLeave",["mouseout","mouseover"]),La("onPointerEnter",["pointerout","pointerover"]),La("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var n1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kee=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(n1));function XR(l,f){f=(f&4)!==0;for(var g=0;g<l.length;g++){var x=l[g],b=x.event;x=x.listeners;e:{var S=void 0;if(f)for(var M=x.length-1;0<=M;M--){var U=x[M],ne=U.instance,fe=U.currentTarget;if(U=U.listener,ne!==S&&b.isPropagationStopped())break e;S=U,b.currentTarget=fe;try{S(b)}catch(Ee){Mx(Ee)}b.currentTarget=null,S=ne}else for(M=0;M<x.length;M++){if(U=x[M],ne=U.instance,fe=U.currentTarget,U=U.listener,ne!==S&&b.isPropagationStopped())break e;S=U,b.currentTarget=fe;try{S(b)}catch(Ee){Mx(Ee)}b.currentTarget=null,S=ne}}}}function kt(l,f){var g=f[he];g===void 0&&(g=f[he]=new Set);var x=l+"__bubble";g.has(x)||(WR(f,l,2,!1),g.add(x))}function Vw(l,f,g){var x=0;f&&(x|=4),WR(g,l,x,f)}var yy="_reactListening"+Math.random().toString(36).slice(2);function Xw(l){if(!l[yy]){l[yy]=!0,gn.forEach(function(g){g!=="selectionchange"&&(kee.has(g)||Vw(g,!1,l),Vw(g,!0,l))});var f=l.nodeType===9?l:l.ownerDocument;f===null||f[yy]||(f[yy]=!0,Vw("selectionchange",!1,f))}}function WR(l,f,g,x){switch(SN(f)){case 2:var b=tte;break;case 8:b=nte;break;default:b=lA}g=b.bind(null,f,g,l),b=void 0,!dS||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(b=!0),x?b!==void 0?l.addEventListener(f,g,{capture:!0,passive:b}):l.addEventListener(f,g,!0):b!==void 0?l.addEventListener(f,g,{passive:b}):l.addEventListener(f,g,!1)}function Ww(l,f,g,x,b){var S=x;if((f&1)===0&&(f&2)===0&&x!==null)e:for(;;){if(x===null)return;var M=x.tag;if(M===3||M===4){var U=x.stateNode.containerInfo;if(U===b)break;if(M===4)for(M=x.return;M!==null;){var ne=M.tag;if((ne===3||ne===4)&&M.stateNode.containerInfo===b)return;M=M.return}for(;U!==null;){if(M=Pe(U),M===null)return;if(ne=M.tag,ne===5||ne===6||ne===26||ne===27){x=S=M;continue e}U=U.parentNode}}x=x.return}JO(function(){var fe=S,Ee=fS(g),Ce=[];e:{var pe=k8.get(l);if(pe!==void 0){var xe=Fx,Ye=l;switch(l){case"keypress":if(kx(g)===0)break e;case"keydown":case"keyup":xe=_J;break;case"focusin":Ye="focus",xe=xS;break;case"focusout":Ye="blur",xe=xS;break;case"beforeblur":case"afterblur":xe=xS;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=n8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=lJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=SJ;break;case S8:case w8:case A8:xe=fJ;break;case T8:xe=AJ;break;case"scroll":case"scrollend":xe=sJ;break;case"wheel":xe=kJ;break;case"copy":case"cut":case"paste":xe=dJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=i8;break;case"toggle":case"beforetoggle":xe=FJ}var ut=(f&4)!==0,un=!ut&&(l==="scroll"||l==="scrollend"),oe=ut?pe!==null?pe+"Capture":null:pe;ut=[];for(var ie=fe,ce;ie!==null;){var Te=ie;if(ce=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ce===null||oe===null||(Te=wg(ie,oe),Te!=null&&ut.push(r1(ie,Te,ce))),un)break;ie=ie.return}0<ut.length&&(pe=new xe(pe,Ye,null,g,Ee),Ce.push({event:pe,listeners:ut}))}}if((f&7)===0){e:{if(pe=l==="mouseover"||l==="pointerover",xe=l==="mouseout"||l==="pointerout",pe&&g!==cS&&(Ye=g.relatedTarget||g.fromElement)&&(Pe(Ye)||Ye[te]))break e;if((xe||pe)&&(pe=Ee.window===Ee?Ee:(pe=Ee.ownerDocument)?pe.defaultView||pe.parentWindow:window,xe?(Ye=g.relatedTarget||g.toElement,xe=fe,Ye=Ye?Pe(Ye):null,Ye!==null&&(un=a(Ye),ut=Ye.tag,Ye!==un||ut!==5&&ut!==27&&ut!==6)&&(Ye=null)):(xe=null,Ye=fe),xe!==Ye)){if(ut=n8,Te="onMouseLeave",oe="onMouseEnter",ie="mouse",(l==="pointerout"||l==="pointerover")&&(ut=i8,Te="onPointerLeave",oe="onPointerEnter",ie="pointer"),un=xe==null?pe:Ie(xe),ce=Ye==null?pe:Ie(Ye),pe=new ut(Te,ie+"leave",xe,g,Ee),pe.target=un,pe.relatedTarget=ce,Te=null,Pe(Ee)===fe&&(ut=new ut(oe,ie+"enter",Ye,g,Ee),ut.target=ce,ut.relatedTarget=un,Te=ut),un=Te,xe&&Ye)t:{for(ut=Cee,oe=xe,ie=Ye,ce=0,Te=oe;Te;Te=ut(Te))ce++;Te=0;for(var st=ie;st;st=ut(st))Te++;for(;0<ce-Te;)oe=ut(oe),ce--;for(;0<Te-ce;)ie=ut(ie),Te--;for(;ce--;){if(oe===ie||ie!==null&&oe===ie.alternate){ut=oe;break t}oe=ut(oe),ie=ut(ie)}ut=null}else ut=null;xe!==null&&YR(Ce,pe,xe,ut,!1),Ye!==null&&un!==null&&YR(Ce,un,Ye,ut,!0)}}e:{if(pe=fe?Ie(fe):window,xe=pe.nodeName&&pe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&pe.type==="file")var Pt=h8;else if(c8(pe))if(d8)Pt=BJ;else{Pt=IJ;var Je=LJ}else xe=pe.nodeName,!xe||xe.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?fe&&uS(fe.elementType)&&(Pt=h8):Pt=zJ;if(Pt&&(Pt=Pt(l,fe))){f8(Ce,Pt,g,Ee);break e}Je&&Je(l,pe,fe),l==="focusout"&&fe&&pe.type==="number"&&fe.memoizedProps.value!=null&&lS(pe,"number",pe.value)}switch(Je=fe?Ie(fe):window,l){case"focusin":(c8(Je)||Je.contentEditable==="true")&&(Y0=Je,SS=fe,Mg=null);break;case"focusout":Mg=SS=Y0=null;break;case"mousedown":wS=!0;break;case"contextmenu":case"mouseup":case"dragend":wS=!1,b8(Ce,g,Ee);break;case"selectionchange":if(UJ)break;case"keydown":case"keyup":b8(Ce,g,Ee)}var Et;if(vS)e:{switch(l){case"compositionstart":var Ft="onCompositionStart";break e;case"compositionend":Ft="onCompositionEnd";break e;case"compositionupdate":Ft="onCompositionUpdate";break e}Ft=void 0}else W0?l8(l,g)&&(Ft="onCompositionEnd"):l==="keydown"&&g.keyCode===229&&(Ft="onCompositionStart");Ft&&(a8&&g.locale!=="ko"&&(W0||Ft!=="onCompositionStart"?Ft==="onCompositionEnd"&&W0&&(Et=e8()):(uu=Ee,gS="value"in uu?uu.value:uu.textContent,W0=!0)),Je=vy(fe,Ft),0<Je.length&&(Ft=new r8(Ft,l,null,g,Ee),Ce.push({event:Ft,listeners:Je}),Et?Ft.data=Et:(Et=u8(g),Et!==null&&(Ft.data=Et)))),(Et=OJ?MJ(l,g):RJ(l,g))&&(Ft=vy(fe,"onBeforeInput"),0<Ft.length&&(Je=new r8("onBeforeInput","beforeinput",null,g,Ee),Ce.push({event:Je,listeners:Ft}),Je.data=Et)),wee(Ce,l,fe,g,Ee)}XR(Ce,f)})}function r1(l,f,g){return{instance:l,listener:f,currentTarget:g}}function vy(l,f){for(var g=f+"Capture",x=[];l!==null;){var b=l,S=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||S===null||(b=wg(l,g),b!=null&&x.unshift(r1(l,b,S)),b=wg(l,f),b!=null&&x.push(r1(l,b,S))),l.tag===3)return x;l=l.return}return[]}function Cee(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function YR(l,f,g,x,b){for(var S=f._reactName,M=[];g!==null&&g!==x;){var U=g,ne=U.alternate,fe=U.stateNode;if(U=U.tag,ne!==null&&ne===x)break;U!==5&&U!==26&&U!==27||fe===null||(ne=fe,b?(fe=wg(g,S),fe!=null&&M.unshift(r1(g,fe,ne))):b||(fe=wg(g,S),fe!=null&&M.push(r1(g,fe,ne)))),g=g.return}M.length!==0&&l.push({event:f,listeners:M})}var Fee=/\r\n?/g,Dee=/\u0000|\uFFFD/g;function KR(l){return(typeof l=="string"?l:""+l).replace(Fee,`
`).replace(Dee,"")}function QR(l,f){return f=KR(f),KR(l)===f}function ln(l,f,g,x,b,S){switch(g){case"children":typeof x=="string"?f==="body"||f==="textarea"&&x===""||G0(l,x):(typeof x=="number"||typeof x=="bigint")&&f!=="body"&&G0(l,""+x);break;case"className":Sx(l,"class",x);break;case"tabIndex":Sx(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":Sx(l,g,x);break;case"style":QO(l,x,S);break;case"data":if(f!=="object"){Sx(l,"data",x);break}case"src":case"href":if(x===""&&(f!=="a"||g!=="href")){l.removeAttribute(g);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(g);break}x=Ax(""+x),l.setAttribute(g,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(g,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(g==="formAction"?(f!=="input"&&ln(l,f,"name",b.name,b,null),ln(l,f,"formEncType",b.formEncType,b,null),ln(l,f,"formMethod",b.formMethod,b,null),ln(l,f,"formTarget",b.formTarget,b,null)):(ln(l,f,"encType",b.encType,b,null),ln(l,f,"method",b.method,b,null),ln(l,f,"target",b.target,b,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(g);break}x=Ax(""+x),l.setAttribute(g,x);break;case"onClick":x!=null&&(l.onclick=nl);break;case"onScroll":x!=null&&kt("scroll",l);break;case"onScrollEnd":x!=null&&kt("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(g=x.__html,g!=null){if(b.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}g=Ax(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",g);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,""+x):l.removeAttribute(g);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,""):l.removeAttribute(g);break;case"capture":case"download":x===!0?l.setAttribute(g,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(g,x):l.removeAttribute(g);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(g,x):l.removeAttribute(g);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(g):l.setAttribute(g,x);break;case"popover":kt("beforetoggle",l),kt("toggle",l),Hi(l,"popover",x);break;case"xlinkActuate":tl(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":tl(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":tl(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":tl(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":tl(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":tl(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":tl(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":tl(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":tl(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":Hi(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(g=iJ.get(g)||g,Hi(l,g,x))}}function Yw(l,f,g,x,b,S){switch(g){case"style":QO(l,x,S);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(g=x.__html,g!=null){if(b.children!=null)throw Error(r(60));l.innerHTML=g}}break;case"children":typeof x=="string"?G0(l,x):(typeof x=="number"||typeof x=="bigint")&&G0(l,""+x);break;case"onScroll":x!=null&&kt("scroll",l);break;case"onScrollEnd":x!=null&&kt("scrollend",l);break;case"onClick":x!=null&&(l.onclick=nl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pn.hasOwnProperty(g))e:{if(g[0]==="o"&&g[1]==="n"&&(b=g.endsWith("Capture"),f=g.slice(2,b?g.length-7:void 0),S=l[Z]||null,S=S!=null?S[g]:null,typeof S=="function"&&l.removeEventListener(f,S,b),typeof x=="function")){typeof S!="function"&&S!==null&&(g in l?l[g]=null:l.hasAttribute(g)&&l.removeAttribute(g)),l.addEventListener(f,x,b);break e}g in l?l[g]=x:x===!0?l.setAttribute(g,""):Hi(l,g,x)}}}function Nr(l,f,g){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",l),kt("load",l);var x=!1,b=!1,S;for(S in g)if(g.hasOwnProperty(S)){var M=g[S];if(M!=null)switch(S){case"src":x=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:ln(l,f,S,M,g,null)}}b&&ln(l,f,"srcSet",g.srcSet,g,null),x&&ln(l,f,"src",g.src,g,null);return;case"input":kt("invalid",l);var U=S=M=b=null,ne=null,fe=null;for(x in g)if(g.hasOwnProperty(x)){var Ee=g[x];if(Ee!=null)switch(x){case"name":b=Ee;break;case"type":M=Ee;break;case"checked":ne=Ee;break;case"defaultChecked":fe=Ee;break;case"value":S=Ee;break;case"defaultValue":U=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(r(137,f));break;default:ln(l,f,x,Ee,g,null)}}XO(l,S,U,ne,fe,M,b,!1);return;case"select":kt("invalid",l),x=M=S=null;for(b in g)if(g.hasOwnProperty(b)&&(U=g[b],U!=null))switch(b){case"value":S=U;break;case"defaultValue":M=U;break;case"multiple":x=U;default:ln(l,f,b,U,g,null)}f=S,g=M,l.multiple=!!x,f!=null?q0(l,!!x,f,!1):g!=null&&q0(l,!!x,g,!0);return;case"textarea":kt("invalid",l),S=b=x=null;for(M in g)if(g.hasOwnProperty(M)&&(U=g[M],U!=null))switch(M){case"value":x=U;break;case"defaultValue":b=U;break;case"children":S=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:ln(l,f,M,U,g,null)}YO(l,x,b,S);return;case"option":for(ne in g)if(g.hasOwnProperty(ne)&&(x=g[ne],x!=null))switch(ne){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:ln(l,f,ne,x,g,null)}return;case"dialog":kt("beforetoggle",l),kt("toggle",l),kt("cancel",l),kt("close",l);break;case"iframe":case"object":kt("load",l);break;case"video":case"audio":for(x=0;x<n1.length;x++)kt(n1[x],l);break;case"image":kt("error",l),kt("load",l);break;case"details":kt("toggle",l);break;case"embed":case"source":case"link":kt("error",l),kt("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in g)if(g.hasOwnProperty(fe)&&(x=g[fe],x!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,f));default:ln(l,f,fe,x,g,null)}return;default:if(uS(f)){for(Ee in g)g.hasOwnProperty(Ee)&&(x=g[Ee],x!==void 0&&Yw(l,f,Ee,x,g,void 0));return}}for(U in g)g.hasOwnProperty(U)&&(x=g[U],x!=null&&ln(l,f,U,x,g,null))}function Oee(l,f,g,x){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,S=null,M=null,U=null,ne=null,fe=null,Ee=null;for(xe in g){var Ce=g[xe];if(g.hasOwnProperty(xe)&&Ce!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":ne=Ce;default:x.hasOwnProperty(xe)||ln(l,f,xe,null,x,Ce)}}for(var pe in x){var xe=x[pe];if(Ce=g[pe],x.hasOwnProperty(pe)&&(xe!=null||Ce!=null))switch(pe){case"type":S=xe;break;case"name":b=xe;break;case"checked":fe=xe;break;case"defaultChecked":Ee=xe;break;case"value":M=xe;break;case"defaultValue":U=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,f));break;default:xe!==Ce&&ln(l,f,pe,xe,x,Ce)}}oS(l,M,U,ne,fe,Ee,S,b);return;case"select":xe=M=U=pe=null;for(S in g)if(ne=g[S],g.hasOwnProperty(S)&&ne!=null)switch(S){case"value":break;case"multiple":xe=ne;default:x.hasOwnProperty(S)||ln(l,f,S,null,x,ne)}for(b in x)if(S=x[b],ne=g[b],x.hasOwnProperty(b)&&(S!=null||ne!=null))switch(b){case"value":pe=S;break;case"defaultValue":U=S;break;case"multiple":M=S;default:S!==ne&&ln(l,f,b,S,x,ne)}f=U,g=M,x=xe,pe!=null?q0(l,!!g,pe,!1):!!x!=!!g&&(f!=null?q0(l,!!g,f,!0):q0(l,!!g,g?[]:"",!1));return;case"textarea":xe=pe=null;for(U in g)if(b=g[U],g.hasOwnProperty(U)&&b!=null&&!x.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:ln(l,f,U,null,x,b)}for(M in x)if(b=x[M],S=g[M],x.hasOwnProperty(M)&&(b!=null||S!=null))switch(M){case"value":pe=b;break;case"defaultValue":xe=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==S&&ln(l,f,M,b,x,S)}WO(l,pe,xe);return;case"option":for(var Ye in g)if(pe=g[Ye],g.hasOwnProperty(Ye)&&pe!=null&&!x.hasOwnProperty(Ye))switch(Ye){case"selected":l.selected=!1;break;default:ln(l,f,Ye,null,x,pe)}for(ne in x)if(pe=x[ne],xe=g[ne],x.hasOwnProperty(ne)&&pe!==xe&&(pe!=null||xe!=null))switch(ne){case"selected":l.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:ln(l,f,ne,pe,x,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ut in g)pe=g[ut],g.hasOwnProperty(ut)&&pe!=null&&!x.hasOwnProperty(ut)&&ln(l,f,ut,null,x,pe);for(fe in x)if(pe=x[fe],xe=g[fe],x.hasOwnProperty(fe)&&pe!==xe&&(pe!=null||xe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,f));break;default:ln(l,f,fe,pe,x,xe)}return;default:if(uS(f)){for(var un in g)pe=g[un],g.hasOwnProperty(un)&&pe!==void 0&&!x.hasOwnProperty(un)&&Yw(l,f,un,void 0,x,pe);for(Ee in x)pe=x[Ee],xe=g[Ee],!x.hasOwnProperty(Ee)||pe===xe||pe===void 0&&xe===void 0||Yw(l,f,Ee,pe,x,xe);return}}for(var oe in g)pe=g[oe],g.hasOwnProperty(oe)&&pe!=null&&!x.hasOwnProperty(oe)&&ln(l,f,oe,null,x,pe);for(Ce in x)pe=x[Ce],xe=g[Ce],!x.hasOwnProperty(Ce)||pe===xe||pe==null&&xe==null||ln(l,f,Ce,pe,x,xe)}function ZR(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mee(){if(typeof performance.getEntriesByType=="function"){for(var l=0,f=0,g=performance.getEntriesByType("resource"),x=0;x<g.length;x++){var b=g[x],S=b.transferSize,M=b.initiatorType,U=b.duration;if(S&&U&&ZR(M)){for(M=0,U=b.responseEnd,x+=1;x<g.length;x++){var ne=g[x],fe=ne.startTime;if(fe>U)break;var Ee=ne.transferSize,Ce=ne.initiatorType;Ee&&ZR(Ce)&&(ne=ne.responseEnd,M+=Ee*(ne<U?1:(U-fe)/(ne-fe)))}if(--x,f+=8*(S+M)/(b.duration/1e3),l++,10<l)break}}if(0<l)return f/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Kw=null,Qw=null;function _y(l){return l.nodeType===9?l:l.ownerDocument}function JR(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eN(l,f){if(l===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&f==="foreignObject"?0:l}function Zw(l,f){return l==="textarea"||l==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Jw=null;function Ree(){var l=window.event;return l&&l.type==="popstate"?l===Jw?!1:(Jw=l,!0):(Jw=null,!1)}var tN=typeof setTimeout=="function"?setTimeout:void 0,Nee=typeof clearTimeout=="function"?clearTimeout:void 0,nN=typeof Promise=="function"?Promise:void 0,$ee=typeof queueMicrotask=="function"?queueMicrotask:typeof nN<"u"?function(l){return nN.resolve(null).then(l).catch(Lee)}:tN;function Lee(l){setTimeout(function(){throw l})}function Tu(l){return l==="head"}function rN(l,f){var g=f,x=0;do{var b=g.nextSibling;if(l.removeChild(g),b&&b.nodeType===8)if(g=b.data,g==="/$"||g==="/&"){if(x===0){l.removeChild(b),Eh(f);return}x--}else if(g==="$"||g==="$?"||g==="$~"||g==="$!"||g==="&")x++;else if(g==="html")i1(l.ownerDocument.documentElement);else if(g==="head"){g=l.ownerDocument.head,i1(g);for(var S=g.firstChild;S;){var M=S.nextSibling,U=S.nodeName;S[me]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&S.rel.toLowerCase()==="stylesheet"||g.removeChild(S),S=M}}else g==="body"&&i1(l.ownerDocument.body);g=b}while(g);Eh(f)}function iN(l,f){var g=l;l=0;do{var x=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display="none"):(g.style.display=g._stashedDisplay||"",g.getAttribute("style")===""&&g.removeAttribute("style")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=""):g.nodeValue=g._stashedText||""),x&&x.nodeType===8)if(g=x.data,g==="/$"){if(l===0)break;l--}else g!=="$"&&g!=="$?"&&g!=="$~"&&g!=="$!"||l++;g=x}while(g)}function eA(l){var f=l.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case"HTML":case"HEAD":case"BODY":eA(g),Me(g);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(g.rel.toLowerCase()==="stylesheet")continue}l.removeChild(g)}}function Iee(l,f,g,x){for(;l.nodeType===1;){var b=g;if(l.nodeName.toLowerCase()!==f.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[me])switch(f){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(S=l.getAttribute("rel"),S==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(S!==b.rel||l.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||l.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||l.getAttribute("title")!==(b.title==null?null:b.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(S=l.getAttribute("src"),(S!==(b.src==null?null:b.src)||l.getAttribute("type")!==(b.type==null?null:b.type)||l.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&S&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(f==="input"&&l.type==="hidden"){var S=b.name==null?null:""+b.name;if(b.type==="hidden"&&l.getAttribute("name")===S)return l}else return l;if(l=Ga(l.nextSibling),l===null)break}return null}function zee(l,f,g){if(f==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!g||(l=Ga(l.nextSibling),l===null))return null;return l}function aN(l,f){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!f||(l=Ga(l.nextSibling),l===null))return null;return l}function tA(l){return l.data==="$?"||l.data==="$~"}function nA(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function Bee(l,f){var g=l.ownerDocument;if(l.data==="$~")l._reactRetry=f;else if(l.data!=="$?"||g.readyState!=="loading")f();else{var x=function(){f(),g.removeEventListener("DOMContentLoaded",x)};g.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function Ga(l){for(;l!=null;l=l.nextSibling){var f=l.nodeType;if(f===1||f===3)break;if(f===8){if(f=l.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return l}var rA=null;function sN(l){l=l.nextSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="/$"||g==="/&"){if(f===0)return Ga(l.nextSibling);f--}else g!=="$"&&g!=="$!"&&g!=="$?"&&g!=="$~"&&g!=="&"||f++}l=l.nextSibling}return null}function oN(l){l=l.previousSibling;for(var f=0;l;){if(l.nodeType===8){var g=l.data;if(g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"){if(f===0)return l;f--}else g!=="/$"&&g!=="/&"||f++}l=l.previousSibling}return null}function lN(l,f,g){switch(f=_y(g),l){case"html":if(l=f.documentElement,!l)throw Error(r(452));return l;case"head":if(l=f.head,!l)throw Error(r(453));return l;case"body":if(l=f.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function i1(l){for(var f=l.attributes;f.length;)l.removeAttributeNode(f[0]);Me(l)}var Va=new Map,uN=new Set;function by(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var yl=X.d;X.d={f:Pee,r:Uee,D:Hee,C:jee,L:qee,m:Gee,X:Xee,S:Vee,M:Wee};function Pee(){var l=yl.f(),f=hy();return l||f}function Uee(l){var f=Xe(l);f!==null&&f.tag===5&&f.type==="form"?TM(f):yl.r(l)}var vh=typeof document>"u"?null:document;function cN(l,f,g){var x=vh;if(x&&typeof f=="string"&&f){var b=za(f);b='link[rel="'+l+'"][href="'+b+'"]',typeof g=="string"&&(b+='[crossorigin="'+g+'"]'),uN.has(b)||(uN.add(b),l={rel:l,crossOrigin:g,href:f},x.querySelector(b)===null&&(f=x.createElement("link"),Nr(f,"link",l),Ke(f),x.head.appendChild(f)))}}function Hee(l){yl.D(l),cN("dns-prefetch",l,null)}function jee(l,f){yl.C(l,f),cN("preconnect",l,f)}function qee(l,f,g){yl.L(l,f,g);var x=vh;if(x&&l&&f){var b='link[rel="preload"][as="'+za(f)+'"]';f==="image"&&g&&g.imageSrcSet?(b+='[imagesrcset="'+za(g.imageSrcSet)+'"]',typeof g.imageSizes=="string"&&(b+='[imagesizes="'+za(g.imageSizes)+'"]')):b+='[href="'+za(l)+'"]';var S=b;switch(f){case"style":S=_h(l);break;case"script":S=bh(l)}Va.has(S)||(l=d({rel:"preload",href:f==="image"&&g&&g.imageSrcSet?void 0:l,as:f},g),Va.set(S,l),x.querySelector(b)!==null||f==="style"&&x.querySelector(a1(S))||f==="script"&&x.querySelector(s1(S))||(f=x.createElement("link"),Nr(f,"link",l),Ke(f),x.head.appendChild(f)))}}function Gee(l,f){yl.m(l,f);var g=vh;if(g&&l){var x=f&&typeof f.as=="string"?f.as:"script",b='link[rel="modulepreload"][as="'+za(x)+'"][href="'+za(l)+'"]',S=b;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=bh(l)}if(!Va.has(S)&&(l=d({rel:"modulepreload",href:l},f),Va.set(S,l),g.querySelector(b)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(g.querySelector(s1(S)))return}x=g.createElement("link"),Nr(x,"link",l),Ke(x),g.head.appendChild(x)}}}function Vee(l,f,g){yl.S(l,f,g);var x=vh;if(x&&l){var b=je(x).hoistableStyles,S=_h(l);f=f||"default";var M=b.get(S);if(!M){var U={loading:0,preload:null};if(M=x.querySelector(a1(S)))U.loading=5;else{l=d({rel:"stylesheet",href:l,"data-precedence":f},g),(g=Va.get(S))&&iA(l,g);var ne=M=x.createElement("link");Ke(ne),Nr(ne,"link",l),ne._p=new Promise(function(fe,Ee){ne.onload=fe,ne.onerror=Ee}),ne.addEventListener("load",function(){U.loading|=1}),ne.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Ey(M,f,x)}M={type:"stylesheet",instance:M,count:1,state:U},b.set(S,M)}}}function Xee(l,f){yl.X(l,f);var g=vh;if(g&&l){var x=je(g).hoistableScripts,b=bh(l),S=x.get(b);S||(S=g.querySelector(s1(b)),S||(l=d({src:l,async:!0},f),(f=Va.get(b))&&aA(l,f),S=g.createElement("script"),Ke(S),Nr(S,"link",l),g.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(b,S))}}function Wee(l,f){yl.M(l,f);var g=vh;if(g&&l){var x=je(g).hoistableScripts,b=bh(l),S=x.get(b);S||(S=g.querySelector(s1(b)),S||(l=d({src:l,async:!0,type:"module"},f),(f=Va.get(b))&&aA(l,f),S=g.createElement("script"),Ke(S),Nr(S,"link",l),g.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},x.set(b,S))}}function fN(l,f,g,x){var b=(b=se.current)?by(b):null;if(!b)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof g.precedence=="string"&&typeof g.href=="string"?(f=_h(g.href),g=je(b).hoistableStyles,x=g.get(f),x||(x={type:"style",instance:null,count:0,state:null},g.set(f,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(g.rel==="stylesheet"&&typeof g.href=="string"&&typeof g.precedence=="string"){l=_h(g.href);var S=je(b).hoistableStyles,M=S.get(l);if(M||(b=b.ownerDocument||b,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(l,M),(S=b.querySelector(a1(l)))&&!S._p&&(M.instance=S,M.state.loading=5),Va.has(l)||(g={rel:"preload",as:"style",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},Va.set(l,g),S||Yee(b,l,g,M.state))),f&&x===null)throw Error(r(528,""));return M}if(f&&x!==null)throw Error(r(529,""));return null;case"script":return f=g.async,g=g.src,typeof g=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=bh(g),g=je(b).hoistableScripts,x=g.get(f),x||(x={type:"script",instance:null,count:0,state:null},g.set(f,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function _h(l){return'href="'+za(l)+'"'}function a1(l){return'link[rel="stylesheet"]['+l+"]"}function hN(l){return d({},l,{"data-precedence":l.precedence,precedence:null})}function Yee(l,f,g,x){l.querySelector('link[rel="preload"][as="style"]['+f+"]")?x.loading=1:(f=l.createElement("link"),x.preload=f,f.addEventListener("load",function(){return x.loading|=1}),f.addEventListener("error",function(){return x.loading|=2}),Nr(f,"link",g),Ke(f),l.head.appendChild(f))}function bh(l){return'[src="'+za(l)+'"]'}function s1(l){return"script[async]"+l}function dN(l,f,g){if(f.count++,f.instance===null)switch(f.type){case"style":var x=l.querySelector('style[data-href~="'+za(g.href)+'"]');if(x)return f.instance=x,Ke(x),x;var b=d({},g,{"data-href":g.href,"data-precedence":g.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),Ke(x),Nr(x,"style",b),Ey(x,g.precedence,l),f.instance=x;case"stylesheet":b=_h(g.href);var S=l.querySelector(a1(b));if(S)return f.state.loading|=4,f.instance=S,Ke(S),S;x=hN(g),(b=Va.get(b))&&iA(x,b),S=(l.ownerDocument||l).createElement("link"),Ke(S);var M=S;return M._p=new Promise(function(U,ne){M.onload=U,M.onerror=ne}),Nr(S,"link",x),f.state.loading|=4,Ey(S,g.precedence,l),f.instance=S;case"script":return S=bh(g.src),(b=l.querySelector(s1(S)))?(f.instance=b,Ke(b),b):(x=g,(b=Va.get(S))&&(x=d({},g),aA(x,b)),l=l.ownerDocument||l,b=l.createElement("script"),Ke(b),Nr(b,"link",x),l.head.appendChild(b),f.instance=b);case"void":return null;default:throw Error(r(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(x=f.instance,f.state.loading|=4,Ey(x,g.precedence,l));return f.instance}function Ey(l,f,g){for(var x=g.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=x.length?x[x.length-1]:null,S=b,M=0;M<x.length;M++){var U=x[M];if(U.dataset.precedence===f)S=U;else if(S!==b)break}S?S.parentNode.insertBefore(l,S.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(l,f.firstChild))}function iA(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.title==null&&(l.title=f.title)}function aA(l,f){l.crossOrigin==null&&(l.crossOrigin=f.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=f.referrerPolicy),l.integrity==null&&(l.integrity=f.integrity)}var Sy=null;function gN(l,f,g){if(Sy===null){var x=new Map,b=Sy=new Map;b.set(g,x)}else b=Sy,x=b.get(g),x||(x=new Map,b.set(g,x));if(x.has(l))return x;for(x.set(l,null),g=g.getElementsByTagName(l),b=0;b<g.length;b++){var S=g[b];if(!(S[me]||S[W]||l==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var M=S.getAttribute(f)||"";M=l+M;var U=x.get(M);U?U.push(S):x.set(M,[S])}}return x}function pN(l,f,g){l=l.ownerDocument||l,l.head.insertBefore(g,f==="title"?l.querySelector("head > title"):null)}function Kee(l,f,g){if(g===1||f.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return l=f.disabled,typeof f.precedence=="string"&&l==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function mN(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function Qee(l,f,g,x){if(g.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var b=_h(x.href),S=f.querySelector(a1(b));if(S){f=S._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(l.count++,l=wy.bind(l),f.then(l,l)),g.state.loading|=4,g.instance=S,Ke(S);return}S=f.ownerDocument||f,x=hN(x),(b=Va.get(b))&&iA(x,b),S=S.createElement("link"),Ke(S);var M=S;M._p=new Promise(function(U,ne){M.onload=U,M.onerror=ne}),Nr(S,"link",x),g.instance=S}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(l.count++,g=wy.bind(l),f.addEventListener("load",g),f.addEventListener("error",g))}}var sA=0;function Zee(l,f){return l.stylesheets&&l.count===0&&Ty(l,l.stylesheets),0<l.count||0<l.imgCount?function(g){var x=setTimeout(function(){if(l.stylesheets&&Ty(l,l.stylesheets),l.unsuspend){var S=l.unsuspend;l.unsuspend=null,S()}},6e4+f);0<l.imgBytes&&sA===0&&(sA=62500*Mee());var b=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Ty(l,l.stylesheets),l.unsuspend)){var S=l.unsuspend;l.unsuspend=null,S()}},(l.imgBytes>sA?50:800)+f);return l.unsuspend=g,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(b)}}:null}function wy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ty(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Ay=null;function Ty(l,f){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Ay=new Map,f.forEach(Jee,l),Ay=null,wy.call(l))}function Jee(l,f){if(!(f.state.loading&4)){var g=Ay.get(l);if(g)var x=g.get(null);else{g=new Map,Ay.set(l,g);for(var b=l.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<b.length;S++){var M=b[S];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(g.set(M.dataset.precedence,M),x=M)}x&&g.set(null,x)}b=f.instance,M=b.getAttribute("data-precedence"),S=g.get(M)||x,S===x&&g.set(null,b),g.set(M,b),this.count++,x=wy.bind(this),b.addEventListener("load",x),b.addEventListener("error",x),S?S.parentNode.insertBefore(b,S.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(b,l.firstChild)),f.state.loading|=4}}var o1={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function ete(l,f,g,x,b,S,M,U,ne){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_g(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_g(0),this.hiddenUpdates=_g(null),this.identifierPrefix=x,this.onUncaughtError=b,this.onCaughtError=S,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function xN(l,f,g,x,b,S,M,U,ne,fe,Ee,Ce){return l=new ete(l,f,g,M,ne,fe,Ee,Ce,U),f=1,S===!0&&(f|=24),S=fa(3,null,null,f),l.current=S,S.stateNode=l,f=BS(),f.refCount++,l.pooledCache=f,f.refCount++,S.memoizedState={element:x,isDehydrated:g,cache:f},jS(S),l}function yN(l){return l?(l=Z0,l):Z0}function vN(l,f,g,x,b,S){b=yN(b),x.context===null?x.context=b:x.pendingContext=b,x=pu(f),x.payload={element:g},S=S===void 0?null:S,S!==null&&(x.callback=S),g=mu(l,x,f),g!==null&&(Wi(g,l,f),Bg(g,l,f))}function _N(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<f?g:f}}function oA(l,f){_N(l,f),(l=l.alternate)&&_N(l,f)}function bN(l){if(l.tag===13||l.tag===31){var f=Wc(l,67108864);f!==null&&Wi(f,l,67108864),oA(l,67108864)}}function EN(l){if(l.tag===13||l.tag===31){var f=ma();f=bg(f);var g=Wc(l,f);g!==null&&Wi(g,l,f),oA(l,f)}}var ky=!0;function tte(l,f,g,x){var b=z.T;z.T=null;var S=X.p;try{X.p=2,lA(l,f,g,x)}finally{X.p=S,z.T=b}}function nte(l,f,g,x){var b=z.T;z.T=null;var S=X.p;try{X.p=8,lA(l,f,g,x)}finally{X.p=S,z.T=b}}function lA(l,f,g,x){if(ky){var b=uA(x);if(b===null)Ww(l,f,x,Cy,g),wN(l,x);else if(ite(b,l,f,g,x))x.stopPropagation();else if(wN(l,x),f&4&&-1<rte.indexOf(l)){for(;b!==null;){var S=Xe(b);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var M=$a(S.pendingLanes);if(M!==0){var U=S;for(U.pendingLanes|=2,U.entangledLanes|=2;M;){var ne=1<<31-xi(M);U.entanglements[1]|=ne,M&=~ne}lo(S),(Xt&6)===0&&(cy=dt()+500,t1(0))}}break;case 31:case 13:U=Wc(S,2),U!==null&&Wi(U,S,2),hy(),oA(S,2)}if(S=uA(x),S===null&&Ww(l,f,x,Cy,g),S===b)break;b=S}b!==null&&x.stopPropagation()}else Ww(l,f,x,null,g)}}function uA(l){return l=fS(l),cA(l)}var Cy=null;function cA(l){if(Cy=null,l=Pe(l),l!==null){var f=a(l);if(f===null)l=null;else{var g=f.tag;if(g===13){if(l=s(f),l!==null)return l;l=null}else if(g===31){if(l=o(f),l!==null)return l;l=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;l=null}else f!==l&&(l=null)}}return Cy=l,null}function SN(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nn()){case Yt:return 2;case Dn:return 8;case Kt:case Wr:return 32;case gt:return 268435456;default:return 32}default:return 32}}var fA=!1,ku=null,Cu=null,Fu=null,l1=new Map,u1=new Map,Du=[],rte="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wN(l,f){switch(l){case"focusin":case"focusout":ku=null;break;case"dragenter":case"dragleave":Cu=null;break;case"mouseover":case"mouseout":Fu=null;break;case"pointerover":case"pointerout":l1.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":u1.delete(f.pointerId)}}function c1(l,f,g,x,b,S){return l===null||l.nativeEvent!==S?(l={blockedOn:f,domEventName:g,eventSystemFlags:x,nativeEvent:S,targetContainers:[b]},f!==null&&(f=Xe(f),f!==null&&bN(f)),l):(l.eventSystemFlags|=x,f=l.targetContainers,b!==null&&f.indexOf(b)===-1&&f.push(b),l)}function ite(l,f,g,x,b){switch(f){case"focusin":return ku=c1(ku,l,f,g,x,b),!0;case"dragenter":return Cu=c1(Cu,l,f,g,x,b),!0;case"mouseover":return Fu=c1(Fu,l,f,g,x,b),!0;case"pointerover":var S=b.pointerId;return l1.set(S,c1(l1.get(S)||null,l,f,g,x,b)),!0;case"gotpointercapture":return S=b.pointerId,u1.set(S,c1(u1.get(S)||null,l,f,g,x,b)),!0}return!1}function AN(l){var f=Pe(l.target);if(f!==null){var g=a(f);if(g!==null){if(f=g.tag,f===13){if(f=s(g),f!==null){l.blockedOn=f,ee(l.priority,function(){EN(g)});return}}else if(f===31){if(f=o(g),f!==null){l.blockedOn=f,ee(l.priority,function(){EN(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){l.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Fy(l){if(l.blockedOn!==null)return!1;for(var f=l.targetContainers;0<f.length;){var g=uA(l.nativeEvent);if(g===null){g=l.nativeEvent;var x=new g.constructor(g.type,g);cS=x,g.target.dispatchEvent(x),cS=null}else return f=Xe(g),f!==null&&bN(f),l.blockedOn=g,!1;f.shift()}return!0}function TN(l,f,g){Fy(l)&&g.delete(f)}function ate(){fA=!1,ku!==null&&Fy(ku)&&(ku=null),Cu!==null&&Fy(Cu)&&(Cu=null),Fu!==null&&Fy(Fu)&&(Fu=null),l1.forEach(TN),u1.forEach(TN)}function Dy(l,f){l.blockedOn===f&&(l.blockedOn=null,fA||(fA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ate)))}var Oy=null;function kN(l){Oy!==l&&(Oy=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Oy===l&&(Oy=null);for(var f=0;f<l.length;f+=3){var g=l[f],x=l[f+1],b=l[f+2];if(typeof x!="function"){if(cA(x||g)===null)continue;break}var S=Xe(g);S!==null&&(l.splice(f,3),f-=3,uw(S,{pending:!0,data:b,method:g.method,action:x},x,b))}}))}function Eh(l){function f(ne){return Dy(ne,l)}ku!==null&&Dy(ku,l),Cu!==null&&Dy(Cu,l),Fu!==null&&Dy(Fu,l),l1.forEach(f),u1.forEach(f);for(var g=0;g<Du.length;g++){var x=Du[g];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Du.length&&(g=Du[0],g.blockedOn===null);)AN(g),g.blockedOn===null&&Du.shift();if(g=(l.ownerDocument||l).$$reactFormReplay,g!=null)for(x=0;x<g.length;x+=3){var b=g[x],S=g[x+1],M=b[Z]||null;if(typeof S=="function")M||kN(g);else if(M){var U=null;if(S&&S.hasAttribute("formAction")){if(b=S,M=S[Z]||null)U=M.formAction;else if(cA(b)!==null)continue}else U=M.action;typeof U=="function"?g[x+1]=U:(g.splice(x,3),x-=3),kN(g)}}}function CN(){function l(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(M){return b=M})},focusReset:"manual",scroll:"manual"})}function f(){b!==null&&(b(),b=null),x||setTimeout(g,20)}function g(){if(!x&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,b=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(g,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),b!==null&&(b(),b=null)}}}function hA(l){this._internalRoot=l}My.prototype.render=hA.prototype.render=function(l){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,x=ma();vN(g,x,l,f,null,null)},My.prototype.unmount=hA.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var f=l.containerInfo;vN(l.current,2,null,l,null,null),hy(),f[te]=null}};function My(l){this._internalRoot=l}My.prototype.unstable_scheduleHydration=function(l){if(l){var f=B();l={blockedOn:null,target:l,priority:f};for(var g=0;g<Du.length&&f!==0&&f<Du[g].priority;g++);Du.splice(g,0,l),g===0&&AN(l)}};var FN=t.version;if(FN!=="19.2.1")throw Error(r(527,FN,"19.2.1"));X.findDOMNode=function(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=c(f),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var ste={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ry=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ry.isDisabled&&Ry.supportsFiber)try{Vt=Ry.inject(ste),Sn=Ry}catch{}}return h1.createRoot=function(l,f){if(!i(l))throw Error(r(299));var g=!1,x="",b=LM,S=IM,M=zM;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(x=f.identifierPrefix),f.onUncaughtError!==void 0&&(b=f.onUncaughtError),f.onCaughtError!==void 0&&(S=f.onCaughtError),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),f=xN(l,1,!1,null,null,g,x,null,b,S,M,CN),l[te]=f.current,Xw(l),new hA(f)},h1.hydrateRoot=function(l,f,g){if(!i(l))throw Error(r(299));var x=!1,b="",S=LM,M=IM,U=zM,ne=null;return g!=null&&(g.unstable_strictMode===!0&&(x=!0),g.identifierPrefix!==void 0&&(b=g.identifierPrefix),g.onUncaughtError!==void 0&&(S=g.onUncaughtError),g.onCaughtError!==void 0&&(M=g.onCaughtError),g.onRecoverableError!==void 0&&(U=g.onRecoverableError),g.formState!==void 0&&(ne=g.formState)),f=xN(l,1,!0,f,g??null,x,b,ne,S,M,U,CN),f.context=yN(null),g=f.current,x=ma(),x=bg(x),b=pu(x),b.callback=null,mu(g,b,x),g=x,f.current.lanes=g,jc(f,g),lo(f),l[te]=f.current,Xw(l),new My(f)},h1.version="19.2.1",h1}var BN;function xte(){if(BN)return pA.exports;BN=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pA.exports=mte(),pA.exports}var yte=xte();const vte=G4(yte);const _te=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bte=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),PN=e=>{const t=bte(e);return t.charAt(0).toUpperCase()+t.slice(1)},kB=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ete=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Ste={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const wte=wi.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},u)=>wi.createElement("svg",{ref:u,...Ste,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:kB("lucide",i),...!a&&!Ete(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,h])=>wi.createElement(c,h)),...Array.isArray(a)?a:[a]]));const V_=(e,t)=>{const n=wi.forwardRef(({className:r,...i},a)=>wi.createElement(wte,{ref:a,iconNode:t,className:kB(`lucide-${_te(PN(e))}`,`lucide-${e}`,r),...i}));return n.displayName=PN(e),n};const Ate=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Tte=V_("chart-no-axes-column",Ate);const kte=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Cte=V_("file-text",kte);const Fte=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],UN=V_("settings",Fte);const Dte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ote=V_("upload",Dte),Mte=({onFileUpload:e})=>{const t=wi.useCallback(i=>{i.preventDefault(),i.stopPropagation();const a=i.dataTransfer.files;a&&a[0]&&e(a[0])},[e]),n=i=>{i.preventDefault(),i.stopPropagation()},r=i=>{i.target.files&&i.target.files[0]&&e(i.target.files[0])};return tt.jsxs("div",{className:"card flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-300 hover:border-blue-500 transition-colors cursor-pointer",onDrop:t,onDragOver:n,style:{minHeight:"200px"},children:[tt.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:r,className:"hidden",id:"file-upload"}),tt.jsxs("label",{htmlFor:"file-upload",className:"flex flex-col items-center cursor-pointer",children:[tt.jsx(Ote,{size:48,className:"text-gray-400 mb-4"}),tt.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Data File"}),tt.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Drag & drop CSV or Excel file here"}),tt.jsx("span",{className:"btn btn-primary mt-4",children:"Browse Files"})]})]})},Rte=/("(?:[^\\"]|\\.)*")|[:,]/g;function vA(e,t={}){const n=JSON.stringify([1],void 0,t.indent===void 0?2:t.indent).slice(2,-3),r=n===""?1/0:t.maxLength===void 0?80:t.maxLength;let{replacer:i}=t;return(function a(s,o,u){s&&typeof s.toJSON=="function"&&(s=s.toJSON());const c=JSON.stringify(s,i);if(c===void 0)return c;const h=r-o.length-u;if(c.length<=h){const d=c.replace(Rte,(p,m)=>m||`${p} `);if(d.length<=h)return d}if(i!=null&&(s=JSON.parse(c),i=void 0),typeof s=="object"&&s!==null){const d=o+n,p=[];let m=0,y,v;if(Array.isArray(s)){y="[",v="]";const{length:_}=s;for(;m<_;m++)p.push(a(s[m],d,m===_-1?0:1)||"null")}else{y="{",v="}";const _=Object.keys(s),{length:E}=_;for(;m<E;m++){const w=_[m],A=`${JSON.stringify(w)}: `,k=a(s[w],d,A.length+(m===E-1?0:1));k!==void 0&&p.push(A+k)}}if(p.length>0)return[y,n+p.join(`,
${d}`),v].join(`
${o}`)}return c})(e,"",0)}function la(e,t,n){return e.fields=t||[],e.fname=n,e}function Un(e){return e==null?null:e.fname}function li(e){return e==null?null:e.fields}function CB(e){return e.length===1?Nte(e[0]):$te(e)}const Nte=e=>function(t){return t[e]},$te=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function be(e){throw Error(e)}function Po(e){const t=[],n=e.length;let r=null,i=0,a="",s,o,u;e=e+"";function c(){t.push(a+e.substring(s,o)),a="",s=o+1}for(s=o=0;o<n;++o)if(u=e[o],u==="\\")a+=e.substring(s,o++),s=o;else if(u===r)c(),r=null,i=-1;else{if(r)continue;s===i&&u==='"'||s===i&&u==="'"?(s=o+1,r=u):u==="."&&!i?o>s?c():s=o+1:u==="["?(o>s&&c(),i=s=o+1):u==="]"&&(i||be("Access path missing open bracket: "+e),i>0&&c(),i=0,s=o+1)}return i&&be("Access path missing closing bracket: "+e),r&&be("Access path missing closing quote: "+e),o>s&&(o++,c()),t}function ss(e,t,n){const r=Po(e);return e=r.length===1?r[0]:e,la((n&&n.get||CB)(r),[e],t||e)}const _m=ss("id"),di=la(e=>e,[],"identity"),Hu=la(()=>0,[],"zero"),qd=la(()=>1,[],"one"),os=la(()=>!0,[],"true"),Nu=la(()=>!1,[],"false"),X4=new Set([...Object.getOwnPropertyNames(Object.prototype).filter(e=>typeof Object.prototype[e]=="function"),"__proto__"]);function Lte(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const FB=0,W4=1,Y4=2,DB=3,OB=4;function X_(e,t,n=Lte){let r=e||FB;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=W4&&n(t||"error","ERROR",arguments),this},warn(){return r>=Y4&&n(t||"warn","WARN",arguments),this},info(){return r>=DB&&n(t||"log","INFO",arguments),this},debug(){return r>=OB&&n(t||"log","DEBUG",arguments),this}}}var Ae=Array.isArray;function qe(e){return e===Object(e)}const HN=e=>e!=="__proto__";function Gd(...e){return e.reduce((t,n)=>{for(const r in n)if(r==="signals")t.signals=Ite(t.signals,n.signals);else{const i=r==="legend"?{layout:1}:r==="style"?!0:null;Vd(t,r,n[r],i)}return t},{})}function Vd(e,t,n,r){if(!HN(t))return;let i,a;if(qe(n)&&!Ae(n)){a=qe(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?Vd(a,i,n[i]):HN(i)&&(a[i]=n[i])}else e[t]=n}function Ite(e,t){if(e==null)return t;const n={},r=[];function i(a){n[a.name]||(n[a.name]=1,r.push(a))}return t.forEach(i),e.forEach(i),r}function Nt(e){return e[e.length-1]}function ai(e){return e==null||e===""?null:+e}const MB=e=>t=>e*Math.exp(t),RB=e=>t=>Math.log(e*t),NB=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),$B=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,n2=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function W_(e,t,n,r){const i=n(e[0]),a=n(Nt(e)),s=(a-i)*t;return[r(i-s),r(a-s)]}function LB(e,t){return W_(e,t,ai,di)}function IB(e,t){var n=Math.sign(e[0]);return W_(e,t,RB(n),MB(n))}function zB(e,t,n){return W_(e,t,n2(n),n2(1/n))}function BB(e,t,n){return W_(e,t,NB(n),$B(n))}function Y_(e,t,n,r,i){const a=r(e[0]),s=r(Nt(e)),o=t!=null?r(t):(a+s)/2;return[i(o+(a-o)*n),i(o+(s-o)*n)]}function K4(e,t,n){return Y_(e,t,n,ai,di)}function Q4(e,t,n){const r=Math.sign(e[0]);return Y_(e,t,n,RB(r),MB(r))}function r2(e,t,n,r){return Y_(e,t,n,n2(r),n2(1/r))}function Z4(e,t,n,r){return Y_(e,t,n,NB(r),$B(r))}function PB(e){return 1+~~(new Date(e).getMonth()/3)}function UB(e){return 1+~~(new Date(e).getUTCMonth()/3)}function Ve(e){return e!=null?Ae(e)?e:[e]:[]}function HB(e,t,n){let r=e[0],i=e[1],a;return i<r&&(a=i,i=r,r=a),a=i-r,a>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-a),r+a]}function _t(e){return typeof e=="function"}const zte="descending";function J4(e,t,n){n=n||{},t=Ve(t)||[];const r=[],i=[],a={},s=n.comparator||Bte;return Ve(e).forEach((o,u)=>{o!=null&&(r.push(t[u]===zte?-1:1),i.push(o=_t(o)?o:ss(o,null,n)),(li(o)||[]).forEach(c=>a[c]=1))}),i.length===0?null:la(s(i,r),Object.keys(a))}const Xd=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),Bte=(e,t)=>e.length===1?Pte(e[0],t[0]):Ute(e,t,e.length),Pte=(e,t)=>function(n,r){return Xd(e(n),e(r))*t},Ute=(e,t,n)=>(t.push(0),function(r,i){let a,s=0,o=-1;for(;s===0&&++o<n;)a=e[o],s=Xd(a(r),a(i));return s*t[o]});function gi(e){return _t(e)?e:()=>e}function eC(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function vt(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function Do(e,t){let n=0,r,i,a,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(a=s=i;n<r;++n)i=e[n],i!=null&&(i<a&&(a=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(a=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<a&&(a=i),i>s&&(s=i))}return[a,s]}function jB(e,t){const n=e.length;let r=-1,i,a,s,o,u;if(t==null){for(;++r<n;)if(a=e[r],a!=null&&a>=a){i=s=a;break}if(r===n)return[-1,-1];for(o=u=r;++r<n;)a=e[r],a!=null&&(i>a&&(i=a,o=r),s<a&&(s=a,u=r))}else{for(;++r<n;)if(a=t(e[r],r,e),a!=null&&a>=a){i=s=a;break}if(r===n)return[-1,-1];for(o=u=r;++r<n;)a=t(e[r],r,e),a!=null&&(i>a&&(i=a,o=r),s<a&&(s=a,u=r))}return[o,u]}function We(e,t){return Object.hasOwn(e,t)}const Ny={};function Wd(e){let t={},n;function r(a){return We(t,a)&&t[a]!==Ny}const i={size:0,empty:0,object:t,has:r,get(a){return r(a)?t[a]:void 0},set(a,s){return r(a)||(++i.size,t[a]===Ny&&--i.empty),t[a]=s,this},delete(a){return r(a)&&(--i.size,++i.empty,t[a]=Ny),this},clear(){i.size=i.empty=0,i.object=t={}},test(a){return arguments.length?(n=a,i):n},clean(){const a={};let s=0;for(const o in t){const u=t[o];u!==Ny&&(!n||!n(u))&&(a[o]=u,++s)}i.size=s,i.empty=0,i.object=t=a}};return e&&Object.keys(e).forEach(a=>{i.set(a,e[a])}),i}function qB(e,t,n,r,i,a){if(!n&&n!==0)return a;const s=+n;let o=e[0],u=Nt(e),c;u<o&&(c=o,o=u,u=c),c=Math.abs(t-o);const h=Math.abs(u-t);return c<h&&c<=s?r:h<=s?i:a}function Be(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),vt(r,n)}function Ph(e,t,n,r){let i=t[0],a=t[t.length-1],s;return i>a&&(s=i,i=a,a=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=a:e<a)}function Ac(e){return typeof e=="boolean"}function tc(e){return Object.prototype.toString.call(e)==="[object Date]"}function GB(e){return e&&_t(e[Symbol.iterator])}function jt(e){return typeof e=="number"}function tC(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function Ge(e){return typeof e=="string"}function nC(e,t,n){e&&(e=t?Ve(e).map(o=>o.replace(/\\(.)/g,"$1")):Ve(e));const r=e&&e.length,i=n&&n.get||CB,a=o=>i(t?[o]:Po(o));let s;if(!r)s=function(){return""};else if(r===1){const o=a(e[0]);s=function(u){return""+o(u)}}else{const o=e.map(a);s=function(u){let c=""+o[0](u),h=0;for(;++h<r;)c+="|"+o[h](u);return c}}return la(s,e,"key")}function VB(e,t){const n=e[0],r=Nt(e),i=+t;return i?i===1?r:n+i*(r-n):n}const Hte=1e4;function XB(e){e=+e||Hte;let t,n,r;const i=()=>{t={},n={},r=0},a=(s,o)=>(++r>e&&(n=t,t={},r=1),t[s]=o);return i(),{clear:i,has:s=>We(t,s)||We(n,s),get:s=>We(t,s)?t[s]:We(n,s)?a(s,n[s]):void 0,set:(s,o)=>We(t,s)?t[s]=o:a(s,o)}}function WB(e,t,n,r){const i=t.length,a=n.length;if(!a)return t;if(!i)return n;const s=r||new t.constructor(i+a);let o=0,u=0,c=0;for(;o<i&&u<a;++c)s[c]=e(t[o],n[u])>0?n[u++]:t[o++];for(;o<i;++o,++c)s[c]=t[o];for(;u<a;++u,++c)s[c]=n[u];return s}function z1(e,t){let n="";for(;--t>=0;)n+=e;return n}function YB(e,t,n,r){const i=n||" ",a=e+"",s=t-a.length;return s<=0?a:r==="left"?z1(i,s)+a:r==="center"?z1(i,~~(s/2))+a+z1(i,Math.ceil(s/2)):a+z1(i,s)}function bm(e){return e&&Nt(e)-e[0]||0}function ze(e){return Ae(e)?`[${e.map(t=>t===null?"null":ze(t))}]`:qe(e)||Ge(e)?JSON.stringify(e).replaceAll("\u2028","\\u2028").replaceAll("\u2029","\\u2029"):e}function rC(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const jte=e=>jt(e)||tc(e)?e:Date.parse(e);function iC(e,t){return t=t||jte,e==null||e===""?null:t(e)}function aC(e){return e==null||e===""?null:e+""}function js(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function KB(e,t,n,r){const i=r??"",a=e+"",s=a.length,o=Math.max(0,t-i.length);return s<=t?a:n==="left"?i+a.slice(s-o):n==="center"?a.slice(0,Math.ceil(o/2))+i+a.slice(s-~~(o/2)):a.slice(0,o)+i}function Iu(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const a=t(e[i]);a&&n(a,i,e)}}else e.forEach(n)}var jN={},_A={},bA=34,d1=10,EA=13;function QB(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function qte(e,t){var n=QB(e);return function(r,i){return t(n(r),i,e)}}function qN(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function Yi(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Gte(e){return e<0?"-"+Yi(-e,6):e>9999?"+"+Yi(e,6):Yi(e,4)}function Vte(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Gte(e.getUTCFullYear())+"-"+Yi(e.getUTCMonth()+1,2)+"-"+Yi(e.getUTCDate(),2)+(i?"T"+Yi(t,2)+":"+Yi(n,2)+":"+Yi(r,2)+"."+Yi(i,3)+"Z":r?"T"+Yi(t,2)+":"+Yi(n,2)+":"+Yi(r,2)+"Z":n||t?"T"+Yi(t,2)+":"+Yi(n,2)+"Z":"")}function Xte(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(d,p){var m,y,v=i(d,function(_,E){if(m)return m(_,E-1);y=_,m=p?qte(_,p):QB(_)});return v.columns=y||[],v}function i(d,p){var m=[],y=d.length,v=0,_=0,E,w=y<=0,A=!1;d.charCodeAt(y-1)===d1&&--y,d.charCodeAt(y-1)===EA&&--y;function k(){if(w)return _A;if(A)return A=!1,jN;var O,T=v,F;if(d.charCodeAt(T)===bA){for(;v++<y&&d.charCodeAt(v)!==bA||d.charCodeAt(++v)===bA;);return(O=v)>=y?w=!0:(F=d.charCodeAt(v++))===d1?A=!0:F===EA&&(A=!0,d.charCodeAt(v)===d1&&++v),d.slice(T+1,O-1).replace(/""/g,'"')}for(;v<y;){if((F=d.charCodeAt(O=v++))===d1)A=!0;else if(F===EA)A=!0,d.charCodeAt(v)===d1&&++v;else if(F!==n)continue;return d.slice(T,O)}return w=!0,d.slice(T,y)}for(;(E=k())!==_A;){for(var D=[];E!==jN&&E!==_A;)D.push(E),E=k();p&&(D=p(D,_++))==null||m.push(D)}return m}function a(d,p){return d.map(function(m){return p.map(function(y){return h(m[y])}).join(e)})}function s(d,p){return p==null&&(p=qN(d)),[p.map(h).join(e)].concat(a(d,p)).join(`
`)}function o(d,p){return p==null&&(p=qN(d)),a(d,p).join(`
`)}function u(d){return d.map(c).join(`
`)}function c(d){return d.map(h).join(e)}function h(d){return d==null?"":d instanceof Date?Vte(d):t.test(d+="")?'"'+d.replace(/"/g,'""')+'"':d}return{parse:r,parseRows:i,format:s,formatBody:o,formatRows:u,formatRow:c,formatValue:h}}function Wte(e){return e}function Yte(e){if(e==null)return Wte;var t,n,r=e.scale[0],i=e.scale[1],a=e.translate[0],s=e.translate[1];return function(o,u){u||(t=n=0);var c=2,h=o.length,d=new Array(h);for(d[0]=(t+=o[0])*r+a,d[1]=(n+=o[1])*i+s;c<h;)d[c]=o[c],++c;return d}}function Kte(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function Qte(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return GN(e,n)})}:GN(e,t)}function GN(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,a=ZB(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:a}:r==null?{type:"Feature",id:n,properties:i,geometry:a}:{type:"Feature",id:n,bbox:r,properties:i,geometry:a}}function ZB(e,t){var n=Yte(e.transform),r=e.arcs;function i(h,d){d.length&&d.pop();for(var p=r[h<0?~h:h],m=0,y=p.length;m<y;++m)d.push(n(p[m],m));h<0&&Kte(d,y)}function a(h){return n(h)}function s(h){for(var d=[],p=0,m=h.length;p<m;++p)i(h[p],d);return d.length<2&&d.push(d[0]),d}function o(h){for(var d=s(h);d.length<4;)d.push(d[0]);return d}function u(h){return h.map(o)}function c(h){var d=h.type,p;switch(d){case"GeometryCollection":return{type:d,geometries:h.geometries.map(c)};case"Point":p=a(h.coordinates);break;case"MultiPoint":p=h.coordinates.map(a);break;case"LineString":p=s(h.arcs);break;case"MultiLineString":p=h.arcs.map(s);break;case"Polygon":p=u(h.arcs);break;case"MultiPolygon":p=h.arcs.map(u);break;default:return null}return{type:d,coordinates:p}}return c(t)}function Zte(e,t){var n={},r={},i={},a=[],s=-1;t.forEach(function(c,h){var d=e.arcs[c<0?~c:c],p;d.length<3&&!d[1][0]&&!d[1][1]&&(p=t[++s],t[s]=c,t[h]=p)}),t.forEach(function(c){var h=o(c),d=h[0],p=h[1],m,y;if(m=i[d])if(delete i[m.end],m.push(c),m.end=p,y=r[p]){delete r[y.start];var v=y===m?m:m.concat(y);r[v.start=m.start]=i[v.end=y.end]=v}else r[m.start]=i[m.end]=m;else if(m=r[p])if(delete r[m.start],m.unshift(c),m.start=d,y=i[d]){delete i[y.end];var _=y===m?m:y.concat(m);r[_.start=y.start]=i[_.end=m.end]=_}else r[m.start]=i[m.end]=m;else m=[c],r[m.start=d]=i[m.end=p]=m});function o(c){var h=e.arcs[c<0?~c:c],d=h[0],p;return e.transform?(p=[0,0],h.forEach(function(m){p[0]+=m[0],p[1]+=m[1]})):p=h[h.length-1],c<0?[p,d]:[d,p]}function u(c,h){for(var d in c){var p=c[d];delete h[p.start],delete p.start,delete p.end,p.forEach(function(m){n[m<0?~m:m]=1}),a.push(p)}}return u(i,r),u(r,i),t.forEach(function(c){n[c<0?~c:c]||a.push([c])}),a}function Jte(e){return ZB(e,ene.apply(this,arguments))}function ene(e,t,n){var r,i,a;if(arguments.length>1)r=tne(e,t,n);else for(i=0,r=new Array(a=e.arcs.length);i<a;++i)r[i]=i;return{type:"MultiLineString",arcs:Zte(e,r)}}function tne(e,t,n){var r=[],i=[],a;function s(d){var p=d<0?~d:d;(i[p]||(i[p]=[])).push({i:d,g:a})}function o(d){d.forEach(s)}function u(d){d.forEach(o)}function c(d){d.forEach(u)}function h(d){switch(a=d,d.type){case"GeometryCollection":d.geometries.forEach(h);break;case"LineString":o(d.arcs);break;case"MultiLineString":case"Polygon":u(d.arcs);break;case"MultiPolygon":c(d.arcs);break}}return h(t),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}function $l(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nne(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yd(e){let t,n,r;e.length!==2?(t=$l,n=(o,u)=>$l(e(o),u),r=(o,u)=>e(o)-u):(t=e===$l||e===nne?e:rne,n=e,r=e);function i(o,u,c=0,h=o.length){if(c<h){if(t(u,u)!==0)return h;do{const d=c+h>>>1;n(o[d],u)<0?c=d+1:h=d}while(c<h)}return c}function a(o,u,c=0,h=o.length){if(c<h){if(t(u,u)!==0)return h;do{const d=c+h>>>1;n(o[d],u)<=0?c=d+1:h=d}while(c<h)}return c}function s(o,u,c=0,h=o.length){const d=i(o,u,c,h-1);return d>c&&r(o[d-1],u)>-r(o[d],u)?d-1:d}return{left:i,center:s,right:a}}function rne(){return 0}function JB(e){return e===null?NaN:+e}function*ine(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const eP=Yd($l),lc=eP.right,ane=eP.left;Yd(JB).center;function sne(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i));else{let s=-1;for(let o of e)(o=t(o,++s,e))!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i))}if(n>1)return a/(n-1)}function one(e,t){const n=sne(e,t);return n&&Math.sqrt(n)}class Ri{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],s=t+a,o=Math.abs(t)<Math.abs(a)?t-(s-a):a-(s-t);o&&(n[r++]=o),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,a=i-(s-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=s+i,i==r-s&&(s=r))}return s}}class VN extends Map{constructor(t,n=rP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(vk(this,t))}has(t){return super.has(vk(this,t))}set(t,n){return super.set(tP(this,t),n)}delete(t){return super.delete(nP(this,t))}}class i2 extends Set{constructor(t,n=rP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(vk(this,t))}add(t){return super.add(tP(this,t))}delete(t){return super.delete(nP(this,t))}}function vk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function tP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function nP({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function rP(e){return e!==null&&typeof e=="object"?e.valueOf():e}function lne(e,t){return Array.from(t,n=>e[n])}function une(e=$l){if(e===$l)return iP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function iP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const cne=Math.sqrt(50),fne=Math.sqrt(10),hne=Math.sqrt(2);function a2(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=cne?10:a>=fne?5:a>=hne?2:1;let o,u,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),u=Math.round(t*c),o/c<e&&++o,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),u=Math.round(t/c),o*c<e&&++o,u*c>t&&--u),u<o&&.5<=n&&n<2?a2(e,t,n*2):[o,u,c]}function _k(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?a2(t,e,n):a2(e,t,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let c=0;c<o;++c)u[c]=(a-c)/-s;else for(let c=0;c<o;++c)u[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)u[c]=(i+c)/-s;else for(let c=0;c<o;++c)u[c]=(i+c)*s;return u}function bk(e,t,n){return t=+t,e=+e,n=+n,a2(e,t,n)[2]}function uc(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?bk(t,e,n):bk(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Rf(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ek(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function aP(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?iP:une(i);r>n;){if(r-n>600){const u=r-n+1,c=t-n+1,h=Math.log(u),d=.5*Math.exp(2*h/3),p=.5*Math.sqrt(h*d*(u-d)/u)*(c-u/2<0?-1:1),m=Math.max(n,Math.floor(t-c*d/u+p)),y=Math.min(r,Math.floor(t+(u-c)*d/u+p));aP(e,t,m,y,i)}const a=e[t];let s=n,o=r;for(g1(e,n,t),i(e[r],a)>0&&g1(e,n,r);s<o;){for(g1(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?g1(e,n,o):(++o,g1(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function g1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Sk(e,t,n){if(e=Float64Array.from(ine(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Ek(e);if(t>=1)return Rf(e);var r,i=(r-1)*t,a=Math.floor(i),s=Rf(aP(e,a).subarray(0,a+1)),o=Ek(e.subarray(a+1));return s+(o-s)*(i-a)}}function sP(e,t,n=JB){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function dne(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function oP(e,t){return Sk(e,.5,t)}function*gne(e){for(const t of e)yield*t}function lP(e){return Array.from(gne(e))}function Sa(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function uP(e,t){let n=0;for(let r of e)(r=+r)&&(n+=r);return n}function pne(e,...t){e=new i2(e),t=t.map(mne);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function mne(e){return e instanceof i2?e:new i2(e)}function xne(...e){const t=new i2;for(const n of e)for(const r of n)t.add(r);return t}function yne(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s2(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function od(e){return e=s2(Math.abs(e)),e?e[1]:NaN}function vne(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function _ne(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var bne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gf(e){if(!(t=bne.exec(e)))throw new Error("invalid format: "+e);var t;return new sC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gf.prototype=sC.prototype;function sC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ene(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var cP;function Sne(e,t){var n=s2(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(cP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+s2(e,Math.max(0,t+a-1))[0]}function XN(e,t){var n=s2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const WN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:yne,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>XN(e*100,t),r:XN,s:Sne,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function YN(e){return e}var KN=Array.prototype.map,QN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function fP(e){var t=e.grouping===void 0||e.thousands===void 0?YN:vne(KN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?YN:_ne(KN.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Gf(d);var p=d.fill,m=d.align,y=d.sign,v=d.symbol,_=d.zero,E=d.width,w=d.comma,A=d.precision,k=d.trim,D=d.type;D==="n"?(w=!0,D="g"):WN[D]||(A===void 0&&(A=12),k=!0,D="g"),(_||p==="0"&&m==="=")&&(_=!0,p="0",m="=");var O=v==="$"?n:v==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",T=v==="$"?r:/[%p]/.test(D)?s:"",F=WN[D],C=/[defgprs%]/.test(D);A=A===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(L){var I=O,Q=T,J,H,z;if(D==="c")Q=F(L)+Q,L="";else{L=+L;var X=L<0||1/L<0;if(L=isNaN(L)?u:F(Math.abs(L),A),k&&(L=Ene(L)),X&&+L==0&&y!=="+"&&(X=!1),I=(X?y==="("?y:o:y==="-"||y==="("?"":y)+I,Q=(D==="s"?QN[8+cP/3]:"")+Q+(X&&y==="("?")":""),C){for(J=-1,H=L.length;++J<H;)if(z=L.charCodeAt(J),48>z||z>57){Q=(z===46?i+L.slice(J+1):L.slice(J))+Q,L=L.slice(0,J);break}}}w&&!_&&(L=t(L,1/0));var re=I.length+L.length+Q.length,j=re<E?new Array(E-re+1).join(p):"";switch(w&&_&&(L=t(j+L,j.length?E-Q.length:1/0),j=""),m){case"<":L=I+L+Q+j;break;case"=":L=I+j+L+Q;break;case"^":L=j.slice(0,re=j.length>>1)+I+L+Q+j.slice(re);break;default:L=j+I+L+Q;break}return a(L)}return N.toString=function(){return d+""},N}function h(d,p){var m=c((d=Gf(d),d.type="f",d)),y=Math.max(-8,Math.min(8,Math.floor(od(p)/3)))*3,v=Math.pow(10,-y),_=QN[8+y/3];return function(E){return m(v*E)+_}}return{format:c,formatPrefix:h}}var $y,K_,oC;wne({thousands:",",grouping:[3],currency:["$",""]});function wne(e){return $y=fP(e),K_=$y.format,oC=$y.formatPrefix,$y}function hP(e){return Math.max(0,-od(Math.abs(e)))}function dP(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(od(t)/3)))*3-od(Math.abs(e)))}function gP(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,od(t)-od(e))+1}const SA=new Date,wA=new Date;function pr(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let c;do u.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return u},i.filter=a=>pr(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(SA.setTime(+a),wA.setTime(+s),e(SA),e(wA),Math.floor(n(SA,wA))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const ld=pr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ld.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ld);ld.range;const Cl=1e3,es=Cl*60,Fl=es*60,Gl=Fl*24,lC=Gl*7,ZN=Gl*30,AA=Gl*365,Dl=pr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCSeconds());Dl.range;const Q_=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cl)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getMinutes());Q_.range;const Z_=pr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCMinutes());Z_.range;const J_=pr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cl-e.getMinutes()*es)},(e,t)=>{e.setTime(+e+t*Fl)},(e,t)=>(t-e)/Fl,e=>e.getHours());J_.range;const eb=pr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fl)},(e,t)=>(t-e)/Fl,e=>e.getUTCHours());eb.range;const Ll=pr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*es)/Gl,e=>e.getDate()-1);Ll.range;const nc=pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>e.getUTCDate()-1);nc.range;const pP=pr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gl,e=>Math.floor(e/Gl));pP.range;function m0(e){return pr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*es)/lC)}const Kd=m0(0),o2=m0(1),Ane=m0(2),Tne=m0(3),ud=m0(4),kne=m0(5),Cne=m0(6);Kd.range;o2.range;Ane.range;Tne.range;ud.range;kne.range;Cne.range;function x0(e){return pr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lC)}const Qd=x0(0),l2=x0(1),Fne=x0(2),Dne=x0(3),cd=x0(4),One=x0(5),Mne=x0(6);Qd.range;l2.range;Fne.range;Dne.range;cd.range;One.range;Mne.range;const Np=pr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Np.range;const $p=pr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$p.range;const Oo=pr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Oo.range;const Mo=pr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Mo.range;function mP(e,t,n,r,i,a){const s=[[Dl,1,Cl],[Dl,5,5*Cl],[Dl,15,15*Cl],[Dl,30,30*Cl],[a,1,es],[a,5,5*es],[a,15,15*es],[a,30,30*es],[i,1,Fl],[i,3,3*Fl],[i,6,6*Fl],[i,12,12*Fl],[r,1,Gl],[r,2,2*Gl],[n,1,lC],[t,1,ZN],[t,3,3*ZN],[e,1,AA]];function o(c,h,d){const p=h<c;p&&([c,h]=[h,c]);const m=d&&typeof d.range=="function"?d:u(c,h,d),y=m?m.range(c,+h+1):[];return p?y.reverse():y}function u(c,h,d){const p=Math.abs(h-c)/d,m=Yd(([,,_])=>_).right(s,p);if(m===s.length)return e.every(uc(c/AA,h/AA,d));if(m===0)return ld.every(Math.max(uc(c,h,d),1));const[y,v]=s[p/s[m-1][2]<s[m][2]/p?m-1:m];return y.every(v)}return[o,u]}const[Rne,Nne]=mP(Mo,$p,Qd,pP,eb,Z_),[$ne,Lne]=mP(Oo,Np,Kd,Ll,J_,Q_),Hr="year",na="quarter",ui="month",cr="week",ra="date",ri="day",Ro="dayofyear",Da="hours",Oa="minutes",ls="seconds",qs="milliseconds",uC=[Hr,na,ui,cr,ra,ri,Ro,Da,Oa,ls,qs],TA=uC.reduce((e,t,n)=>(e[t]=1+n,e),{});function cC(e){const t=Ve(e).slice(),n={};return t.length||be("Missing time unit."),t.forEach(i=>{We(TA,i)?n[i]=1:be(`Invalid time unit: ${i}.`)}),(n[cr]||n[ri]?1:0)+(n[na]||n[ui]||n[ra]?1:0)+(n[Ro]?1:0)>1&&be(`Incompatible time units: ${e}`),t.sort((i,a)=>TA[i]-TA[a]),t}const Ine={[Hr]:"%Y ",[na]:"Q%q ",[ui]:"%b ",[ra]:"%d ",[cr]:"W%U ",[ri]:"%a ",[Ro]:"%j ",[Da]:"%H:00",[Oa]:"00:%M",[ls]:":%S",[qs]:".%L",[`${Hr}-${ui}`]:"%Y-%m ",[`${Hr}-${ui}-${ra}`]:"%Y-%m-%d ",[`${Da}-${Oa}`]:"%H:%M"};function xP(e,t){const n=vt({},Ine,t),r=cC(e),i=r.length;let a="",s=0,o,u;for(s=0;s<i;)for(o=r.length;o>s;--o)if(u=r.slice(s,o).join("-"),n[u]!=null){a+=n[u],s=o;break}return a.trim()}const Ef=new Date;function fC(e){return Ef.setFullYear(e),Ef.setMonth(0),Ef.setDate(1),Ef.setHours(0,0,0,0),Ef}function yP(e){return _P(new Date(e))}function vP(e){return wk(new Date(e))}function _P(e){return Ll.count(fC(e.getFullYear())-1,e)}function wk(e){return Kd.count(fC(e.getFullYear())-1,e)}function Ak(e){return fC(e).getDay()}function zne(e,t,n,r,i,a,s){if(0<=e&&e<100){const o=new Date(-1,t,n,r,i,a,s);return o.setFullYear(e),o}return new Date(e,t,n,r,i,a,s)}function bP(e){return SP(new Date(e))}function EP(e){return Tk(new Date(e))}function SP(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return nc.count(t-1,e)}function Tk(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return Qd.count(t-1,e)}function kk(e){return Ef.setTime(Date.UTC(e,0,1)),Ef.getUTCDay()}function Bne(e,t,n,r,i,a,s){if(0<=e&&e<100){const o=new Date(Date.UTC(-1,t,n,r,i,a,s));return o.setUTCFullYear(n.y),o}return new Date(Date.UTC(e,t,n,r,i,a,s))}function wP(e,t,n,r,i){const a=t||1,s=Nt(e),o=(E,w,A)=>(A=A||E,Pne(n[A],r[A],E===s&&a,w)),u=new Date,c=js(e),h=c[Hr]?o(Hr):gi(2012),d=c[ui]?o(ui):c[na]?o(na):Hu,p=c[cr]&&c[ri]?o(ri,1,cr+ri):c[cr]?o(cr,1):c[ri]?o(ri,1):c[ra]?o(ra,1):c[Ro]?o(Ro,1):qd,m=c[Da]?o(Da):Hu,y=c[Oa]?o(Oa):Hu,v=c[ls]?o(ls):Hu,_=c[qs]?o(qs):Hu;return function(E){u.setTime(+E);const w=h(u);return i(w,d(u),p(u,w),m(u),y(u),v(u),_(u))}}function Pne(e,t,n,r){const i=n<=1?e:r?(a,s)=>r+n*Math.floor((e(a,s)-r)/n):(a,s)=>n*Math.floor(e(a,s)/n);return t?(a,s)=>t(i(a,s),s):i}function fd(e,t,n){return t+e*7-(n+6)%7}const Une={[Hr]:e=>e.getFullYear(),[na]:e=>Math.floor(e.getMonth()/3),[ui]:e=>e.getMonth(),[ra]:e=>e.getDate(),[Da]:e=>e.getHours(),[Oa]:e=>e.getMinutes(),[ls]:e=>e.getSeconds(),[qs]:e=>e.getMilliseconds(),[Ro]:e=>_P(e),[cr]:e=>wk(e),[cr+ri]:(e,t)=>fd(wk(e),e.getDay(),Ak(t)),[ri]:(e,t)=>fd(1,e.getDay(),Ak(t))},Hne={[na]:e=>3*e,[cr]:(e,t)=>fd(e,0,Ak(t))};function AP(e,t){return wP(e,t||1,Une,Hne,zne)}const jne={[Hr]:e=>e.getUTCFullYear(),[na]:e=>Math.floor(e.getUTCMonth()/3),[ui]:e=>e.getUTCMonth(),[ra]:e=>e.getUTCDate(),[Da]:e=>e.getUTCHours(),[Oa]:e=>e.getUTCMinutes(),[ls]:e=>e.getUTCSeconds(),[qs]:e=>e.getUTCMilliseconds(),[Ro]:e=>SP(e),[cr]:e=>Tk(e),[ri]:(e,t)=>fd(1,e.getUTCDay(),kk(t)),[cr+ri]:(e,t)=>fd(Tk(e),e.getUTCDay(),kk(t))},qne={[na]:e=>3*e,[cr]:(e,t)=>fd(e,0,kk(t))};function TP(e,t){return wP(e,t||1,jne,qne,Bne)}const Gne={[Hr]:Oo,[na]:Np.every(3),[ui]:Np,[cr]:Kd,[ra]:Ll,[ri]:Ll,[Ro]:Ll,[Da]:J_,[Oa]:Q_,[ls]:Dl,[qs]:ld},Vne={[Hr]:Mo,[na]:$p.every(3),[ui]:$p,[cr]:Qd,[ra]:nc,[ri]:nc,[Ro]:nc,[Da]:eb,[Oa]:Z_,[ls]:Dl,[qs]:ld};function Zd(e){return Gne[e]}function Jd(e){return Vne[e]}function kP(e,t,n){return e?e.offset(t,n):void 0}function CP(e,t,n){return kP(Zd(e),t,n)}function FP(e,t,n){return kP(Jd(e),t,n)}function DP(e,t,n,r){return e?e.range(t,n,r):void 0}function OP(e,t,n,r){return DP(Zd(e),t,n,r)}function MP(e,t,n,r){return DP(Jd(e),t,n,r)}const B1=1e3,P1=B1*60,U1=P1*60,tb=U1*24,Xne=tb*7,JN=tb*30,Ck=tb*365,RP=[Hr,ui,ra,Da,Oa,ls,qs],H1=RP.slice(0,-1),j1=H1.slice(0,-1),q1=j1.slice(0,-1),Wne=q1.slice(0,-1),Yne=[Hr,cr],e9=[Hr,ui],NP=[Hr],p1=[[H1,1,B1],[H1,5,5*B1],[H1,15,15*B1],[H1,30,30*B1],[j1,1,P1],[j1,5,5*P1],[j1,15,15*P1],[j1,30,30*P1],[q1,1,U1],[q1,3,3*U1],[q1,6,6*U1],[q1,12,12*U1],[Wne,1,tb],[Yne,1,Xne],[e9,1,JN],[e9,3,3*JN],[NP,1,Ck]];function $P(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(bm(t))/n;let i=Yd(o=>o[2]).right(p1,r),a,s;return i===p1.length?(a=NP,s=uc(t[0]/Ck,t[1]/Ck,n)):i?(i=p1[r/p1[i-1][2]<p1[i][2]/r?i-1:i],a=i[0],s=i[1]):(a=RP,s=Math.max(uc(t[0],t[1],n),1)),{units:a,step:s}}function kA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function CA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function m1(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function LP(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,u=e.shortMonths,c=x1(i),h=y1(i),d=x1(a),p=y1(a),m=x1(s),y=y1(s),v=x1(o),_=y1(o),E=x1(u),w=y1(u),A={a:X,A:re,b:j,B:le,c:null,d:s9,e:s9,f:yre,g:Cre,G:Dre,H:pre,I:mre,j:xre,L:IP,m:vre,M:_re,p:q,q:R,Q:u9,s:c9,S:bre,u:Ere,U:Sre,V:wre,w:Are,W:Tre,x:null,X:null,y:kre,Y:Fre,Z:Ore,"%":l9},k={a:G,A:K,b:Y,B:se,c:null,d:o9,e:o9,f:$re,g:Gre,G:Xre,H:Mre,I:Rre,j:Nre,L:BP,m:Lre,M:Ire,p:ve,q:_e,Q:u9,s:c9,S:zre,u:Bre,U:Pre,V:Ure,w:Hre,W:jre,x:null,X:null,y:qre,Y:Vre,Z:Wre,"%":l9},D={a:N,A:L,b:I,B:Q,c:J,d:i9,e:i9,f:fre,g:r9,G:n9,H:a9,I:a9,j:ore,L:cre,m:sre,M:lre,p:C,q:are,Q:dre,s:gre,S:ure,u:ere,U:tre,V:nre,w:Jne,W:rre,x:H,X:z,y:r9,Y:n9,Z:ire,"%":hre};A.x=O(n,A),A.X=O(r,A),A.c=O(t,A),k.x=O(n,k),k.X=O(r,k),k.c=O(t,k);function O(ae,ue){return function(ke){var P=[],Ze=-1,Le=0,He=ae.length,Re,Fe,nt;for(ke instanceof Date||(ke=new Date(+ke));++Ze<He;)ae.charCodeAt(Ze)===37&&(P.push(ae.slice(Le,Ze)),(Fe=t9[Re=ae.charAt(++Ze)])!=null?Re=ae.charAt(++Ze):Fe=Re==="e"?" ":"0",(nt=ue[Re])&&(Re=nt(ke,Fe)),P.push(Re),Le=Ze+1);return P.push(ae.slice(Le,Ze)),P.join("")}}function T(ae,ue){return function(ke){var P=m1(1900,void 0,1),Ze=F(P,ae,ke+="",0),Le,He;if(Ze!=ke.length)return null;if("Q"in P)return new Date(P.Q);if("s"in P)return new Date(P.s*1e3+("L"in P?P.L:0));if(ue&&!("Z"in P)&&(P.Z=0),"p"in P&&(P.H=P.H%12+P.p*12),P.m===void 0&&(P.m="q"in P?P.q:0),"V"in P){if(P.V<1||P.V>53)return null;"w"in P||(P.w=1),"Z"in P?(Le=CA(m1(P.y,0,1)),He=Le.getUTCDay(),Le=He>4||He===0?l2.ceil(Le):l2(Le),Le=nc.offset(Le,(P.V-1)*7),P.y=Le.getUTCFullYear(),P.m=Le.getUTCMonth(),P.d=Le.getUTCDate()+(P.w+6)%7):(Le=kA(m1(P.y,0,1)),He=Le.getDay(),Le=He>4||He===0?o2.ceil(Le):o2(Le),Le=Ll.offset(Le,(P.V-1)*7),P.y=Le.getFullYear(),P.m=Le.getMonth(),P.d=Le.getDate()+(P.w+6)%7)}else("W"in P||"U"in P)&&("w"in P||(P.w="u"in P?P.u%7:"W"in P?1:0),He="Z"in P?CA(m1(P.y,0,1)).getUTCDay():kA(m1(P.y,0,1)).getDay(),P.m=0,P.d="W"in P?(P.w+6)%7+P.W*7-(He+5)%7:P.w+P.U*7-(He+6)%7);return"Z"in P?(P.H+=P.Z/100|0,P.M+=P.Z%100,CA(P)):kA(P)}}function F(ae,ue,ke,P){for(var Ze=0,Le=ue.length,He=ke.length,Re,Fe;Ze<Le;){if(P>=He)return-1;if(Re=ue.charCodeAt(Ze++),Re===37){if(Re=ue.charAt(Ze++),Fe=D[Re in t9?ue.charAt(Ze++):Re],!Fe||(P=Fe(ae,ke,P))<0)return-1}else if(Re!=ke.charCodeAt(P++))return-1}return P}function C(ae,ue,ke){var P=c.exec(ue.slice(ke));return P?(ae.p=h.get(P[0].toLowerCase()),ke+P[0].length):-1}function N(ae,ue,ke){var P=m.exec(ue.slice(ke));return P?(ae.w=y.get(P[0].toLowerCase()),ke+P[0].length):-1}function L(ae,ue,ke){var P=d.exec(ue.slice(ke));return P?(ae.w=p.get(P[0].toLowerCase()),ke+P[0].length):-1}function I(ae,ue,ke){var P=E.exec(ue.slice(ke));return P?(ae.m=w.get(P[0].toLowerCase()),ke+P[0].length):-1}function Q(ae,ue,ke){var P=v.exec(ue.slice(ke));return P?(ae.m=_.get(P[0].toLowerCase()),ke+P[0].length):-1}function J(ae,ue,ke){return F(ae,t,ue,ke)}function H(ae,ue,ke){return F(ae,n,ue,ke)}function z(ae,ue,ke){return F(ae,r,ue,ke)}function X(ae){return s[ae.getDay()]}function re(ae){return a[ae.getDay()]}function j(ae){return u[ae.getMonth()]}function le(ae){return o[ae.getMonth()]}function q(ae){return i[+(ae.getHours()>=12)]}function R(ae){return 1+~~(ae.getMonth()/3)}function G(ae){return s[ae.getUTCDay()]}function K(ae){return a[ae.getUTCDay()]}function Y(ae){return u[ae.getUTCMonth()]}function se(ae){return o[ae.getUTCMonth()]}function ve(ae){return i[+(ae.getUTCHours()>=12)]}function _e(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ue=O(ae+="",A);return ue.toString=function(){return ae},ue},parse:function(ae){var ue=T(ae+="",!1);return ue.toString=function(){return ae},ue},utcFormat:function(ae){var ue=O(ae+="",k);return ue.toString=function(){return ae},ue},utcParse:function(ae){var ue=T(ae+="",!0);return ue.toString=function(){return ae},ue}}}var t9={"-":"",_:" ",0:"0"},Fr=/^\s*\d+/,Kne=/^%/,Qne=/[\\^$*+?|[\]().{}]/g;function qt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Zne(e){return e.replace(Qne,"\\$&")}function x1(e){return new RegExp("^(?:"+e.map(Zne).join("|")+")","i")}function y1(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Jne(e,t,n){var r=Fr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function ere(e,t,n){var r=Fr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function tre(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function nre(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function rre(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function n9(e,t,n){var r=Fr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function r9(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ire(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function are(e,t,n){var r=Fr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function sre(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function i9(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function ore(e,t,n){var r=Fr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function a9(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function lre(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function ure(e,t,n){var r=Fr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cre(e,t,n){var r=Fr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function fre(e,t,n){var r=Fr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hre(e,t,n){var r=Kne.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function dre(e,t,n){var r=Fr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function gre(e,t,n){var r=Fr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function s9(e,t){return qt(e.getDate(),t,2)}function pre(e,t){return qt(e.getHours(),t,2)}function mre(e,t){return qt(e.getHours()%12||12,t,2)}function xre(e,t){return qt(1+Ll.count(Oo(e),e),t,3)}function IP(e,t){return qt(e.getMilliseconds(),t,3)}function yre(e,t){return IP(e,t)+"000"}function vre(e,t){return qt(e.getMonth()+1,t,2)}function _re(e,t){return qt(e.getMinutes(),t,2)}function bre(e,t){return qt(e.getSeconds(),t,2)}function Ere(e){var t=e.getDay();return t===0?7:t}function Sre(e,t){return qt(Kd.count(Oo(e)-1,e),t,2)}function zP(e){var t=e.getDay();return t>=4||t===0?ud(e):ud.ceil(e)}function wre(e,t){return e=zP(e),qt(ud.count(Oo(e),e)+(Oo(e).getDay()===4),t,2)}function Are(e){return e.getDay()}function Tre(e,t){return qt(o2.count(Oo(e)-1,e),t,2)}function kre(e,t){return qt(e.getFullYear()%100,t,2)}function Cre(e,t){return e=zP(e),qt(e.getFullYear()%100,t,2)}function Fre(e,t){return qt(e.getFullYear()%1e4,t,4)}function Dre(e,t){var n=e.getDay();return e=n>=4||n===0?ud(e):ud.ceil(e),qt(e.getFullYear()%1e4,t,4)}function Ore(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qt(t/60|0,"0",2)+qt(t%60,"0",2)}function o9(e,t){return qt(e.getUTCDate(),t,2)}function Mre(e,t){return qt(e.getUTCHours(),t,2)}function Rre(e,t){return qt(e.getUTCHours()%12||12,t,2)}function Nre(e,t){return qt(1+nc.count(Mo(e),e),t,3)}function BP(e,t){return qt(e.getUTCMilliseconds(),t,3)}function $re(e,t){return BP(e,t)+"000"}function Lre(e,t){return qt(e.getUTCMonth()+1,t,2)}function Ire(e,t){return qt(e.getUTCMinutes(),t,2)}function zre(e,t){return qt(e.getUTCSeconds(),t,2)}function Bre(e){var t=e.getUTCDay();return t===0?7:t}function Pre(e,t){return qt(Qd.count(Mo(e)-1,e),t,2)}function PP(e){var t=e.getUTCDay();return t>=4||t===0?cd(e):cd.ceil(e)}function Ure(e,t){return e=PP(e),qt(cd.count(Mo(e),e)+(Mo(e).getUTCDay()===4),t,2)}function Hre(e){return e.getUTCDay()}function jre(e,t){return qt(l2.count(Mo(e)-1,e),t,2)}function qre(e,t){return qt(e.getUTCFullYear()%100,t,2)}function Gre(e,t){return e=PP(e),qt(e.getUTCFullYear()%100,t,2)}function Vre(e,t){return qt(e.getUTCFullYear()%1e4,t,4)}function Xre(e,t){var n=e.getUTCDay();return e=n>=4||n===0?cd(e):cd.ceil(e),qt(e.getUTCFullYear()%1e4,t,4)}function Wre(){return"+0000"}function l9(){return"%"}function u9(e){return+e}function c9(e){return Math.floor(+e/1e3)}var Sh,hC,UP,dC,HP;Yre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Yre(e){return Sh=LP(e),hC=Sh.format,UP=Sh.parse,dC=Sh.utcFormat,HP=Sh.utcParse,Sh}function G1(e){const t={};return n=>t[n]||(t[n]=e(n))}function Kre(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let a=Qre(r,i);const s=a<r.length?r.slice(a):"";for(;--a>i;)if(r[a]!=="0"){++a;break}return r.slice(0,a)+s}}function Qre(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function jP(e){const t=G1(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=Gf(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return Kre(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,a,s){s=Gf(s??",f");const o=uc(r,i,a),u=Math.max(Math.abs(r),Math.abs(i));let c;if(s.precision==null)switch(s.type){case"s":return isNaN(c=dP(o,u))||(s.precision=c),n(s,u);case"":case"e":case"g":case"p":case"r":{isNaN(c=gP(o,u))||(s.precision=c-(s.type==="e"));break}case"f":case"%":{isNaN(c=hP(o))||(s.precision=c-(s.type==="%")*2);break}}return t(s)}}}let Fk;qP();function qP(){return Fk=jP({format:K_,formatPrefix:oC})}function GP(e){return jP(fP(e))}function u2(e){return arguments.length?Fk=GP(e):Fk}function f9(e,t,n){n=n||{},qe(n)||be(`Invalid time multi-format specifier: ${n}`);const r=t(ls),i=t(Oa),a=t(Da),s=t(ra),o=t(cr),u=t(ui),c=t(na),h=t(Hr),d=e(n[qs]||".%L"),p=e(n[ls]||":%S"),m=e(n[Oa]||"%I:%M"),y=e(n[Da]||"%I %p"),v=e(n[ra]||n[ri]||"%a %d"),_=e(n[cr]||"%b %d"),E=e(n[ui]||"%B"),w=e(n[na]||"%B"),A=e(n[Hr]||"%Y");return k=>(r(k)<k?d:i(k)<k?p:a(k)<k?m:s(k)<k?y:u(k)<k?o(k)<k?v:_:h(k)<k?c(k)<k?E:w:A)(k)}function VP(e){const t=G1(e.format),n=G1(e.utcFormat);return{timeFormat:r=>Ge(r)?t(r):f9(t,Zd,r),utcFormat:r=>Ge(r)?n(r):f9(n,Jd,r),timeParse:G1(e.parse),utcParse:G1(e.utcParse)}}let Dk;XP();function XP(){return Dk=VP({format:hC,parse:UP,utcFormat:dC,utcParse:HP})}function WP(e){return VP(LP(e))}function Lp(e){return arguments.length?Dk=WP(e):Dk}const Ok=(e,t)=>vt({},e,t);function YP(e,t){const n=e?GP(e):u2(),r=t?WP(t):Lp();return Ok(n,r)}function gC(e,t){const n=arguments.length;return n&&n!==2&&be("defaultLocale expects either zero or two arguments."),n?Ok(u2(e),Lp(t)):Ok(u2(),Lp())}function Zre(){return qP(),XP(),gC()}const Jre=/^(data:|([A-Za-z]+:)?\/\/)/,eie=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,tie=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,h9="file://";function nie(e){return t=>({options:t||{},sanitize:iie,load:rie,fileAccess:!1,file:aie(),http:oie})}async function rie(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t?.http)}async function iie(e,t){t=vt({},this.options,t);const n=this.fileAccess,r={href:null};let i,a,s;const o=eie.test(e.replace(tie,""));(e==null||typeof e!="string"||!o)&&be("Sanitize failure, invalid URI: "+ze(e));const u=Jre.test(e);return(s=t.baseURL)&&!u&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),a=(i=e.startsWith(h9))||t.mode==="file"||t.mode!=="http"&&!u&&n,i?e=e.slice(h9.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),a=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!a}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function aie(e){return sie}async function sie(){be("No file system access.")}async function oie(e,t){const n=vt({},this.options.http,t),r=t&&t.response,i=await fetch(e,n);return i.ok?_t(i[r])?i[r]():i.text():be(i.status+""+i.statusText)}const lie=e=>e!=null&&e===e,uie=e=>e==="true"||e==="false"||e===!0||e===!1,cie=e=>!Number.isNaN(Date.parse(e)),KP=e=>!Number.isNaN(+e)&&!(e instanceof Date),fie=e=>KP(e)&&Number.isInteger(+e),Mk={boolean:rC,integer:ai,number:ai,date:iC,string:aC,unknown:di},Ly=[uie,fie,KP,cie],hie=["boolean","integer","number","date"];function QP(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=Ly.length,i=Ly.map((a,s)=>s+1);for(let a=0,s=0,o,u;a<n;++a)for(u=t?e[a][t]:e[a],o=0;o<r;++o)if(i[o]&&lie(u)&&!Ly[o](u)&&(i[o]=0,++s,s===Ly.length))return"string";return hie[i.reduce((a,s)=>a===0?s:a,0)-1]}function ZP(e,t){return t.reduce((n,r)=>(n[r]=QP(e,r),n),{})}function d9(e){const t=function(n,r){const i={delimiter:e};return pC(n,r?vt(r,i):i)};return t.responseType="text",t}function pC(e,t){return t.header&&(e=t.header.map(ze).join(t.delimiter)+`
`+e),Xte(t.delimiter).parse(e+"")}pC.responseType="text";function die(e){return typeof Buffer=="function"&&_t(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function mC(e,t){const n=t&&t.property?ss(t.property):di;return qe(e)&&!die(e)?gie(n(e),t):n(JSON.parse(e))}mC.responseType="json";function gie(e,t){return!Ae(e)&&GB(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const pie={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function JP(e,t){let n,r,i,a;return e=mC(e,t),t&&t.feature?(n=Qte,i=t.feature):t&&t.mesh?(n=Jte,i=t.mesh,a=pie[t.filter]):be("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,a):be("Invalid TopoJSON object: "+i),r&&r.features||[r]}JP.responseType="json";const Fv={dsv:pC,csv:d9(","),tsv:d9("	"),json:mC,topojson:JP};function xC(e,t){return arguments.length>1?(Fv[e]=t,this):We(Fv,e)?Fv[e]:null}function eU(e){const t=xC(e);return t&&t.responseType||"text"}function tU(e,t,n,r){t=t||{};const i=xC(t.type||"json");return i||be("Unknown data format type: "+t.type),e=i(e,t),t.parse&&mie(e,t.parse,n,r),We(e,"columns")&&delete e.columns,e}function mie(e,t,n,r){if(!e.length)return;const i=Lp();n=n||i.timeParse,r=r||i.utcParse;let a=e.columns||Object.keys(e[0]),s,o,u,c,h,d;t==="auto"&&(t=ZP(e,a)),a=Object.keys(t);const p=a.map(m=>{const y=t[m];let v,_;if(y&&(y.startsWith("date:")||y.startsWith("utc:")))return v=y.split(/:(.+)?/,2),_=v[1],(_[0]==="'"&&_[_.length-1]==="'"||_[0]==='"'&&_[_.length-1]==='"')&&(_=_.slice(1,-1)),(v[0]==="utc"?r:n)(_);if(!Mk[y])throw Error("Illegal format pattern: "+m+":"+y);return Mk[y]});for(u=0,h=e.length,d=a.length;u<h;++u)for(s=e[u],c=0;c<d;++c)o=a[c],s[o]=p[c](s[o])}const nb=nie();function rb(e){const t=e||di,n=[],r={};return n.add=i=>{const a=t(i);return r[a]||(r[a]=1,n.push(i)),n},n.remove=i=>{const a=t(i);if(r[a]){r[a]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function Dv(e,t){try{await t(e)}catch(n){e.error(n)}}const nU=Symbol("vega_id");let xie=1;function ib(e){return!!(e&&it(e))}function it(e){return e[nU]}function rU(e,t){return e[nU]=t,e}function Wt(e){const t=e===Object(e)?e:{data:e};return it(t)?t:rU(t,xie++)}function yC(e){return ab(e,Wt({}))}function ab(e,t){for(const n in e)t[n]=e[n];return t}function iU(e,t){return rU(t,it(e))}function y0(e,t){return e?t?(n,r)=>e(n,r)||it(t(n))-it(t(r)):(n,r)=>e(n,r)||it(n)-it(r):null}function aU(e){return e&&e.constructor===v0}function v0(){const e=[],t=[],n=[],r=[],i=[];let a=null,s=!1;return{constructor:v0,insert(o){const u=Ve(o),c=u.length;for(let h=0;h<c;++h)e.push(u[h]);return this},remove(o){const u=_t(o)?r:t,c=Ve(o),h=c.length;for(let d=0;d<h;++d)u.push(c[d]);return this},modify(o,u,c){const h={field:u,value:gi(c)};return _t(o)?(h.filter=o,i.push(h)):(h.tuple=o,n.push(h)),this},encode(o,u){return _t(o)?i.push({filter:o,field:u}):n.push({tuple:o,field:u}),this},clean(o){return a=o,this},reflow(){return s=!0,this},pulse(o,u){const c={},h={};let d,p,m,y,v,_;for(d=0,p=u.length;d<p;++d)c[it(u[d])]=1;for(d=0,p=t.length;d<p;++d)v=t[d],c[it(v)]=-1;for(d=0,p=r.length;d<p;++d)y=r[d],u.forEach(w=>{y(w)&&(c[it(w)]=-1)});for(d=0,p=e.length;d<p;++d)v=e[d],_=it(v),c[_]?c[_]=1:o.add.push(Wt(e[d]));for(d=0,p=u.length;d<p;++d)v=u[d],c[it(v)]<0&&o.rem.push(v);function E(w,A,k){k?w[A]=k(w):o.encode=A,s||(h[it(w)]=w)}for(d=0,p=n.length;d<p;++d)m=n[d],v=m.tuple,y=m.field,_=c[it(v)],_>0&&(E(v,y,m.value),o.modifies(y));for(d=0,p=i.length;d<p;++d)m=i[d],y=m.filter,u.forEach(w=>{y(w)&&c[it(w)]>0&&E(w,m.field,m.value)}),o.modifies(m.field);if(s)o.mod=t.length||r.length?u.filter(w=>c[it(w)]>0):u.slice();else for(_ in h)o.mod.push(h[_]);return(a||a==null&&(t.length||r.length))&&o.clean(!0),o}}}const Ov="_:mod:_";function sb(){Object.defineProperty(this,Ov,{writable:!0,value:{}})}sb.prototype={set(e,t,n,r){const i=this,a=i[e],s=i[Ov];return t!=null&&t>=0?(a[t]!==n||r)&&(a[t]=n,s[t+":"+e]=-1,s[e]=-1):(a!==n||r)&&(i[e]=n,s[e]=Ae(n)?1+n.length:-1),i},modified(e,t){const n=this[Ov];if(arguments.length){if(Ae(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[Ov]={},this}};let yie=0;const vie="pulse",_ie=new sb,bie=1,Eie=2;function hn(e,t,n,r){this.id=++yie,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function g9(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}hn.prototype={targets(){return this._targets||(this._targets=rb(_m))},set(e){return this.value!==e?(this.value=e,1):0},skip:g9(bie),modified:g9(Eie),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new sb,i=this._argops=this._argops||[],a=[];let s,o,u,c;const h=(d,p,m)=>{m instanceof hn?(m!==this&&(t&&m.targets().add(this),a.push(m)),i.push({op:m,name:d,index:p})):r.set(d,p,m)};for(s in e)if(o=e[s],s===vie)Ve(o).forEach(d=>{d instanceof hn?d!==this&&(d.targets().add(this),a.push(d)):be("Pulse parameters must be operator instances.")}),this.source=o;else if(Ae(o))for(r.set(s,-1,Array(u=o.length)),c=0;c<u;++c)h(s,c,o[c]);else h(s,-1,o);return this.marshall().clear(),n&&(i.initonly=!0),a},marshall(e){const t=this._argval||_ie,n=this._argops;let r,i,a,s;if(n){const o=n.length;for(i=0;i<o;++i)r=n[i],a=r.op,s=a.modified()&&a.stamp===e,t.set(r.name,r.index,a.value,s);if(n.initonly){for(i=0;i<o;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function Sie(e,t,n,r){let i=1,a;return e instanceof hn?a=e:e&&e.prototype instanceof hn?a=new e:_t(e)?a=new hn(null,e):(i=0,a=new hn(e,t)),this.rank(a),i&&(r=n,n=t),n&&this.connect(a,a.parameters(n,r)),this.touch(a),a}function wie(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let Aie=0;function ob(e,t,n){this.id=++Aie,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function $u(e,t,n){return new ob(e,t,n)}ob.prototype={_filter:os,_apply:di,targets(){return this._targets||(this._targets=rb(_m))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=$u(e);return this.targets().add(t),t},apply(e){const t=$u(null,e);return this.targets().add(t),t},merge(){const e=$u();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=$u();return this.targets().add($u(null,null,eC(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add($u(null,null,()=>n=!0)),t.targets().add($u(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=os,this._targets=null}};function Tie(e,t,n,r){const i=this,a=$u(n,r),s=function(c){c.dataflow=i;try{a.receive(c)}catch(h){i.error(h)}finally{i.run()}};let o;typeof e=="string"&&typeof document<"u"?o=document.querySelectorAll(e):o=Ve(e);const u=o.length;for(let c=0;c<u;++c)o[c].addEventListener(t,s);return a}function kie(e,t){const n=this.locale();return tU(e,t,n.timeParse,n.utcParse)}function Cie(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function Fie(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:eU(t&&t.type)});try{i=n.parse(i,t)}catch(a){r=-2,n.warn("Data ingestion failed",e,a)}}catch(a){r=-1,n.warn("Loading failed",e,a)}return{data:i,status:r}}async function Die(e,t,n){const r=this,i=r._pending||Oie(r);i.requests+=1;const a=await r.request(t,n);return r.pulse(e,r.changeset().remove(os).insert(a.data||[])),i.done(),a}function Oie(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const Mie={skip:!0};function Rie(e,t,n,r,i){return(e instanceof hn?$ie:Nie)(this,e,t,n,r,i),this}function Nie(e,t,n,r,i,a){const s=vt({},a,Mie);let o,u;_t(n)||(n=gi(n)),r===void 0?o=c=>e.touch(n(c)):_t(r)?(u=new hn(null,r,i,!1),o=c=>{u.evaluate(c);const h=n(c),d=u.value;aU(d)?e.pulse(h,d,a):e.update(h,d,s)}):o=c=>e.update(n(c),r,s),t.apply(o)}function $ie(e,t,n,r,i,a){if(r===void 0)t.targets().add(n);else{const s=a||{},o=new hn(null,Lie(n,r),i,!1);o.modified(s.force),o.rank=t.rank,t.targets().add(o),n&&(o.skip(!0),o.value=n.value,o.targets().add(n),e.connect(n,[o]))}}function Lie(e,t){return t=_t(t)?t:gi(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function Iie(e){e.rank=++this._rank}function zie(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&be("Cycle detected in dataflow graph.")}const c2={},mo=1,zu=2,Sl=4,Bie=mo|zu,p9=mo|Sl,wh=mo|zu|Sl,m9=8,v1=16,x9=32,y9=64;function rc(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function FA(e,t){const n=[];return Iu(e,t,r=>n.push(r)),n}function v9(e,t){const n={};return e.visit(t,r=>{n[it(r)]=1}),r=>n[it(r)]?null:r}function Iy(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}rc.prototype={StopPropagation:c2,ADD:mo,REM:zu,MOD:Sl,ADD_REM:Bie,ADD_MOD:p9,ALL:wh,REFLOW:m9,SOURCE:v1,NO_SOURCE:x9,NO_FIELDS:y9,fork(e){return new rc(this.dataflow).init(this,e)},clone(){const e=this.fork(wh);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(wh|v1)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new rc(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&y9)&&(n.fields=e.fields),t&mo?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&zu?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Sl?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&x9?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||wh;return t&mo&&this.add.length||t&zu&&this.rem.length||t&Sl&&this.mod.length},reflow(e){if(e)return this.fork(wh).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Sl,v9(this,mo))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Ae(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Ae(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&mo&&(n.addF=Iy(n.addF,t)),e&zu&&(n.remF=Iy(n.remF,t)),e&Sl&&(n.modF=Iy(n.modF,t)),e&v1&&(n.srcF=Iy(n.srcF,t)),n},materialize(e){e=e||wh;const t=this;return e&mo&&t.addF&&(t.add=FA(t.add,t.addF),t.addF=null),e&zu&&t.remF&&(t.rem=FA(t.rem,t.remF),t.remF=null),e&Sl&&t.modF&&(t.mod=FA(t.mod,t.modF),t.modF=null),e&v1&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&v1)return Iu(n.source,n.srcF,r),n;e&mo&&Iu(n.add,n.addF,r),e&zu&&Iu(n.rem,n.remF,r),e&Sl&&Iu(n.mod,n.modF,r);const i=n.source;if(e&m9&&i){const a=n.add.length+n.mod.length;a===i.length||(a?Iu(i,v9(n,p9),r):Iu(i,n.srcF,r))}return n}};function vC(e,t,n,r){const i=this;let a=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const o=i.fields||(i.fields={});for(const u in s.fields)o[u]=1}s.changed(i.ADD)&&(a|=i.ADD),s.changed(i.REM)&&(a|=i.REM),s.changed(i.MOD)&&(a|=i.MOD)}this.changes=a}Be(vC,rc,{fork(e){const t=new rc(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Ae(e)?e.some(r=>n[r]):n[e]:0},filter(){be("MultiPulse does not support filtering.")},materialize(){be("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let a=0;if(e&n.SOURCE)for(;a<i;++a)r[a].visit(e,t);else for(;a<i;++a)r[a].stamp===n.stamp&&r[a].visit(e,t);return n}});async function Pie(e,t,n){const r=this,i=[];if(r._pulse)return sU(r);if(r._pending&&await r._pending,t&&await Dv(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const a=++r._clock;r._pulse=new rc(r,a,e),r._touched.forEach(h=>r._enqueue(h,!0)),r._touched=rb(_m);let s=0,o,u,c;try{for(;r._heap.size()>0;){if(o=r._heap.pop(),o.rank!==o.qrank){r._enqueue(o,!0);continue}u=o.run(r._getPulse(o,e)),u.then?u=await u:u.async&&(i.push(u.async),u=c2),u!==c2&&o._targets&&o._targets.forEach(h=>r._enqueue(h)),++s}}catch(h){r._heap.clear(),c=h}if(r._input={},r._pulse=null,r.debug(`Pulse ${a}: ${s} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const h=r._postrun.sort((d,p)=>p.priority-d.priority);r._postrun=[];for(let d=0;d<h.length;++d)await Dv(r,h[d].callback)}return n&&await Dv(r,n),i.length&&Promise.all(i).then(h=>r.runAsync(null,()=>{h.forEach(d=>{try{d(r)}catch(p){r.error(p)}})})),r}async function Uie(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function Hie(e,t,n){return this._pulse?sU(this):(this.evaluate(e,t,n),this)}function jie(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function sU(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function qie(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function Gie(e,t){const n=e.source,r=this._clock;return n&&Ae(n)?new vC(this,r,n.map(i=>i.pulse),t):this._input[e.id]||Vie(this._pulse,n&&n.pulse)}function Vie(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==c2&&(e.source=t.source),e)}const _C={skip:!1,force:!1};function Xie(e,t){const n=t||_C;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function Wie(e,t,n){const r=n||_C;return(e.set(t)||r.force)&&this.touch(e,r),this}function Yie(e,t,n){this.touch(e,n||_C);const r=new rc(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function Kie(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),oU(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,Qie(t,0,e)):r=n,r}}}function oU(e,t,n,r){let i,a;const s=e[n];for(;n>t;){if(a=n-1>>1,i=e[a],r(s,i)<0){e[n]=i,n=a;continue}break}return e[n]=s}function Qie(e,t,n){const r=t,i=e.length,a=e[t];let s=(t<<1)+1,o;for(;s<i;)o=s+1,o<i&&n(e[s],e[o])>=0&&(s=o),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=a,oU(e,r,t,n)}function Wh(){this.logger(X_()),this.logLevel(W4),this._clock=0,this._rank=0,this._locale=gC();try{this._loader=nb()}catch{}this._touched=rb(_m),this._input={},this._pulse=null,this._heap=Kie((e,t)=>e.qrank-t.qrank),this._postrun=[]}function _1(e){return function(){return this._log[e].apply(this,arguments)}}Wh.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:_1("error"),warn:_1("warn"),info:_1("info"),debug:_1("debug"),logLevel:_1("level"),cleanThreshold:1e4,add:Sie,connect:wie,rank:Iie,rerank:zie,pulse:Yie,touch:Xie,update:Wie,changeset:v0,ingest:Cie,parse:kie,preload:Die,request:Fie,events:Tie,on:Rie,evaluate:Pie,run:Hie,runAsync:Uie,runAfter:jie,_enqueue:qie,_getPulse:Gie};function ye(e,t){hn.call(this,e,null,t)}Be(ye,hn,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const hd={};function lU(e){const t=uU(e);return t&&t.Definition||null}function uU(e){return e=e&&e.toLowerCase(),We(hd,e)?hd[e]:null}function*cU(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function bC(e,t,n){const r=Float64Array.from(cU(e,n));return r.sort($l),t.map(i=>sP(r,i))}function EC(e,t){return bC(e,[.25,.5,.75],t)}function SC(e,t){const n=e.length,r=one(e,t),i=EC(e,t),a=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,a)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function fU(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let a=e.extent[0],s=e.extent[1],o,u,c,h,d,p;const m=e.span||s-a||Math.abs(a)||1;if(e.step)o=e.step;else if(e.steps){for(h=m/t,d=0,p=e.steps.length;d<p&&e.steps[d]<h;++d);o=e.steps[Math.max(0,d-1)]}else{for(u=Math.ceil(Math.log(t)/r),c=e.minstep||0,o=Math.max(c,Math.pow(n,Math.round(Math.log(m)/r)-u));Math.ceil(m/o)>t;)o*=n;for(d=0,p=i.length;d<p;++d)h=o/i[d],h>=c&&m/h<=t&&(o=h)}h=Math.log(o);const y=h>=0?0:~~(-h/r)+1,v=Math.pow(n,-y-1);return(e.nice||e.nice===void 0)&&(h=Math.floor(a/o+v)*o,a=a<h?h-o:h,s=Math.ceil(s/o)*o),{start:a,stop:s===a?a+o:s,step:o}}var us=Math.random;function Zie(e){us=e}function hU(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(cU(e,r)),a=i.length,s=t;let o,u,c,h;for(c=0,h=Array(s);c<s;++c){for(o=0,u=0;u<a;++u)o+=i[~~(us()*a)];h[c]=o/a}return h.sort($l),[Sk(h,n/2),Sk(h,1-n/2)]}function dU(e,t,n,r){r=r||(p=>p);const i=e.length,a=new Float64Array(i);let s=0,o=1,u=r(e[0]),c=u,h=u+t,d;for(;o<i;++o){if(d=r(e[o]),d>=h){for(c=(u+c)/2;s<o;++s)a[s]=c;h=d+t,u=d}c=d}for(c=(u+c)/2;s<o;++s)a[s]=c;return n?Jie(a,t+t/4):a}function Jie(e,t){const n=e.length;let r=0,i=1,a,s;for(;e[r]===e[i];)++i;for(;i<n;){for(a=i+1;e[i]===e[a];)++a;if(e[i]-e[i-1]<t){for(s=i+(r+a-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=a}return e}function eae(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function tae(e,t){t==null&&(t=e,e=0);let n,r,i;const a={min(s){return arguments.length?(n=s||0,i=r-n,a):n},max(s){return arguments.length?(r=s||0,i=r-n,a):r},sample(){return n+Math.floor(i*us())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const o=Math.floor(s);return o<n?0:o>=r?1:(o-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return a.min(e).max(t)}const gU=Math.sqrt(2*Math.PI),nae=Math.SQRT2;let b1=NaN;function lb(e,t){e=e||0,t=t??1;let n=0,r=0,i,a;if(b1===b1)n=b1,b1=NaN;else{do n=us()*2-1,r=us()*2-1,i=n*n+r*r;while(i===0||i>1);a=Math.sqrt(-2*Math.log(i)/i),n*=a,b1=r*a}return e+n*t}function wC(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*gU)}function ub(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let a;if(i>37)a=0;else{const s=Math.exp(-i*i/2);let o;i<7.07106781186547?(o=.0352624965998911*i+.700383064443688,o=o*i+6.37396220353165,o=o*i+33.912866078383,o=o*i+112.079291497871,o=o*i+221.213596169931,o=o*i+220.206867912376,a=s*o,o=.0883883476483184*i+1.75566716318264,o=o*i+16.064177579207,o=o*i+86.7807322029461,o=o*i+296.564248779674,o=o*i+637.333633378831,o=o*i+793.826512519948,o=o*i+440.413735824752,a=a/o):(o=i+.65,o=i+4/o,o=i+3/o,o=i+2/o,o=i+1/o,a=s/o/2.506628274631)}return r>0?1-a:a}function cb(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*nae*rae(2*e-1)}function rae(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function AC(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>lb(n,r),pdf:a=>wC(a,n,r),cdf:a=>ub(a,n,r),icdf:a=>cb(a,n,r)};return i.mean(e).stdev(t)}function TC(e,t){const n=AC();let r=0;const i={data(a){return arguments.length?(e=a,r=a?a.length:0,i.bandwidth(t)):e},bandwidth(a){return arguments.length?(t=a,!t&&e&&(t=SC(e)),i):t},sample(){return e[~~(us()*r)]+t*n.sample()},pdf(a){let s=0,o=0;for(;o<r;++o)s+=n.pdf((a-e[o])/t);return s/t/r},cdf(a){let s=0,o=0;for(;o<r;++o)s+=n.cdf((a-e[o])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function kC(e,t){return e=e||0,t=t??1,Math.exp(e+lb()*t)}function CC(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*gU*e)}function FC(e,t,n){return ub(Math.log(e),t,n)}function DC(e,t,n){return Math.exp(cb(e,t,n))}function pU(e,t){let n,r;const i={mean(a){return arguments.length?(n=a||0,i):n},stdev(a){return arguments.length?(r=a??1,i):r},sample:()=>kC(n,r),pdf:a=>CC(a,n,r),cdf:a=>FC(a,n,r),icdf:a=>DC(a,n,r)};return i.mean(e).stdev(t)}function mU(e,t){let n=0,r;function i(s){const o=[];let u=0,c;for(c=0;c<n;++c)u+=o[c]=s[c]==null?1:+s[c];for(c=0;c<n;++c)o[c]/=u;return o}const a={weights(s){return arguments.length?(r=i(t=s||[]),a):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),a.weights(t)):e},sample(){const s=us();let o=e[n-1],u=r[0],c=0;for(;c<n-1;u+=r[++c])if(s<u){o=e[c];break}return o.sample()},pdf(s){let o=0,u=0;for(;u<n;++u)o+=r[u]*e[u].pdf(s);return o},cdf(s){let o=0,u=0;for(;u<n;++u)o+=r[u]*e[u].cdf(s);return o},icdf(){throw Error("Mixture icdf not supported.")}};return a.distributions(e).weights(t)}function OC(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*us()}function MC(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function RC(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function NC(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function xU(e,t){let n,r;const i={min(a){return arguments.length?(n=a||0,i):n},max(a){return arguments.length?(r=a??1,i):r},sample:()=>OC(n,r),pdf:a=>MC(a,n,r),cdf:a=>RC(a,n,r),icdf:a=>NC(a,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function $C(e,t,n){let r=0,i=0;for(const a of e){const s=n(a);t(a)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function Em(e,t,n,r){const i=r-e*e,a=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-a*e,a]}function fb(e,t,n,r){e=e.filter(m=>{let y=t(m),v=n(m);return y!=null&&(y=+y)>=y&&v!=null&&(v=+v)>=v}),r&&e.sort((m,y)=>t(m)-t(y));const i=e.length,a=new Float64Array(i),s=new Float64Array(i);let o=0,u=0,c=0,h,d,p;for(p of e)a[o]=h=+t(p),s[o]=d=+n(p),++o,u+=(h-u)/o,c+=(d-c)/o;for(o=0;o<i;++o)a[o]-=u,s[o]-=c;return[a,s,u,c]}function Sm(e,t,n,r){let i=-1,a,s;for(const o of e)a=t(o),s=n(o),a!=null&&(a=+a)>=a&&s!=null&&(s=+s)>=s&&r(a,s,++i)}function eg(e,t,n,r,i){let a=0,s=0;return Sm(e,t,n,(o,u)=>{const c=u-i(o),h=u-r;a+=c*c,s+=h*h}),1-a/s}function LC(e,t,n){let r=0,i=0,a=0,s=0,o=0;Sm(e,t,n,(h,d)=>{++o,r+=(h-r)/o,i+=(d-i)/o,a+=(h*d-a)/o,s+=(h*h-s)/o});const u=Em(r,i,a,s),c=h=>u[0]+u[1]*h;return{coef:u,predict:c,rSquared:eg(e,t,n,i,c)}}function yU(e,t,n){let r=0,i=0,a=0,s=0,o=0;Sm(e,t,n,(h,d)=>{++o,h=Math.log(h),r+=(h-r)/o,i+=(d-i)/o,a+=(h*d-a)/o,s+=(h*h-s)/o});const u=Em(r,i,a,s),c=h=>u[0]+u[1]*Math.log(h);return{coef:u,predict:c,rSquared:eg(e,t,n,i,c)}}function vU(e,t,n){const[r,i,a,s]=fb(e,t,n);let o=0,u=0,c=0,h=0,d=0,p,m,y;Sm(e,t,n,(w,A)=>{p=r[d++],m=Math.log(A),y=p*A,o+=(A*m-o)/d,u+=(y-u)/d,c+=(y*m-c)/d,h+=(p*y-h)/d});const[v,_]=Em(u/s,o/s,c/s,h/s),E=w=>Math.exp(v+_*(w-a));return{coef:[Math.exp(v-_*a),_],predict:E,rSquared:eg(e,t,n,s,E)}}function _U(e,t,n){let r=0,i=0,a=0,s=0,o=0,u=0;Sm(e,t,n,(d,p)=>{const m=Math.log(d),y=Math.log(p);++u,r+=(m-r)/u,i+=(y-i)/u,a+=(m*y-a)/u,s+=(m*m-s)/u,o+=(p-o)/u});const c=Em(r,i,a,s),h=d=>c[0]*Math.pow(d,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:h,rSquared:eg(e,t,n,o,h)}}function IC(e,t,n){const[r,i,a,s]=fb(e,t,n),o=r.length;let u=0,c=0,h=0,d=0,p=0,m,y,v,_;for(m=0;m<o;)y=r[m],v=i[m++],_=y*y,u+=(_-u)/m,c+=(_*y-c)/m,h+=(_*_-h)/m,d+=(y*v-d)/m,p+=(_*v-p)/m;const E=h-u*u,w=u*E-c*c,A=(p*u-d*c)/w,k=(d*E-p*c)/w,D=-A*u,O=T=>(T=T-a,A*T*T+k*T+D+s);return{coef:[D-k*a+A*a*a+s,k-2*A*a,A],predict:O,rSquared:eg(e,t,n,s,O)}}function bU(e,t,n,r){if(r===0)return $C(e,t,n);if(r===1)return LC(e,t,n);if(r===2)return IC(e,t,n);const[i,a,s,o]=fb(e,t,n),u=i.length,c=[],h=[],d=r+1;let p,m,y,v,_;for(p=0;p<d;++p){for(y=0,v=0;y<u;++y)v+=Math.pow(i[y],p)*a[y];for(c.push(v),_=new Float64Array(d),m=0;m<d;++m){for(y=0,v=0;y<u;++y)v+=Math.pow(i[y],p+m);_[m]=v}h.push(_)}h.push(c);const E=aae(h),w=A=>{A-=s;let k=o+E[0]+E[1]*A+E[2]*A*A;for(p=3;p<d;++p)k+=E[p]*Math.pow(A,p);return k};return{coef:iae(d,E,-s,o),predict:w,rSquared:eg(e,t,n,o,w)}}function iae(e,t,n,r){const i=Array(e);let a,s,o,u;for(a=0;a<e;++a)i[a]=0;for(a=e-1;a>=0;--a)for(o=t[a],u=1,i[a]+=o,s=1;s<=a;++s)u*=(a+1-s)/s,i[a-s]+=o*Math.pow(n,s)*u;return i[0]+=r,i}function aae(e){const t=e.length-1,n=[];let r,i,a,s,o;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(a=r;a<t+1;++a)o=e[a][r],e[a][r]=e[a][s],e[a][s]=o;for(i=r+1;i<t;++i)for(a=t;a>=r;a--)e[a][i]-=e[a][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(o=0,a=i+1;a<t;++a)o+=e[a][i]*n[a];n[i]=(e[t][i]-o)/e[i][i]}return n}const _9=2,b9=1e-12;function EU(e,t,n,r){const[i,a,s,o]=fb(e,t,n,!0),u=i.length,c=Math.max(2,~~(r*u)),h=new Float64Array(u),d=new Float64Array(u),p=new Float64Array(u).fill(1);for(let m=-1;++m<=_9;){const y=[0,c-1];for(let _=0;_<u;++_){const E=i[_],w=y[0],A=y[1],k=E-i[w]>i[A]-E?w:A;let D=0,O=0,T=0,F=0,C=0;const N=1/Math.abs(i[k]-E||1);for(let Q=w;Q<=A;++Q){const J=i[Q],H=a[Q],z=sae(Math.abs(E-J)*N)*p[Q],X=J*z;D+=z,O+=X,T+=H*z,F+=H*X,C+=J*X}const[L,I]=Em(O/D,T/D,F/D,C/D);h[_]=L+I*E,d[_]=Math.abs(a[_]-h[_]),oae(i,_+1,y)}if(m===_9)break;const v=oP(d);if(Math.abs(v)<b9)break;for(let _=0,E,w;_<u;++_)E=d[_]/(6*v),p[_]=E>=1?b9:(w=1-E*E)*w}return lae(i,h,s,o)}function sae(e){return(e=1-e*e*e)*e*e}function oae(e,t,n){const r=e[t];let i=n[0],a=n[1]+1;if(!(a>=e.length))for(;t>i&&e[a]-r<=r-e[i];)n[0]=++i,n[1]=a,++a}function lae(e,t,n,r){const i=e.length,a=[];let s=0,o=0,u=[],c;for(;s<i;++s)c=e[s]+n,u[0]===c?u[1]+=(t[s]-u[1])/++o:(o=0,u[1]+=r,u=[c,t[s]],a.push(u));return u[1]+=r,a}const uae=.5*Math.PI/180;function hb(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=v=>[v,e(v)],a=t[0],s=t[1],o=s-a,u=o/r,c=[i(a)],h=[];if(n===r){for(let v=1;v<r;++v)c.push(i(a+v/n*o));return c.push(i(s)),c}else{h.push(i(s));for(let v=n;--v>0;)h.push(i(a+v/n*o))}let d=c[0],p=h[h.length-1];const m=1/o,y=cae(d[1],h);for(;p;){const v=i((d[0]+p[0])/2);v[0]-d[0]>=u&&fae(d,v,p,m,y)>uae?h.push(v):(d=p,c.push(p),h.pop()),p=h[h.length-1]}return c}function cae(e,t){let n=e,r=e;const i=t.length;for(let a=0;a<i;++a){const s=t[a][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function fae(e,t,n,r,i){const a=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(a-s)}function hae(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function Rk(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:hae(e)}function SU(e,t,n){return n||e+(t?"_"+t:"")}const DA=()=>{},dae={init:DA,add:DA,rem:DA,idx:0},Ip={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.valid?e.sum:void 0,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3},exponential:{init:(e,t)=>{e.exp=0,e.exp_r=t},value:e=>e.valid?e.exp*(1-e.exp_r)/(1-e.exp_r**e.valid):void 0,add:(e,t)=>e.exp=e.exp_r*e.exp+t,rem:(e,t)=>e.exp=(e.exp-t/e.exp_r**(e.valid-1))/e.exp_r},exponentialb:{value:e=>e.valid?e.exp*(1-e.exp_r):void 0,req:["exponential"],idx:1}},wm=Object.keys(Ip).filter(e=>e!=="__count__");function gae(e,t){return(n,r)=>vt({name:e,aggregate_param:r,out:n||e},dae,t)}[...wm,"__count__"].forEach(e=>{Ip[e]=gae(e,Ip[e])});function wU(e,t,n){return Ip[e](n,t)}function AU(e,t){return e.idx-t.idx}function pae(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=Ip[i]())})};return e.forEach(n),Object.values(t).sort(AU)}function mae(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.aggregate_param==null?e.init(this):e.init(this,e.aggregate_param))}function xae(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function yae(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function vae(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function TU(e,t){const n=t||di,r=pae(e),i=e.slice().sort(AU);function a(s){this._ops=r,this._out=i,this.cell=s,this.init()}return a.prototype.init=mae,a.prototype.add=xae,a.prototype.rem=yae,a.prototype.set=vae,a.prototype.get=n,a.fields=e.map(s=>s.out),a}function zC(e){this._key=e?ss(e):it,this.reset()}const Vr=zC.prototype;Vr.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Vr.add=function(e){this._add.push(e)};Vr.rem=function(e){this._rem.push(e)};Vr.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,a=Array(r-i),s={};let o,u,c;for(o=0;o<i;++o)s[n(t[o])]=1;for(o=0,u=0;o<r;++o)s[n(c=e[o])]?s[n(c)]=0:a[u++]=c;return this._rem=[],this._add=a};Vr.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,a;for(;--r>=0;)a=e(t[r])+"",We(n,a)||(n[a]=1,++i);return i};Vr.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=jB(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Vr.argmin=function(e){return this.extent(e)[0]||{}};Vr.argmax=function(e){return this.extent(e)[1]||{}};Vr.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Vr.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Vr.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=EC(this.values(),e),this._get=e),this._q};Vr.q1=function(e){return this.quartile(e)[0]};Vr.q2=function(e){return this.quartile(e)[1]};Vr.q3=function(e){return this.quartile(e)[2]};Vr.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=hU(this.values(),1e3,.05,e),this._get=e),this._ci};Vr.ci0=function(e){return this.ci(e)[0]};Vr.ci1=function(e){return this.ci(e)[1]};function cc(e){ye.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}cc.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:wm},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Be(cc,ye,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,a=>n.add(a))):(n.value=n.value||n.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function a(o){let u,c,h,d;for(u in o)for(h=o[u].tuple,c=0;c<i;++c)r[c][d=h[n[c]]]=d}a(e._prev),a(t);function s(o,u,c){const h=n[c],d=r[c++];for(const p in d){const m=o?o+"|"+p:p;u[h]=d[p],c<i?s(m,u,c):t[m]||e.cell(m,u)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(w){const A=Ve(li(w)),k=A.length;let D=0,O;for(;D<k;++D)r[O=A[D]]||(r[O]=1,t.push(O))}this._dims=Ve(e.groupby),this._dnames=this._dims.map(w=>{const A=Un(w);return i(w),n.push(A),A}),this.cellkey=e.key?e.key:Rk(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const a=e.fields||[null],s=e.ops||["count"],o=e.aggregate_params||[null],u=e.as||[],c=a.length,h={};let d,p,m,y,v,_,E;for(c!==s.length&&be("Unmatched number of fields and aggregate ops."),E=0;E<c;++E){if(d=a[E],p=s[E],m=o[E]||null,d==null&&p!=="count"&&be("Null aggregate field specified."),v=Un(d),_=SU(p,v,u[E]),n.push(_),p==="count"){this._counts.push(_);continue}y=h[v],y||(i(d),y=h[v]=[],y.field=d,this._measures.push(y)),p!=="count"&&(this._countOnly=!1),y.push(wU(p,m,_))}return this._measures=this._measures.map(w=>TU(w,w.field)),Object.create(null)},cellkey:Rk(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let a=0;a<i;++a)n.agg[a]=new r[a](n)}return n.store&&(n.data=new zC),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,a={};for(let s=0;s<i;++s)a[n[s]]=r[s](e);return t?iU(t.tuple,a):Wt(a)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,a=r.length;i<a;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,a=r.length;i<a;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,a=e.add,s=e.rem,o=e.mod;let u,c,h,d;if(r)for(c in r)u=r[c],(!i||u.num)&&s.push(u.tuple);for(h=0,d=this._alen;h<d;++h)a.push(this.celltuple(t[h])),t[h]=null;for(h=0,d=this._mlen;h<d;++h)u=n[h],(u.num===0&&i?s:o).push(this.celltuple(u)),n[h]=null;return this._alen=this._mlen=0,this._prev=null,e}});const _ae=1e-14;function BC(e){ye.call(this,null,e)}BC.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Be(BC,ye,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,a=r.step,s=e.as||["bin0","bin1"],o=s[0],u=s[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(li(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?h=>{const d=r(h);h[o]=d,h[u]=d==null?null:i+a*(1+(d-i)/a)}:h=>h[o]=r(h)),t.modifies(n?s:o)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=fU(e),r=n.step;let i=n.start,a=i+Math.ceil((n.stop-i)/r)*r,s,o;(s=e.anchor)!=null&&(o=s-(i+r*Math.floor((s-i)/r)),i+=o,a+=o);const u=function(c){let h=ai(t(c));return h==null?null:h<i?-1/0:h>a?1/0:(h=Math.max(i,Math.min(h,a-r)),i+r*Math.floor(_ae+(h-i)/r))};return u.start=i,u.stop=n.stop,u.step=r,this.value=la(u,li(t),e.name||"bin_"+Un(t))}});function kU(e,t,n){const r=e;let i=t||[],a=n||[],s={},o=0;return{add:u=>a.push(u),remove:u=>s[r(u)]=++o,size:()=>i.length,data:(u,c)=>(o&&(i=i.filter(h=>!s[r(h)]),s={},o=0),c&&u&&i.sort(u),a.length&&(i=u?WB(u,i,a.sort(u)):i.concat(a),a=[]),i)}}function PC(e){ye.call(this,[],e)}PC.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Be(PC,ye,{transform(e,t){const n=t.fork(t.ALL),r=kU(it,this.value,n.materialize(n.ADD).add),i=e.sort,a=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(a),this.value=n.source=r.data(y0(i),a),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function CU(e){hn.call(this,null,bae,e)}Be(CU,hn);function bae(e){return this.value&&!e.modified()?this.value:J4(e.fields,e.orders)}function UC(e){ye.call(this,null,e)}UC.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function Eae(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Be(UC,ye,{transform(e,t){const n=d=>p=>{for(var m=Eae(o(p),e.case,a)||[],y,v=0,_=m.length;v<_;++v)s.test(y=m[v])||d(y)},r=this._parameterCheck(e,t),i=this._counts,a=this._match,s=this._stop,o=e.field,u=e.as||["text","count"],c=n(d=>i[d]=1+(i[d]||0)),h=n(d=>i[d]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,h)),this._finish(t,u)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],a=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let o,u,c;for(o in n)u=r[o],c=n[o]||0,!u&&c?(r[o]=u=Wt({}),u[i]=o,u[a]=c,s.add.push(u)):c===0?(u&&s.rem.push(u),n[o]=null,r[o]=null):u[a]!==c&&(u[a]=c,s.mod.push(u));return s.modifies(t)}});function HC(e){ye.call(this,null,e)}HC.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Be(HC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],a=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let o=this.value;return s?(o&&(n.rem=o),o=t.materialize(t.SOURCE).source,n.add=this.value=Sae(o,i,a,e.filter||os)):n.mod=o,n.source=this.value,n.modifies(r)}});function Sae(e,t,n,r){for(var i=[],a={},s=e.length,o=0,u,c;o<s;++o)for(a[t]=c=e[o],u=0;u<s;++u)a[n]=e[u],r(a)&&(i.push(Wt(a)),a={},a[t]=c);return i}const E9={kde:TC,mixture:mU,normal:AC,lognormal:pU,uniform:xU},wae="distributions",S9="function",Aae="field";function FU(e,t){const n=e[S9];We(E9,n)||be("Unknown distribution function: "+n);const r=E9[n]();for(const i in e)i===Aae?r.data((e.from||t()).map(e[i])):i===wae?r[i](e[i].map(a=>FU(a,t))):typeof r[i]===S9&&r[i](e[i]);return r}function jC(e){ye.call(this,null,e)}const DU=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],Tae={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:DU},{name:"weights",type:"number",array:!0}]};jC.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:DU.concat(Tae)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Be(jC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=FU(e.distribution,kae(t)),i=e.steps||e.minsteps||25,a=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&be("Invalid density method: "+s),!e.extent&&!r.data&&be("Missing density extent parameter."),s=r[s];const o=e.as||["value","density"],u=e.extent||Do(r.data()),c=hb(s,u,i,a).map(h=>{const d={};return d[o[0]]=h[0],d[o[1]]=h[1],Wt(d)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function kae(e){return()=>e.materialize(e.SOURCE).source}function OU(e,t){return e?e.map((n,r)=>t[r]||Un(n)):null}function qC(e,t,n){const r=[],i=d=>d(u);let a,s,o,u,c,h;if(t==null)r.push(e.map(n));else for(a={},s=0,o=e.length;s<o;++s)u=e[s],c=t.map(i),h=a[c],h||(a[c]=h=[],h.dims=c,r.push(h)),h.push(n(u));return r}const MU="bin";function GC(e){ye.call(this,null,e)}GC.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:MU}]};const Cae=(e,t)=>bm(Do(e,t))/30;Be(GC,ye,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=qC(t.source,e.groupby,di),i=e.smooth||!1,a=e.field,s=e.step||Cae(n,a),o=y0((y,v)=>a(y)-a(v)),u=e.as||MU,c=r.length;let h=1/0,d=-1/0,p=0,m;for(;p<c;++p){const y=r[p].sort(o);m=-1;for(const v of dU(y,s,i,a))v<h&&(h=v),v>d&&(d=v),y[++m][u]=v}return this.value={start:h,stop:d,step:s},t.reflow(!0).modifies(u)}});function RU(e){hn.call(this,null,Fae,e),this.modified(!0)}Be(RU,hn);function Fae(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:la(n=>t(n,e),li(t),Un(t))}function VC(e){ye.call(this,[void 0,void 0],e)}VC.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Be(VC,ye,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let a=n[0],s=n[1];if((i||a==null)&&(a=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,o=>{const u=ai(r(o));u!=null&&(u<a&&(a=u),u>s&&(s=u))}),!Number.isFinite(a)||!Number.isFinite(s)){let o=Un(r);o&&(o=` for field "${o}"`),t.dataflow.warn(`Infinite extent${o}: [${a}, ${s}]`),a=s=void 0}this.value=[a,s]}});function XC(e,t){hn.call(this,e),this.parent=t,this.count=0}Be(XC,hn,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function db(e){ye.call(this,{},e),this._keys=Wd();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Be(db,ye,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let a=We(i,e)&&i[e],s,o;return a?a.value.stamp<n.stamp&&(a.init(n),this.activate(a)):(o=r||(o=this._group[e])&&o.tuple,s=n.dataflow,a=new XC(n.fork(n.NO_SOURCE),this),s.add(a).connect(t(s,e,o)),i[e]=a,this.activate(a)),a},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,a=this._keys,s=e.modified("key"),o=u=>this.subflow(u,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,u=>{const c=it(u),h=a.get(c);h!==void 0&&(a.delete(c),o(h).rem(u))}),t.visit(t.ADD,u=>{const c=r(u);a.set(it(u),c),o(c).add(u)}),s||t.modified(r.fields)?t.visit(t.MOD,u=>{const c=it(u),h=a.get(c),d=r(u);h===d?o(d).mod(u):(a.set(c,d),o(h).rem(u),o(d).add(u))}):t.changed(t.MOD)&&t.visit(t.MOD,u=>{o(a.get(it(u))).mod(u)}),s&&t.visit(t.REFLOW,u=>{const c=it(u),h=a.get(c),d=r(u);h!==d&&(a.set(c,d),o(h).rem(u),o(d).add(u))}),t.clean()?n.runAfter(()=>{this.clean(),a.clean()}):a.empty>n.cleanThreshold&&n.runAfter(a.clean),t}});function NU(e){hn.call(this,null,Dae,e)}Be(NU,hn);function Dae(e){return this.value&&!e.modified()?this.value:Ae(e.name)?Ve(e.name).map(t=>ss(t)):ss(e.name,e.as)}function WC(e){ye.call(this,Wd(),e)}WC.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Be(WC,ye,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),a=i.add,s=i.rem,o=i.mod,u=e.expr;let c=!0;t.visit(t.REM,d=>{const p=it(d);r.has(p)?r.delete(p):s.push(d)}),t.visit(t.ADD,d=>{u(d,e)?a.push(d):r.set(it(d),1)});function h(d){const p=it(d),m=u(d,e),y=r.get(p);m&&y?(r.delete(p),a.push(d)):!m&&!y?(r.set(p,1),s.push(d)):c&&m&&!y&&o.push(d)}return t.visit(t.MOD,h),e.modified()&&(c=!1,t.visit(t.REFLOW,h)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function YC(e){ye.call(this,[],e)}YC.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Be(YC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=OU(r,e.as||[]),a=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,o=>{const u=r.map(y=>y(o)),c=u.reduce((y,v)=>Math.max(y,v.length),0);let h=0,d,p,m;for(;h<c;++h){for(p=yC(o),d=0;d<s;++d)p[i[d]]=(m=u[d][h])==null?null:m;a&&(p[a]=h),n.add.push(p)}}),this.value=n.source=n.add,a&&n.modifies(a),n.modifies(i)}});function KC(e){ye.call(this,[],e)}KC.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Be(KC,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Un),a=e.as||["key","value"],s=a[0],o=a[1],u=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let h=0,d;h<u;++h)d=yC(c),d[s]=i[h],d[o]=r[h](c),n.add.push(d)}),this.value=n.source=n.add,n.modifies(a)}});function QC(e){ye.call(this,null,e)}QC.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Be(QC,ye,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),a=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(a,s=>s[r]=n(s,e))}});function $U(e){ye.call(this,[],e)}Be($U,ye,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,a=e.size-i.length,s,o,u;if(a>0){for(s=[];--a>=0;)s.push(u=Wt(r(e))),i.push(u);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else o=i.slice(0,-a),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(o):o,i=i.slice(-a);return n.source=this.value=i,n}});const zy={value:"value",median:oP,mean:dne,min:Ek,max:Rf},Oae=[];function ZC(e){ye.call(this,[],e)}ZC.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function Mae(e){var t=e.method||zy.value,n;if(zy[t]==null)be("Unrecognized imputation method: "+t);else return t===zy.value?(n=e.value!==void 0?e.value:0,()=>n):zy[t]}function Rae(e){const t=e.field;return n=>n?t(n):NaN}Be(ZC,ye,{transform(e,t){var n=t.fork(t.ALL),r=Mae(e),i=Rae(e),a=Un(e.field),s=Un(e.key),o=(e.groupby||[]).map(Un),u=Nae(t.source,e.groupby,e.key,e.keyvals),c=[],h=this.value,d=u.domain.length,p,m,y,v,_,E,w,A,k,D;for(_=0,A=u.length;_<A;++_)for(p=u[_],y=p.values,m=NaN,w=0;w<d;++w)if(p[w]==null){for(v=u.domain[w],D={_impute:!0},E=0,k=y.length;E<k;++E)D[o[E]]=y[E];D[s]=v,D[a]=Number.isNaN(m)?m=r(p,i):m,c.push(Wt(D))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),h.length&&(n.rem=n.materialize(n.REM).rem.concat(h)),this.value=c,n}});function Nae(e,t,n,r){var i=E=>E(_),a=[],s=r?r.slice():[],o={},u={},c,h,d,p,m,y,v,_;for(s.forEach((E,w)=>o[E]=w+1),p=0,v=e.length;p<v;++p)_=e[p],y=n(_),m=o[y]||(o[y]=s.push(y)),h=(c=t?t.map(i):Oae)+"",(d=u[h])||(d=u[h]=[],a.push(d),d.values=c),d[m-1]=_;return a.domain=s,a}function JC(e){cc.call(this,e)}JC.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:wm},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Be(JC,cc,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,a=>n.add(a))):(i=n.value=n.value||this.init(e),t.visit(t.REM,a=>n.rem(a)),t.visit(t.ADD,a=>n.add(a))),n.changes(),t.visit(t.SOURCE,a=>{vt(a,i[n.cellkey(a)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function eF(e){ye.call(this,null,e)}eF.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Be(eF,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=qC(r,e.groupby,e.field),a=(e.groupby||[]).map(Un),s=e.bandwidth,o=e.cumulative?"cdf":"pdf",u=e.as||["value","density"],c=[];let h=e.extent,d=e.steps||e.minsteps||25,p=e.steps||e.maxsteps||200;o!=="pdf"&&o!=="cdf"&&be("Invalid density method: "+o),e.resolve==="shared"&&(h||(h=Do(r,e.field)),d=p=e.steps||p),i.forEach(m=>{const y=TC(m,s)[o],v=e.counts?m.length:1,_=h||Do(m);hb(y,_,d,p).forEach(E=>{const w={};for(let A=0;A<a.length;++A)w[a[A]]=m.dims[A];w[u[0]]=E[0],w[u[1]]=E[1]*v,c.push(Wt(w))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function LU(e){hn.call(this,null,$ae,e)}Be(LU,hn);function $ae(e){return this.value&&!e.modified()?this.value:nC(e.fields,e.flat)}function IU(e){ye.call(this,[],e),this._pending=null}Be(IU,ye,{transform(e,t){const n=t.dataflow;return this._pending?OA(this,t,this._pending):Lae(e)?t.StopPropagation:e.values?OA(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=Ve(i.data),a=>a.touch(this)))}:n.request(e.url,e.format).then(r=>OA(this,t,Ve(r.data)))}});function Lae(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function OA(e,t,n){n.forEach(Wt);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function tF(e){ye.call(this,{},e)}tF.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Be(tF,ye,{transform(e,t){const n=e.fields,r=e.index,i=e.values,a=e.default==null?null:e.default,s=e.modified(),o=n.length;let u=s?t.SOURCE:t.ADD,c=t,h=e.as,d,p,m;return i?(p=i.length,o>1&&!h&&be('Multi-field lookup requires explicit "as" parameter.'),h&&h.length!==o*p&&be('The "as" parameter has too few output field names.'),h=h||i.map(Un),d=function(y){for(var v=0,_=0,E,w;v<o;++v)if(w=r.get(n[v](y)),w==null)for(E=0;E<p;++E,++_)y[h[_]]=a;else for(E=0;E<p;++E,++_)y[h[_]]=i[E](w)}):(h||be("Missing output field names."),d=function(y){for(var v=0,_;v<o;++v)_=r.get(n[v](y)),y[h[v]]=_??a}),s?c=t.reflow(!0):(m=n.some(y=>t.modified(y.fields)),u|=m?t.MOD:0),t.visit(u,d),c.modifies(h)}});function zU(e){hn.call(this,null,Iae,e)}Be(zU,hn);function Iae(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,a,s;for(a=0;a<n;++a)s=t[a],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function BU(e){hn.call(this,null,zae,e)}Be(BU,hn);function zae(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function PU(e){ye.call(this,null,e)}Be(PU,ye,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function nF(e){cc.call(this,e)}nF.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:wm,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Be(nF,cc,{_transform:cc.prototype.transform,transform(e,t){return this._transform(Bae(e,t),t)}});function Bae(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",a=li(n).concat(li(r)),s=Uae(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(o=>Pae(o,n,r,a)),as:s.map(o=>o+""),modified:e.modified.bind(e)}}function Pae(e,t,n,r){return la(i=>t(i)===e?n(i):NaN,r,e+"")}function Uae(e,t,n){const r={},i=[];return n.visit(n.SOURCE,a=>{const s=e(a);r[s]||(r[s]=1,i.push(s))}),i.sort(Xd),t?i.slice(0,t):i}function UU(e){db.call(this,e)}Be(UU,db,{transform(e,t){const n=e.subflow,r=e.field,i=a=>this.subflow(it(a),n,t,a);return(e.modified("field")||r&&t.modified(li(r)))&&be("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,a=>{const s=i(a);r(a).forEach(o=>s.mod(o))}),t.visit(t.ADD,a=>{const s=i(a);r(a).forEach(o=>s.add(Wt(o)))}),t.visit(t.REM,a=>{const s=i(a);r(a).forEach(o=>s.rem(o))})):(t.visit(t.MOD,a=>i(a).mod(a)),t.visit(t.ADD,a=>i(a).add(a)),t.visit(t.REM,a=>i(a).rem(a))),t.clean()&&t.runAfter(()=>this.clean()),t}});function rF(e){ye.call(this,null,e)}rF.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Be(rF,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=OU(e.fields,e.as||[]),a=r?(o,u)=>Hae(o,u,r,i):ab;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,o=>{const u=it(o);n.rem.push(s[u]),s[u]=null}),t.visit(t.ADD,o=>{const u=a(o,Wt({}));s[it(o)]=u,n.add.push(u)}),t.visit(t.MOD,o=>{n.mod.push(a(o,s[it(o)]))}),n}});function Hae(e,t,n,r){for(let i=0,a=n.length;i<a;++i)t[r[i]]=n[i](e);return t}function HU(e){ye.call(this,null,e)}Be(HU,ye,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function iF(e){ye.call(this,null,e)}iF.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const jae=1e-14;Be(iF,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,a=qC(i,e.groupby,e.field),s=(e.groupby||[]).map(Un),o=[],u=e.step||.01,c=e.probs||Sa(u/2,1-jae,u),h=c.length;return a.forEach(d=>{const p=bC(d,c);for(let m=0;m<h;++m){const y={};for(let v=0;v<s.length;++v)y[s[v]]=d.dims[v];y[r[0]]=c[m],y[r[1]]=p[m],o.push(Wt(y))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=o,n}});function jU(e){ye.call(this,null,e)}Be(jU,ye,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const a=it(i);n.rem.push(r[a]),r[a]=null}),t.visit(t.ADD,i=>{const a=yC(i);r[it(i)]=a,n.add.push(a)}),t.visit(t.MOD,i=>{const a=r[it(i)];for(const s in i)a[s]=i[s],n.modifies(s);n.mod.push(a)})),n}});function aF(e){ye.call(this,[],e),this.count=0}aF.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Be(aF,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,a=this.value.reduce((h,d)=>(h[it(d)]=1,h),{});let s=this.value,o=this.count,u=0;function c(h){let d,p;s.length<i?s.push(h):(p=~~((o+1)*us()),p<s.length&&p>=u&&(d=s[p],a[it(d)]&&n.rem.push(d),s[p]=h)),++o}if(t.rem.length&&(t.visit(t.REM,h=>{const d=it(h);a[d]&&(a[d]=-1,n.rem.push(h)),--o}),s=s.filter(h=>a[it(h)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(u=o=s.length,t.visit(t.SOURCE,h=>{a[it(h)]||c(h)}),u=-1),r&&s.length>i){const h=s.length-i;for(let d=0;d<h;++d)a[it(s[d])]=-1,n.rem.push(s[d]);s=s.slice(h)}return t.mod.length&&t.visit(t.MOD,h=>{a[it(h)]&&n.mod.push(h)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||u<0)&&(n.add=s.filter(h=>!a[it(h)])),this.count=o,this.value=n.source=s,n}});function sF(e){ye.call(this,null,e)}sF.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Be(sF,ye,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Sa(e.start,e.stop,e.step||1).map(i=>{const a={};return a[r]=i,Wt(a)}),n.add=t.add.concat(this.value),n}});function qU(e){ye.call(this,null,e),this.modified(!0)}Be(qU,ye,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function oF(e){ye.call(this,null,e)}const GU=["unit0","unit1"];oF.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:uC,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:GU}]};Be(oF,ye,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",a=this._floor(e,t),s=(i?Jd:Zd)(a.unit).offset,o=e.as||GU,u=o[0],c=o[1],h=a.step;let d=a.start||1/0,p=a.stop||-1/0,m=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(li(n)))&&(t=t.reflow(!0),m=t.SOURCE,d=1/0,p=-1/0),t.visit(m,y=>{const v=n(y);let _,E;v==null?(y[u]=null,r&&(y[c]=null)):(y[u]=_=E=a(v),r&&(y[c]=E=s(_,h)),_<d&&(d=_),E>p&&(p=E))}),a.start=d,a.stop=p,t.modifies(r?o:u)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:$P({extent:e.extent||Do(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),a=cC(r),s=this.value||{},o=(n?TP:AP)(a,i);return o.unit=Nt(a),o.units=a,o.step=i,o.start=s.start,o.stop=s.stop,this.value=o}});function VU(e){ye.call(this,Wd(),e)}Be(VU,ye,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,a=o=>i.set(r(o),o);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,a)):t.changed()?(t.visit(t.REM,o=>i.delete(r(o))),t.visit(t.ADD,a)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function XU(e){ye.call(this,null,e)}Be(XU,ye,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(y0(e.sort)):t.source).map(e.field))}});function qae(e,t,n,r){const i=zp[e](t,n);return{init:i.init||Hu,update:function(a,s){s[r]=i.next(a)}}}const zp={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=zp.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||be("ntile num must be greater than zero.");const n=zp.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||be("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=Gae(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function Gae(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const Vae=Object.keys(zp);function WU(e){const t=Ve(e.ops),n=Ve(e.fields),r=Ve(e.params),i=Ve(e.aggregate_params),a=Ve(e.as),s=this.outputs=[],o=this.windows=[],u={},c={},h=[],d=[];let p=!0;function m(y){Ve(li(y)).forEach(v=>u[v]=1)}m(e.sort),t.forEach((y,v)=>{const _=n[v],E=r[v],w=i[v]||null,A=Un(_),k=SU(y,A,a[v]);if(m(_),s.push(k),We(zp,y))o.push(qae(y,_,E,k));else{if(_==null&&y!=="count"&&be("Null aggregate field specified."),y==="count"){h.push(k);return}p=!1;let D=c[A];D||(D=c[A]=[],D.field=_,d.push(D)),D.push(wU(y,w,k))}}),(h.length||d.length)&&(this.cell=Xae(d,h,p)),this.inputs=Object.keys(u)}const YU=WU.prototype;YU.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};YU.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,a=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<a;++s)r[s].update(e,t)};function Xae(e,t,n){e=e.map(u=>TU(u,u.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,a=r.agg=Array(i),s=0;s<i;++s)a[s]=new e[s](r);if(r.store)var o=r.data=new zC;return r.add=function(u){if(r.num+=1,!n){o&&o.add(u);for(let c=0;c<i;++c)a[c].add(a[c].get(u),u)}},r.rem=function(u){if(r.num-=1,!n){o&&o.rem(u);for(let c=0;c<i;++c)a[c].rem(a[c].get(u),u)}},r.set=function(u){let c,h;for(o&&o.values(),c=0,h=t.length;c<h;++c)u[t[c]]=r.num;if(!n)for(c=0,h=a.length;c<h;++c)a[c].set(u)},r.init=function(){r.num=0,o&&o.reset();for(let u=0;u<i;++u)a[u].init()},r}function lF(e){ye.call(this,{},e),this._mlen=0,this._mods=[]}lF.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:Vae.concat(wm)},{name:"params",type:"number",null:!0,array:!0},{name:"aggregate_params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Be(lF,ye,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=y0(e.sort),i=Rk(e.groupby),a=o=>this.group(i(o));let s=this.state;(!s||n)&&(s=this.state=new WU(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,o=>a(o).add(o))):(t.visit(t.REM,o=>a(o).remove(o)),t.visit(t.ADD,o=>a(o).add(o)));for(let o=0,u=this._mlen;o<u;++o)Wae(this._mods[o],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=kU(it),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function Wae(e,t,n,r){const i=r.sort,a=i&&!r.ignorePeers,s=r.frame||[null,0],o=e.data(n),u=o.length,c=a?Yd(i):null,h={i0:0,i1:0,p0:0,p1:0,index:0,data:o,compare:i||gi(-1)};t.init();for(let d=0;d<u;++d)Yae(h,s,d,u),a&&Kae(h,c),t.update(h,o[d])}function Yae(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function Kae(e,t){const n=e.i0,r=e.i1-1,i=e.compare,a=e.data,s=a.length-1;n>0&&!i(a[n],a[n-1])&&(e.i0=t.left(a,a[n])),r<s&&!i(a[r],a[r+1])&&(e.i1=t.right(a,a[r]))}const Qae=Object.freeze(Object.defineProperty({__proto__:null,aggregate:cc,bin:BC,collect:PC,compare:CU,countpattern:UC,cross:HC,density:jC,dotbin:GC,expression:RU,extent:VC,facet:db,field:NU,filter:WC,flatten:YC,fold:KC,formula:QC,generate:$U,impute:ZC,joinaggregate:JC,kde:eF,key:LU,load:IU,lookup:tF,multiextent:zU,multivalues:BU,params:PU,pivot:nF,prefacet:UU,project:rF,proxy:HU,quantile:iF,relay:jU,sample:aF,sequence:sF,sieve:qU,subflow:XC,timeunit:oF,tupleindex:VU,values:XU,window:lF},Symbol.toStringTag,{value:"Module"}));function Zt(e){return function(){return e}}const w9=Math.abs,Kr=Math.atan2,lf=Math.cos,Zae=Math.max,MA=Math.min,uo=Math.sin,Cf=Math.sqrt,Jr=1e-12,dd=Math.PI,f2=dd/2,KU=2*dd;function Jae(e){return e>1?0:e<-1?dd:Math.acos(e)}function A9(e){return e>=1?f2:e<=-1?-f2:Math.asin(e)}const Nk=Math.PI,$k=2*Nk,vf=1e-6,ese=$k-vf;function QU(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function tse(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return QU;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let uF=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?QU:tse(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-t,c=i-n,h=s-t,d=o-n,p=h*h+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>vf)if(!(Math.abs(d*u-c*h)>vf)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,y=i-o,v=u*u+c*c,_=m*m+y*y,E=Math.sqrt(v),w=Math.sqrt(p),A=a*Math.tan((Nk-Math.acos((v+p-_)/(2*E*w)))/2),k=A/w,D=A/E;Math.abs(k-1)>vf&&this._append`L${t+k*h},${n+k*d}`,this._append`A${a},${a},0,0,${+(d*m>h*y)},${this._x1=t+D*u},${this._y1=n+D*c}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),c=t+o,h=n+u,d=1^s,p=s?i-a:a-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>vf||Math.abs(this._y1-h)>vf)&&this._append`L${c},${h}`,r&&(p<0&&(p=p%$k+$k),p>ese?this._append`A${r},${r},0,1,${d},${t-o},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:p>vf&&this._append`A${r},${r},0,${+(p>=Nk)},${d},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function gb(){return new uF}gb.prototype=uF.prototype;function pb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new uF(t)}function nse(e){return e.innerRadius}function rse(e){return e.outerRadius}function ise(e){return e.startAngle}function ase(e){return e.endAngle}function sse(e){return e&&e.padAngle}function ose(e,t,n,r,i,a,s,o){var u=n-e,c=r-t,h=s-i,d=o-a,p=d*u-h*c;if(!(p*p<Jr))return p=(h*(t-a)-d*(e-i))/p,[e+p*u,t+p*c]}function By(e,t,n,r,i,a,s){var o=e-n,u=t-r,c=(s?a:-a)/Cf(o*o+u*u),h=c*u,d=-c*o,p=e+h,m=t+d,y=n+h,v=r+d,_=(p+y)/2,E=(m+v)/2,w=y-p,A=v-m,k=w*w+A*A,D=i-a,O=p*v-y*m,T=(A<0?-1:1)*Cf(Zae(0,D*D*k-O*O)),F=(O*A-w*T)/k,C=(-O*w-A*T)/k,N=(O*A+w*T)/k,L=(-O*w+A*T)/k,I=F-_,Q=C-E,J=N-_,H=L-E;return I*I+Q*Q>J*J+H*H&&(F=N,C=L),{cx:F,cy:C,x01:-h,y01:-d,x11:F*(i/D-1),y11:C*(i/D-1)}}function lse(){var e=nse,t=rse,n=Zt(0),r=null,i=ise,a=ase,s=sse,o=null,u=pb(c);function c(){var h,d,p=+e.apply(this,arguments),m=+t.apply(this,arguments),y=i.apply(this,arguments)-f2,v=a.apply(this,arguments)-f2,_=w9(v-y),E=v>y;if(o||(o=h=u()),m<p&&(d=m,m=p,p=d),!(m>Jr))o.moveTo(0,0);else if(_>KU-Jr)o.moveTo(m*lf(y),m*uo(y)),o.arc(0,0,m,y,v,!E),p>Jr&&(o.moveTo(p*lf(v),p*uo(v)),o.arc(0,0,p,v,y,E));else{var w=y,A=v,k=y,D=v,O=_,T=_,F=s.apply(this,arguments)/2,C=F>Jr&&(r?+r.apply(this,arguments):Cf(p*p+m*m)),N=MA(w9(m-p)/2,+n.apply(this,arguments)),L=N,I=N,Q,J;if(C>Jr){var H=A9(C/p*uo(F)),z=A9(C/m*uo(F));(O-=H*2)>Jr?(H*=E?1:-1,k+=H,D-=H):(O=0,k=D=(y+v)/2),(T-=z*2)>Jr?(z*=E?1:-1,w+=z,A-=z):(T=0,w=A=(y+v)/2)}var X=m*lf(w),re=m*uo(w),j=p*lf(D),le=p*uo(D);if(N>Jr){var q=m*lf(A),R=m*uo(A),G=p*lf(k),K=p*uo(k),Y;if(_<dd)if(Y=ose(X,re,G,K,q,R,j,le)){var se=X-Y[0],ve=re-Y[1],_e=q-Y[0],ae=R-Y[1],ue=1/uo(Jae((se*_e+ve*ae)/(Cf(se*se+ve*ve)*Cf(_e*_e+ae*ae)))/2),ke=Cf(Y[0]*Y[0]+Y[1]*Y[1]);L=MA(N,(p-ke)/(ue-1)),I=MA(N,(m-ke)/(ue+1))}else L=I=0}T>Jr?I>Jr?(Q=By(G,K,X,re,m,I,E),J=By(q,R,j,le,m,I,E),o.moveTo(Q.cx+Q.x01,Q.cy+Q.y01),I<N?o.arc(Q.cx,Q.cy,I,Kr(Q.y01,Q.x01),Kr(J.y01,J.x01),!E):(o.arc(Q.cx,Q.cy,I,Kr(Q.y01,Q.x01),Kr(Q.y11,Q.x11),!E),o.arc(0,0,m,Kr(Q.cy+Q.y11,Q.cx+Q.x11),Kr(J.cy+J.y11,J.cx+J.x11),!E),o.arc(J.cx,J.cy,I,Kr(J.y11,J.x11),Kr(J.y01,J.x01),!E))):(o.moveTo(X,re),o.arc(0,0,m,w,A,!E)):o.moveTo(X,re),!(p>Jr)||!(O>Jr)?o.lineTo(j,le):L>Jr?(Q=By(j,le,q,R,p,-L,E),J=By(X,re,G,K,p,-L,E),o.lineTo(Q.cx+Q.x01,Q.cy+Q.y01),L<N?o.arc(Q.cx,Q.cy,L,Kr(Q.y01,Q.x01),Kr(J.y01,J.x01),!E):(o.arc(Q.cx,Q.cy,L,Kr(Q.y01,Q.x01),Kr(Q.y11,Q.x11),!E),o.arc(0,0,p,Kr(Q.cy+Q.y11,Q.cx+Q.x11),Kr(J.cy+J.y11,J.cx+J.x11),E),o.arc(J.cx,J.cy,L,Kr(J.y11,J.x11),Kr(J.y01,J.x01),!E))):o.arc(0,0,p,D,k,E)}if(o.closePath(),h)return o=null,h+""||null}return c.centroid=function(){var h=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,d=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-dd/2;return[lf(d)*h,uo(d)*h]},c.innerRadius=function(h){return arguments.length?(e=typeof h=="function"?h:Zt(+h),c):e},c.outerRadius=function(h){return arguments.length?(t=typeof h=="function"?h:Zt(+h),c):t},c.cornerRadius=function(h){return arguments.length?(n=typeof h=="function"?h:Zt(+h),c):n},c.padRadius=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Zt(+h),c):r},c.startAngle=function(h){return arguments.length?(i=typeof h=="function"?h:Zt(+h),c):i},c.endAngle=function(h){return arguments.length?(a=typeof h=="function"?h:Zt(+h),c):a},c.padAngle=function(h){return arguments.length?(s=typeof h=="function"?h:Zt(+h),c):s},c.context=function(h){return arguments.length?(o=h??null,c):o},c}function ZU(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function JU(e){this._context=e}JU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function cF(e){return new JU(e)}function eH(e){return e[0]}function tH(e){return e[1]}function nH(e,t){var n=Zt(!0),r=null,i=cF,a=null,s=pb(o);e=typeof e=="function"?e:e===void 0?eH:Zt(e),t=typeof t=="function"?t:t===void 0?tH:Zt(t);function o(u){var c,h=(u=ZU(u)).length,d,p=!1,m;for(r==null&&(a=i(m=s())),c=0;c<=h;++c)!(c<h&&n(d=u[c],c,u))===p&&((p=!p)?a.lineStart():a.lineEnd()),p&&a.point(+e(d,c,u),+t(d,c,u));if(m)return a=null,m+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Zt(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Zt(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Zt(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function rH(e,t,n){var r=null,i=Zt(!0),a=null,s=cF,o=null,u=pb(c);e=typeof e=="function"?e:e===void 0?eH:Zt(+e),t=typeof t=="function"?t:Zt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?tH:Zt(+n);function c(d){var p,m,y,v=(d=ZU(d)).length,_,E=!1,w,A=new Array(v),k=new Array(v);for(a==null&&(o=s(w=u())),p=0;p<=v;++p){if(!(p<v&&i(_=d[p],p,d))===E)if(E=!E)m=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),y=p-1;y>=m;--y)o.point(A[y],k[y]);o.lineEnd(),o.areaEnd()}E&&(A[p]=+e(_,p,d),k[p]=+t(_,p,d),o.point(r?+r(_,p,d):A[p],n?+n(_,p,d):k[p]))}if(w)return o=null,w+""||null}function h(){return nH().defined(i).curve(s).context(a)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Zt(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Zt(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Zt(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Zt(+d),c):n},c.lineX0=c.lineY0=function(){return h().x(e).y(t)},c.lineY1=function(){return h().x(e).y(n)},c.lineX1=function(){return h().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Zt(!!d),c):i},c.curve=function(d){return arguments.length?(s=d,a!=null&&(o=s(a)),c):s},c.context=function(d){return arguments.length?(d==null?a=o=null:o=s(a=d),c):a},c}const use={draw(e,t){const n=Cf(t/dd);e.moveTo(n,0),e.arc(0,0,n,0,KU)}};function cse(e,t){let n=null,r=pb(i);e=typeof e=="function"?e:Zt(e||use),t=typeof t=="function"?t:Zt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Zt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Zt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function fc(){}function h2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function mb(e){this._context=e}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:h2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:h2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fse(e){return new mb(e)}function iH(e){this._context=e}iH.prototype={areaStart:fc,areaEnd:fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:h2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hse(e){return new iH(e)}function aH(e){this._context=e}aH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:h2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dse(e){return new aH(e)}function sH(e,t){this._basis=new mb(e),this._beta=t}sH.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,s=t[n]-i,o=-1,u;++o<=n;)u=o/n,this._basis.point(this._beta*e[o]+(1-this._beta)*(r+u*a),this._beta*t[o]+(1-this._beta)*(i+u*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const gse=(function e(t){function n(r){return t===1?new mb(r):new sH(r,t)}return n.beta=function(r){return e(+r)},n})(.85);function d2(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function fF(e,t){this._context=e,this._k=(1-t)/6}fF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:d2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:d2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const pse=(function e(t){function n(r){return new fF(r,t)}return n.tension=function(r){return e(+r)},n})(0);function hF(e,t){this._context=e,this._k=(1-t)/6}hF.prototype={areaStart:fc,areaEnd:fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:d2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const mse=(function e(t){function n(r){return new hF(r,t)}return n.tension=function(r){return e(+r)},n})(0);function dF(e,t){this._context=e,this._k=(1-t)/6}dF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:d2(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const xse=(function e(t){function n(r){return new dF(r,t)}return n.tension=function(r){return e(+r)},n})(0);function gF(e,t,n){var r=e._x1,i=e._y1,a=e._x2,s=e._y2;if(e._l01_a>Jr){var o=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*o-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*o-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Jr){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,h=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/h,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/h}e._context.bezierCurveTo(r,i,a,s,e._x2,e._y2)}function oH(e,t){this._context=e,this._alpha=t}oH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:gF(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const yse=(function e(t){function n(r){return t?new oH(r,t):new fF(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function lH(e,t){this._context=e,this._alpha=t}lH.prototype={areaStart:fc,areaEnd:fc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:gF(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const vse=(function e(t){function n(r){return t?new lH(r,t):new hF(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function uH(e,t){this._context=e,this._alpha=t}uH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gF(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _se=(function e(t){function n(r){return t?new uH(r,t):new dF(r,0)}return n.alpha=function(r){return e(+r)},n})(.5);function cH(e){this._context=e}cH.prototype={areaStart:fc,areaEnd:fc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function bse(e){return new cH(e)}function T9(e){return e<0?-1:1}function k9(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(T9(a)+T9(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function C9(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function RA(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function g2(e){this._context=e}g2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:RA(this,this._t0,C9(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,RA(this,C9(this,n=k9(this,e,t)),n);break;default:RA(this,this._t0,n=k9(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function fH(e){this._context=new hH(e)}(fH.prototype=Object.create(g2.prototype)).point=function(e,t){g2.prototype.point.call(this,t,e)};function hH(e){this._context=e}hH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function Ese(e){return new g2(e)}function Sse(e){return new fH(e)}function dH(e){this._context=e}dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=F9(e),i=F9(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function F9(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function wse(e){return new dH(e)}function xb(e,t){this._context=e,this._t=t}xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Ase(e){return new xb(e,.5)}function Tse(e){return new xb(e,0)}function kse(e){return new xb(e,1)}function ic(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const Cse=()=>typeof Image<"u"?Image:null;function Uo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Tc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Lk=Symbol("implicit");function pF(){var e=new VN,t=[],n=[],r=Lk;function i(a){let s=e.get(a);if(s===void 0){if(r!==Lk)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new VN;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pF(t,n).unknown(r)},Uo.apply(i,arguments),i}function tg(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Am(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kc(){}var Vf=.7,gd=1/Vf,Yh="\\s*([+-]?\\d+)\\s*",Bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fse=/^#([0-9a-f]{3,8})$/,Dse=new RegExp(`^rgb\\(${Yh},${Yh},${Yh}\\)$`),Ose=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),Mse=new RegExp(`^rgba\\(${Yh},${Yh},${Yh},${Bp}\\)$`),Rse=new RegExp(`^rgba\\(${wo},${wo},${wo},${Bp}\\)$`),Nse=new RegExp(`^hsl\\(${Bp},${wo},${wo}\\)$`),$se=new RegExp(`^hsla\\(${Bp},${wo},${wo},${Bp}\\)$`),D9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tg(kc,Pp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:O9,formatHex:O9,formatHex8:Lse,formatHsl:Ise,formatRgb:M9,toString:M9});function O9(){return this.rgb().formatHex()}function Lse(){return this.rgb().formatHex8()}function Ise(){return gH(this).formatHsl()}function M9(){return this.rgb().formatRgb()}function Pp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Fse.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?R9(t):n===3?new br(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Py(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Py(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Dse.exec(e))?new br(t[1],t[2],t[3],1):(t=Ose.exec(e))?new br(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mse.exec(e))?Py(t[1],t[2],t[3],t[4]):(t=Rse.exec(e))?Py(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Nse.exec(e))?L9(t[1],t[2]/100,t[3]/100,1):(t=$se.exec(e))?L9(t[1],t[2]/100,t[3]/100,t[4]):D9.hasOwnProperty(e)?R9(D9[e]):e==="transparent"?new br(NaN,NaN,NaN,0):null}function R9(e){return new br(e>>16&255,e>>8&255,e&255,1)}function Py(e,t,n,r){return r<=0&&(e=t=n=NaN),new br(e,t,n,r)}function mF(e){return e instanceof kc||(e=Pp(e)),e?(e=e.rgb(),new br(e.r,e.g,e.b,e.opacity)):new br}function hc(e,t,n,r){return arguments.length===1?mF(e):new br(e,t,n,r??1)}function br(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}tg(br,hc,Am(kc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Vf:Math.pow(Vf,e),new br(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new br(Nf(this.r),Nf(this.g),Nf(this.b),p2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:N9,formatHex:N9,formatHex8:zse,formatRgb:$9,toString:$9}));function N9(){return`#${Ff(this.r)}${Ff(this.g)}${Ff(this.b)}`}function zse(){return`#${Ff(this.r)}${Ff(this.g)}${Ff(this.b)}${Ff((isNaN(this.opacity)?1:this.opacity)*255)}`}function $9(){const e=p2(this.opacity);return`${e===1?"rgb(":"rgba("}${Nf(this.r)}, ${Nf(this.g)}, ${Nf(this.b)}${e===1?")":`, ${e})`}`}function p2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Nf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ff(e){return e=Nf(e),(e<16?"0":"")+e.toString(16)}function L9(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Os(e,t,n,r)}function gH(e){if(e instanceof Os)return new Os(e.h,e.s,e.l,e.opacity);if(e instanceof kc||(e=Pp(e)),!e)return new Os;if(e instanceof Os)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,u=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new Os(s,o,u,e.opacity)}function m2(e,t,n,r){return arguments.length===1?gH(e):new Os(e,t,n,r??1)}function Os(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}tg(Os,m2,Am(kc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new Os(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vf:Math.pow(Vf,e),new Os(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new br(NA(e>=240?e-240:e+120,i,r),NA(e,i,r),NA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Os(I9(this.h),Uy(this.s),Uy(this.l),p2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=p2(this.opacity);return`${e===1?"hsl(":"hsla("}${I9(this.h)}, ${Uy(this.s)*100}%, ${Uy(this.l)*100}%${e===1?")":`, ${e})`}`}}));function I9(e){return e=(e||0)%360,e<0?e+360:e}function Uy(e){return Math.max(0,Math.min(1,e||0))}function NA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const pH=Math.PI/180,mH=180/Math.PI,x2=18,xH=.96422,yH=1,vH=.82521,_H=4/29,Kh=6/29,bH=3*Kh*Kh,Bse=Kh*Kh*Kh;function EH(e){if(e instanceof Ao)return new Ao(e.l,e.a,e.b,e.opacity);if(e instanceof Ol)return SH(e);e instanceof br||(e=mF(e));var t=zA(e.r),n=zA(e.g),r=zA(e.b),i=$A((.2225045*t+.7168786*n+.0606169*r)/yH),a,s;return t===n&&n===r?a=s=i:(a=$A((.4360747*t+.3850649*n+.1430804*r)/xH),s=$A((.0139322*t+.0971045*n+.7141733*r)/vH)),new Ao(116*i-16,500*(a-i),200*(i-s),e.opacity)}function y2(e,t,n,r){return arguments.length===1?EH(e):new Ao(e,t,n,r??1)}function Ao(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}tg(Ao,y2,Am(kc,{brighter(e){return new Ao(this.l+x2*(e??1),this.a,this.b,this.opacity)},darker(e){return new Ao(this.l-x2*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=xH*LA(t),e=yH*LA(e),n=vH*LA(n),new br(IA(3.1338561*t-1.6168667*e-.4906146*n),IA(-.9787684*t+1.9161415*e+.033454*n),IA(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function $A(e){return e>Bse?Math.pow(e,1/3):e/bH+_H}function LA(e){return e>Kh?e*e*e:bH*(e-_H)}function IA(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function zA(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Pse(e){if(e instanceof Ol)return new Ol(e.h,e.c,e.l,e.opacity);if(e instanceof Ao||(e=EH(e)),e.a===0&&e.b===0)return new Ol(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*mH;return new Ol(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function v2(e,t,n,r){return arguments.length===1?Pse(e):new Ol(e,t,n,r??1)}function Ol(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function SH(e){if(isNaN(e.h))return new Ao(e.l,0,0,e.opacity);var t=e.h*pH;return new Ao(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}tg(Ol,v2,Am(kc,{brighter(e){return new Ol(this.h,this.c,this.l+x2*(e??1),this.opacity)},darker(e){return new Ol(this.h,this.c,this.l-x2*(e??1),this.opacity)},rgb(){return SH(this).rgb()}}));var wH=-.14861,xF=1.78277,yF=-.29227,yb=-.90649,Up=1.97294,z9=Up*yb,B9=Up*xF,P9=xF*yF-yb*wH;function Use(e){if(e instanceof $f)return new $f(e.h,e.s,e.l,e.opacity);e instanceof br||(e=mF(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(P9*r+z9*t-B9*n)/(P9+z9-B9),a=r-i,s=(Up*(n-i)-yF*a)/yb,o=Math.sqrt(s*s+a*a)/(Up*i*(1-i)),u=o?Math.atan2(s,a)*mH-120:NaN;return new $f(u<0?u+360:u,o,i,e.opacity)}function Ik(e,t,n,r){return arguments.length===1?Use(e):new $f(e,t,n,r??1)}function $f(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}tg($f,Ik,Am(kc,{brighter(e){return e=e==null?gd:Math.pow(gd,e),new $f(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Vf:Math.pow(Vf,e),new $f(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*pH,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new br(255*(t+n*(wH*r+xF*i)),255*(t+n*(yF*r+yb*i)),255*(t+n*(Up*r)),this.opacity)}}));function AH(e,t,n,r,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*r+s*i)/6}function TH(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],s=r>0?e[r-1]:2*i-a,o=r<t-1?e[r+2]:2*a-i;return AH((n-r/t)*t,s,i,a,o)}}function kH(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],s=e[(r+1)%t],o=e[(r+2)%t];return AH((n-r/t)*t,i,a,s,o)}}const vb=e=>()=>e;function CH(e,t){return function(n){return e+n*t}}function Hse(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _b(e,t){var n=t-e;return n?CH(e,n>180||n<-180?n-360*Math.round(n/360):n):vb(isNaN(e)?t:e)}function jse(e){return(e=+e)==1?Er:function(t,n){return n-t?Hse(t,n,e):vb(isNaN(t)?n:t)}}function Er(e,t){var n=t-e;return n?CH(e,n):vb(isNaN(e)?t:e)}const zk=(function e(t){var n=jse(t);function r(i,a){var s=n((i=hc(i)).r,(a=hc(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),c=Er(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=u(h),i.opacity=c(h),i+""}}return r.gamma=e,r})(1);function FH(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),s,o;for(s=0;s<n;++s)o=hc(t[s]),r[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return r=e(r),i=e(i),a=e(a),o.opacity=1,function(u){return o.r=r(u),o.g=i(u),o.b=a(u),o+""}}}var qse=FH(TH),Gse=FH(kH);function vF(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function DH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Vse(e,t){return(DH(t)?vF:OH)(e,t)}function OH(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Cc(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function MH(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Fs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function RH(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Cc(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Bk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BA=new RegExp(Bk.source,"g");function Xse(e){return function(){return e}}function Wse(e){return function(t){return e(t)+""}}function NH(e,t){var n=Bk.lastIndex=BA.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(e=e+"",t=t+"";(r=Bk.exec(e))&&(i=BA.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:Fs(r,i)})),n=BA.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?Wse(u[0].x):Xse(t):(t=u.length,function(c){for(var h=0,d;h<t;++h)o[(d=u[h]).i]=d.x(c);return o.join("")})}function Cc(e,t){var n=typeof t,r;return t==null||n==="boolean"?vb(t):(n==="number"?Fs:n==="string"?(r=Pp(t))?(t=r,zk):NH:t instanceof Pp?zk:t instanceof Date?MH:DH(t)?vF:Array.isArray(t)?OH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?RH:Fs)(e,t)}function Yse(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function Kse(e,t){var n=_b(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function Tm(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var U9=180/Math.PI,Pk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $H(e,t,n,r,i,a){var s,o,u;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,u/=o),e*r<t*n&&(e=-e,t=-t,u=-u,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*U9,skewX:Math.atan(u)*U9,scaleX:s,scaleY:o}}var Hy;function Qse(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Pk:$H(t.a,t.b,t.c,t.d,t.e,t.f)}function Zse(e){return e==null||(Hy||(Hy=document.createElementNS("http://www.w3.org/2000/svg","g")),Hy.setAttribute("transform",e),!(e=Hy.transform.baseVal.consolidate()))?Pk:(e=e.matrix,$H(e.a,e.b,e.c,e.d,e.e,e.f))}function LH(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,h,d,p,m,y){if(c!==d||h!==p){var v=m.push("translate(",null,t,null,n);y.push({i:v-4,x:Fs(c,d)},{i:v-2,x:Fs(h,p)})}else(d||p)&&m.push("translate("+d+t+p+n)}function s(c,h,d,p){c!==h?(c-h>180?h+=360:h-c>180&&(c+=360),p.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Fs(c,h)})):h&&d.push(i(d)+"rotate("+h+r)}function o(c,h,d,p){c!==h?p.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Fs(c,h)}):h&&d.push(i(d)+"skewX("+h+r)}function u(c,h,d,p,m,y){if(c!==d||h!==p){var v=m.push(i(m)+"scale(",null,",",null,")");y.push({i:v-4,x:Fs(c,d)},{i:v-2,x:Fs(h,p)})}else(d!==1||p!==1)&&m.push(i(m)+"scale("+d+","+p+")")}return function(c,h){var d=[],p=[];return c=e(c),h=e(h),a(c.translateX,c.translateY,h.translateX,h.translateY,d,p),s(c.rotate,h.rotate,d,p),o(c.skewX,h.skewX,d,p),u(c.scaleX,c.scaleY,h.scaleX,h.scaleY,d,p),c=h=null,function(m){for(var y=-1,v=p.length,_;++y<v;)d[(_=p[y]).i]=_.x(m);return d.join("")}}}var Jse=LH(Qse,"px, ","px)","deg)"),eoe=LH(Zse,", ",")",")"),toe=1e-12;function H9(e){return((e=Math.exp(e))+1/e)/2}function noe(e){return((e=Math.exp(e))-1/e)/2}function roe(e){return((e=Math.exp(2*e))-1)/(e+1)}const ioe=(function e(t,n,r){function i(a,s){var o=a[0],u=a[1],c=a[2],h=s[0],d=s[1],p=s[2],m=h-o,y=d-u,v=m*m+y*y,_,E;if(v<toe)E=Math.log(p/c)/t,_=function(T){return[o+T*m,u+T*y,c*Math.exp(t*T*E)]};else{var w=Math.sqrt(v),A=(p*p-c*c+r*v)/(2*c*n*w),k=(p*p-c*c-r*v)/(2*p*n*w),D=Math.log(Math.sqrt(A*A+1)-A),O=Math.log(Math.sqrt(k*k+1)-k);E=(O-D)/t,_=function(T){var F=T*E,C=H9(D),N=c/(n*w)*(C*roe(t*F+D)-noe(D));return[o+N*m,u+N*y,c*C/H9(t*F+D)]}}return _.duration=E*1e3*t/Math.SQRT2,_}return i.rho=function(a){var s=Math.max(.001,+a),o=s*s,u=o*o;return e(s,o,u)},i})(Math.SQRT2,2,4);function IH(e){return function(t,n){var r=e((t=m2(t)).h,(n=m2(n)).h),i=Er(t.s,n.s),a=Er(t.l,n.l),s=Er(t.opacity,n.opacity);return function(o){return t.h=r(o),t.s=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const aoe=IH(_b);var soe=IH(Er);function ooe(e,t){var n=Er((e=y2(e)).l,(t=y2(t)).l),r=Er(e.a,t.a),i=Er(e.b,t.b),a=Er(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=a(s),e+""}}function zH(e){return function(t,n){var r=e((t=v2(t)).h,(n=v2(n)).h),i=Er(t.c,n.c),a=Er(t.l,n.l),s=Er(t.opacity,n.opacity);return function(o){return t.h=r(o),t.c=i(o),t.l=a(o),t.opacity=s(o),t+""}}}const loe=zH(_b);var uoe=zH(Er);function BH(e){return(function t(n){n=+n;function r(i,a){var s=e((i=Ik(i)).h,(a=Ik(a)).h),o=Er(i.s,a.s),u=Er(i.l,a.l),c=Er(i.opacity,a.opacity);return function(h){return i.h=s(h),i.s=o(h),i.l=u(Math.pow(h,n)),i.opacity=c(h),i+""}}return r.gamma=t,r})(1)}const coe=BH(_b);var foe=BH(Er);function _F(e,t){t===void 0&&(t=e,e=Cc);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function hoe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const doe=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Cc,interpolateArray:Vse,interpolateBasis:TH,interpolateBasisClosed:kH,interpolateCubehelix:coe,interpolateCubehelixLong:foe,interpolateDate:MH,interpolateDiscrete:Yse,interpolateHcl:loe,interpolateHclLong:uoe,interpolateHsl:aoe,interpolateHslLong:soe,interpolateHue:Kse,interpolateLab:ooe,interpolateNumber:Fs,interpolateNumberArray:vF,interpolateObject:RH,interpolateRgb:zk,interpolateRgbBasis:qse,interpolateRgbBasisClosed:Gse,interpolateRound:Tm,interpolateString:NH,interpolateTransformCss:Jse,interpolateTransformSvg:eoe,interpolateZoom:ioe,piecewise:_F,quantize:hoe},Symbol.toStringTag,{value:"Module"}));function goe(e){return function(){return e}}function Uk(e){return+e}var j9=[0,1];function ea(e){return e}function Hk(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:goe(isNaN(t)?NaN:.5)}function poe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function moe(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Hk(i,r),a=n(s,a)):(r=Hk(r,i),a=n(a,s)),function(o){return a(r(o))}}function xoe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Hk(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var u=lc(e,o,1,r)-1;return a[u](i[u](o))}}function km(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bb(){var e=j9,t=j9,n=Cc,r,i,a,s=ea,o,u,c;function h(){var p=Math.min(e.length,t.length);return s!==ea&&(s=poe(e[0],e[p-1])),o=p>2?xoe:moe,u=c=null,d}function d(p){return p==null||isNaN(p=+p)?a:(u||(u=o(e.map(r),t,n)))(r(s(p)))}return d.invert=function(p){return s(i((c||(c=o(t,e.map(r),Fs)))(p)))},d.domain=function(p){return arguments.length?(e=Array.from(p,Uk),h()):e.slice()},d.range=function(p){return arguments.length?(t=Array.from(p),h()):t.slice()},d.rangeRound=function(p){return t=Array.from(p),n=Tm,h()},d.clamp=function(p){return arguments.length?(s=p?!0:ea,h()):s!==ea},d.interpolate=function(p){return arguments.length?(n=p,h()):n},d.unknown=function(p){return arguments.length?(a=p,d):a},function(p,m){return r=p,i=m,h()}}function PH(){return bb()(ea,ea)}function UH(e,t,n,r){var i=uc(e,t,n),a;switch(r=Gf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=dP(i,s))&&(r.precision=a),oC(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=gP(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hP(i))&&(r.precision=a-(r.type==="%")*2);break}}return K_(r)}function _0(e){var t=e.domain;return e.ticks=function(n){var r=t();return _k(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return UH(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],u,c,h=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);h-- >0;){if(c=bk(s,o,n),c===u)return r[i]=s,r[a]=o,t(r);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;u=c}return e},e}function HH(){var e=PH();return e.copy=function(){return km(e,HH())},Uo.apply(e,arguments),_0(e)}function jH(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Uk),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return jH(e).unknown(t)},e=arguments.length?Array.from(e,Uk):[0,1],_0(n)}function qH(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function q9(e){return Math.log(e)}function G9(e){return Math.exp(e)}function yoe(e){return-Math.log(-e)}function voe(e){return-Math.exp(-e)}function _oe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function boe(e){return e===10?_oe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Eoe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V9(e){return(t,n)=>-e(-t,n)}function bF(e){const t=e(q9,G9),n=t.domain;let r=10,i,a;function s(){return i=Eoe(r),a=boe(r),n()[0]<0?(i=V9(i),a=V9(a),e(yoe,voe)):e(q9,G9),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const u=n();let c=u[0],h=u[u.length-1];const d=h<c;d&&([c,h]=[h,c]);let p=i(c),m=i(h),y,v;const _=o==null?10:+o;let E=[];if(!(r%1)&&m-p<_){if(p=Math.floor(p),m=Math.ceil(m),c>0){for(;p<=m;++p)for(y=1;y<r;++y)if(v=p<0?y/a(-p):y*a(p),!(v<c)){if(v>h)break;E.push(v)}}else for(;p<=m;++p)for(y=r-1;y>=1;--y)if(v=p>0?y/a(-p):y*a(p),!(v<c)){if(v>h)break;E.push(v)}E.length*2<_&&(E=_k(c,h,_))}else E=_k(p,m,Math.min(m-p,_)).map(a);return d?E.reverse():E},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Gf(u)).precision==null&&(u.trim=!0),u=K_(u)),o===1/0)return u;const c=Math.max(1,r*o/t.ticks().length);return h=>{let d=h/a(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=c?u(h):""}},t.nice=()=>n(qH(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function GH(){const e=bF(bb()).domain([1,10]);return e.copy=()=>km(e,GH()).base(e.base()),Uo.apply(e,arguments),e}function X9(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function W9(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function EF(e){var t=1,n=e(X9(t),W9(t));return n.constant=function(r){return arguments.length?e(X9(t=+r),W9(t)):t},_0(n)}function VH(){var e=EF(bb());return e.copy=function(){return km(e,VH()).constant(e.constant())},Uo.apply(e,arguments)}function Y9(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Soe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function woe(e){return e<0?-e*e:e*e}function SF(e){var t=e(ea,ea),n=1;function r(){return n===1?e(ea,ea):n===.5?e(Soe,woe):e(Y9(n),Y9(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},_0(t)}function wF(){var e=SF(bb());return e.copy=function(){return km(e,wF()).exponent(e.exponent())},Uo.apply(e,arguments),e}function Aoe(){return wF.apply(null,arguments).exponent(.5)}function XH(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=sP(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[lc(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort($l),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return XH().domain(e).range(t).unknown(r)},Uo.apply(a,arguments)}function WH(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[lc(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return s}return s.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var c=i.indexOf(u);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return WH().domain([e,t]).range(i).unknown(a)},Uo.apply(_0(s),arguments)}function YH(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[lc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return YH().domain(e).range(t).unknown(n)},Uo.apply(i,arguments)}function Toe(e){return new Date(e)}function koe(e){return e instanceof Date?+e:+new Date(+e)}function AF(e,t,n,r,i,a,s,o,u,c){var h=PH(),d=h.invert,p=h.domain,m=c(".%L"),y=c(":%S"),v=c("%I:%M"),_=c("%I %p"),E=c("%a %d"),w=c("%b %d"),A=c("%B"),k=c("%Y");function D(O){return(u(O)<O?m:o(O)<O?y:s(O)<O?v:a(O)<O?_:r(O)<O?i(O)<O?E:w:n(O)<O?A:k)(O)}return h.invert=function(O){return new Date(d(O))},h.domain=function(O){return arguments.length?p(Array.from(O,koe)):p().map(Toe)},h.ticks=function(O){var T=p();return e(T[0],T[T.length-1],O??10)},h.tickFormat=function(O,T){return T==null?D:c(T)},h.nice=function(O){var T=p();return(!O||typeof O.range!="function")&&(O=t(T[0],T[T.length-1],O??10)),O?p(qH(T,O)):h},h.copy=function(){return km(h,AF(e,t,n,r,i,a,s,o,u,c))},h}function Coe(){return Uo.apply(AF($ne,Lne,Oo,Np,Kd,Ll,J_,Q_,Dl,hC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Foe(){return Uo.apply(AF(Rne,Nne,Mo,$p,Qd,nc,eb,Z_,Dl,dC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Eb(){var e=0,t=1,n,r,i,a,s=ea,o=!1,u;function c(d){return d==null||isNaN(d=+d)?u:s(i===0?.5:(d=(a(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([e,t]=d,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(s=d,c):s};function h(d){return function(p){var m,y;return arguments.length?([m,y]=p,s=d(m,y),c):[s(0),s(1)]}}return c.range=h(Cc),c.rangeRound=h(Tm),c.unknown=function(d){return arguments.length?(u=d,c):u},function(d){return a=d,n=d(e),r=d(t),i=n===r?0:1/(r-n),c}}function Fc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function TF(){var e=_0(Eb()(ea));return e.copy=function(){return Fc(e,TF())},Tc.apply(e,arguments)}function KH(){var e=bF(Eb()).domain([1,10]);return e.copy=function(){return Fc(e,KH()).base(e.base())},Tc.apply(e,arguments)}function QH(){var e=EF(Eb());return e.copy=function(){return Fc(e,QH()).constant(e.constant())},Tc.apply(e,arguments)}function kF(){var e=SF(Eb());return e.copy=function(){return Fc(e,kF()).exponent(e.exponent())},Tc.apply(e,arguments)}function Doe(){return kF.apply(null,arguments).exponent(.5)}function Sb(){var e=0,t=.5,n=1,r=1,i,a,s,o,u,c=ea,h,d=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+h(v))-a)*(r*v<r*a?o:u),c(d?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=h(e=+e),a=h(t=+t),s=h(n=+n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(d=!!v,m):d},m.interpolator=function(v){return arguments.length?(c=v,m):c};function y(v){return function(_){var E,w,A;return arguments.length?([E,w,A]=_,c=_F(v,[E,w,A]),m):[c(0),c(.5),c(1)]}}return m.range=y(Cc),m.rangeRound=y(Tm),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return h=v,i=v(e),a=v(t),s=v(n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function ZH(){var e=_0(Sb()(ea));return e.copy=function(){return Fc(e,ZH())},Tc.apply(e,arguments)}function JH(){var e=bF(Sb()).domain([.1,1,10]);return e.copy=function(){return Fc(e,JH()).base(e.base())},Tc.apply(e,arguments)}function ej(){var e=EF(Sb());return e.copy=function(){return Fc(e,ej()).constant(e.constant())},Tc.apply(e,arguments)}function CF(){var e=SF(Sb());return e.copy=function(){return Fc(e,CF()).exponent(e.exponent())},Tc.apply(e,arguments)}function Ooe(){return CF.apply(null,arguments).exponent(.5)}function Ho(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Moe=Ho("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Roe=Ho("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Noe=Ho("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),$oe=Ho("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Loe=Ho("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ioe=Ho("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zoe=Ho("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Boe=Ho("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Poe=Ho("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Uoe=Ho("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f");function FF(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const Hoe="identity",pd="linear",Vl="log",Cm="pow",Fm="sqrt",wb="symlog",Xf="time",Wf="utc",To="sequential",ng="diverging",md="quantile",Ab="quantize",Tb="threshold",DF="ordinal",jk="point",tj="band",OF="bin-ordinal",mr="continuous",Dm="discrete",Om="discretizing",gs="interpolating",MF="temporal";function joe(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function qoe(e){return function(t){const n=e.range();let r=t[0],i=t[1],a=-1,s,o,u,c;for(i<r&&(o=r,r=i,i=o),u=0,c=n.length;u<c;++u)n[u]>=r&&n[u]<=i&&(a<0&&(a=u),s=u);if(!(a<0))return r=e.invertExtent(n[a]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function RF(){const e=pF().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,a,s=!1,o=0,u=0,c=.5;delete e.unknown;function h(){const d=t().length,p=r[1]<r[0],m=r[1-p],y=FF(d,o,u);let v=r[p-0];i=(m-v)/(y||1),s&&(i=Math.floor(i)),v+=(m-v-i*(d-o))*c,a=i*(1-o),s&&(v=Math.round(v),a=Math.round(a));const _=Sa(d).map(E=>v+i*E);return n(p?_.reverse():_)}return e.domain=function(d){return arguments.length?(t(d),h()):t()},e.range=function(d){return arguments.length?(r=[+d[0],+d[1]],h()):r.slice()},e.rangeRound=function(d){return r=[+d[0],+d[1]],s=!0,h()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,h()):s},e.padding=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),o=u,h()):o},e.paddingInner=function(d){return arguments.length?(o=Math.max(0,Math.min(1,d)),h()):o},e.paddingOuter=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),h()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),h()):c},e.invertRange=function(d){if(d[0]==null||d[1]==null)return;const p=r[1]<r[0],m=p?n().reverse():n(),y=m.length-1;let v=+d[0],_=+d[1],E,w,A;if(!(v!==v||_!==_)&&(_<v&&(A=v,v=_,_=A),!(_<m[0]||v>r[1-p])))return E=Math.max(0,lc(m,v)-1),w=v===_?E:lc(m,_)-1,v-m[E]>a+1e-10&&++E,p&&(A=E,E=y-w,w=y-A),E>w?void 0:t().slice(E,w+1)},e.invert=function(d){const p=e.invertRange([d,d]);return p&&p[0]},e.copy=function(){return RF().domain(t()).range(r).round(s).paddingInner(o).paddingOuter(u).align(c)},h()}function nj(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return nj(t())},e}function Goe(){return nj(RF().paddingInner(1))}var Voe=Array.prototype.map;function Xoe(e){return Voe.call(e,ai)}const Woe=Array.prototype.slice;function rj(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(lc(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=Xoe(r),n):e.slice()},n.range=function(r){return arguments.length?(t=Woe.call(r),n):t.slice()},n.tickFormat=function(r,i){return UH(e[0],Nt(e),r??10,i)},n.copy=function(){return rj().domain(n.domain()).range(n.range())},n}const _2=new Map,ij=Symbol("vega_scale");function aj(e){return e[ij]=!0,e}function K9(e){return e&&e[ij]===!0}function Yoe(e,t,n){const r=function(){const a=t();return a.invertRange||(a.invertRange=a.invert?joe(a):a.invertExtent?qoe(a):void 0),a.type=e,aj(a)};return r.metadata=js(Ve(n)),r}function Gt(e,t,n){return arguments.length>1?(_2.set(e,Yoe(e,t,n)),this):sj(e)?_2.get(e):void 0}Gt(Hoe,jH);Gt(pd,HH,mr);Gt(Vl,GH,[mr,Vl]);Gt(Cm,wF,mr);Gt(Fm,Aoe,mr);Gt(wb,VH,mr);Gt(Xf,Coe,[mr,MF]);Gt(Wf,Foe,[mr,MF]);Gt(To,TF,[mr,gs]);Gt(`${To}-${pd}`,TF,[mr,gs]);Gt(`${To}-${Vl}`,KH,[mr,gs,Vl]);Gt(`${To}-${Cm}`,kF,[mr,gs]);Gt(`${To}-${Fm}`,Doe,[mr,gs]);Gt(`${To}-${wb}`,QH,[mr,gs]);Gt(`${ng}-${pd}`,ZH,[mr,gs]);Gt(`${ng}-${Vl}`,JH,[mr,gs,Vl]);Gt(`${ng}-${Cm}`,CF,[mr,gs]);Gt(`${ng}-${Fm}`,Ooe,[mr,gs]);Gt(`${ng}-${wb}`,ej,[mr,gs]);Gt(md,XH,[Om,md]);Gt(Ab,WH,Om);Gt(Tb,YH,Om);Gt(OF,rj,[Dm,Om]);Gt(DF,pF,Dm);Gt(tj,RF,Dm);Gt(jk,Goe,Dm);function sj(e){return _2.has(e)}function b0(e,t){const n=_2.get(e);return n&&n.metadata[t]}function NF(e){return b0(e,mr)}function xd(e){return b0(e,Dm)}function qk(e){return b0(e,Om)}function oj(e){return b0(e,Vl)}function Koe(e){return b0(e,MF)}function lj(e){return b0(e,gs)}function uj(e){return b0(e,md)}const Qoe=["clamp","base","constant","exponent"];function cj(e,t){const n=t[0],r=Nt(t)-n;return function(i){return e(n+i*r)}}function kb(e,t,n){return _F($F(t||"rgb",n),e)}function fj(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function hj(e,t,n){const r=n-t;let i,a,s;return!r||!Number.isFinite(r)?gi(.5):(i=(a=e.type).indexOf("-"),a=i<0?a:a.slice(i+1),s=Gt(a)().domain([t,n]).range([0,1]),Qoe.forEach(o=>e[o]?s[o](e[o]()):0),s)}function $F(e,t){const n=doe[Zoe(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function Zoe(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const Joe={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},ele={accent:Roe,category10:Moe,category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",dark2:Noe,observable10:$oe,paired:Loe,pastel1:Ioe,pastel2:zoe,set1:Boe,set2:Poe,set3:Uoe,tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5"};function dj(e){if(Ae(e))return e;const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function gj(e,t){for(const n in e)LF(n,t(e[n]))}const Q9={};gj(ele,dj);gj(Joe,e=>kb(dj(e)));function LF(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(Q9[e]=t,this):Q9[e]}const Mv="symbol",tle="discrete",nle="gradient",rle=e=>Ae(e)?e.map(t=>String(t)):String(e),ile=(e,t)=>e[1]-t[1],ale=(e,t)=>t[1]-e[1];function IF(e,t,n){let r;return jt(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(bm(e.domain())/n||1)+1))),qe(t)&&(r=t.step,t=t.interval),Ge(t)&&(t=e.type===Xf?Zd(t):e.type==Wf?Jd(t):be("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function pj(e,t,n){let r=e.range(),i=r[0],a=Nt(r),s=ile;if(i>a&&(r=a,a=i,i=r,s=ale),i=Math.floor(i),a=Math.ceil(a),t=t.map(o=>[o,e(o)]).filter(o=>i<=o[1]&&o[1]<=a).sort(s).map(o=>o[0]),n>0&&t.length>1){const o=[t[0],Nt(t)];for(;t.length>n&&t.length>=3;)t=t.filter((u,c)=>!(c%2));t.length<3&&(t=o)}return t}function zF(e,t){return e.bins?pj(e,e.bins,t):e.ticks?e.ticks(t):e.domain()}function mj(e,t,n,r,i,a){const s=t.type;let o=rle;if(s===Xf||i===Xf)o=e.timeFormat(r);else if(s===Wf||i===Wf)o=e.utcFormat(r);else if(oj(s)){const u=e.formatFloat(r);if(a||t.bins)o=u;else{const c=xj(t,n,!1);o=h=>c(h)?u(h):""}}else if(t.tickFormat){const u=t.domain();o=e.formatSpan(u[0],u[u.length-1],n,r)}else r&&(o=e.format(r));return o}function xj(e,t,n){const r=zF(e,t),i=e.base(),a=Math.log(i),s=Math.max(1,i*t/r.length),o=u=>{let c=u/Math.pow(i,Math.round(Math.log(u)/a));return c*i<i-.5&&(c*=i),c<=s};return n?r.filter(o):o}const Gk={[md]:"quantiles",[Ab]:"thresholds",[Tb]:"domain"},yj={[md]:"quantiles",[Ab]:"domain"};function vj(e,t){return e.bins?lle(e.bins):e.type===Vl?xj(e,t,!0):Gk[e.type]?ole(e[Gk[e.type]]()):zF(e,t)}function sle(e,t,n){const r=t[yj[t.type]](),i=r.length;let a=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)a=Math.min(a,r[s]-r[s-1]);return e.formatSpan(0,a,30,n)}function ole(e){const t=[-1/0].concat(e);return t.max=1/0,t}function lle(e){const t=e.slice(0,-1);return t.max=Nt(e),t}const ule=e=>Gk[e.type]||e.bins;function _j(e,t,n,r,i,a,s){const o=yj[t.type]&&a!==Xf&&a!==Wf?sle(e,t,i):mj(e,t,n,i,a,s);return r===Mv&&ule(t)?cle(o):r===tle?fle(o):hle(o)}const cle=e=>(t,n,r)=>{const i=Z9(r[n+1],Z9(r.max,1/0)),a=J9(t,e),s=J9(i,e);return a&&s?a+"  "+s:s?"< "+s:" "+a},Z9=(e,t)=>e??t,fle=e=>(t,n)=>n?e(t):null,hle=e=>t=>e(t),J9=(e,t)=>Number.isFinite(e)?t(e):null;function dle(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+Nt(t),a=i-r;if(e.type===Tb){const s=n?a/n:.1;r-=s,i+=s,a=i-r}return s=>(s-r)/a}function gle(e,t,n,r){const i=r||t.type;return Ge(n)&&Koe(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===Xf?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===Wf?e.utcFormat("%A, %d %B %Y, %X UTC"):_j(e,t,5,null,n,r,!0)}function bj(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=gle(e,t,n.format,n.formatType);if(qk(t.type)){const a=vj(t).slice(1).map(i),s=a.length;return`${s} boundar${s===1?"y":"ies"}: ${a.join(", ")}`}else if(xd(t.type)){const a=t.domain(),s=a.length,o=s>r?a.slice(0,r-2).map(i).join(", ")+", ending with "+a.slice(-1).map(i):a.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${o}`}else{const a=t.domain();return`values from ${i(a[0])} to ${i(Nt(a))}`}}let Ej=0;function ple(){Ej=0}const b2="p_";function BF(e){return e&&e.gradient}function Sj(e,t,n){const r=e.gradient;let i=e.id,a=r==="radial"?b2:"";return i||(i=e.id="gradient_"+Ej++,r==="radial"?(e.x1=co(e.x1,.5),e.y1=co(e.y1,.5),e.r1=co(e.r1,0),e.x2=co(e.x2,.5),e.y2=co(e.y2,.5),e.r2=co(e.r2,.5),a=b2):(e.x1=co(e.x1,0),e.y1=co(e.y1,0),e.x2=co(e.x2,1),e.y2=co(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+a+i+")"}function co(e,t){return e??t}function wj(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,a){return n.push({offset:i,color:a}),r}}}const e7={basis:{curve:fse},"basis-closed":{curve:hse},"basis-open":{curve:dse},bundle:{curve:gse,tension:"beta",value:.85},cardinal:{curve:pse,tension:"tension",value:0},"cardinal-open":{curve:xse,tension:"tension",value:0},"cardinal-closed":{curve:mse,tension:"tension",value:0},"catmull-rom":{curve:yse,tension:"alpha",value:.5},"catmull-rom-closed":{curve:vse,tension:"alpha",value:.5},"catmull-rom-open":{curve:_se,tension:"alpha",value:.5},linear:{curve:cF},"linear-closed":{curve:bse},monotone:{horizontal:Sse,vertical:Ese},natural:{curve:wse},step:{curve:Ase},"step-after":{curve:kse},"step-before":{curve:Tse}};function PF(e,t,n){var r=We(e7,e)&&e7[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const mle={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},xle=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,yle=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,vle=/^((\s+,?\s*)|(,\s*))/,_le=/^[01]/;function yd(e){const t=[];return(e.match(xle)||[]).forEach(r=>{let i=r[0];const a=i.toLowerCase(),s=mle[a],o=ble(a,s,r.slice(1).trim()),u=o.length;if(u<s||u&&u%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...o.slice(0,s)]),u!==s){a==="m"&&(i=i==="M"?"L":"l");for(let c=s;c<u;c+=s)t.push([i,...o.slice(c,c+s)])}}),t}function ble(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let a=0;a<t;++a){const s=e==="a"&&(a===3||a===4)?_le:yle,o=n.slice(i).match(s);if(o===null)throw Error("Invalid SVG path, incorrect parameter type");i+=o[0].length,r.push(+o[0]);const u=n.slice(i).match(vle);u!==null&&(i+=u[0].length)}return r}const dc=Math.PI/180,Ele=1e-14,Sf=Math.PI/2,vo=Math.PI*2,Ah=Math.sqrt(3)/2;var PA={},UA={},Aj=[].join;function Sle(e,t,n,r,i,a,s,o,u){const c=Aj.call(arguments);if(PA[c])return PA[c];const h=s*dc,d=Math.sin(h),p=Math.cos(h);n=Math.abs(n),r=Math.abs(r);const m=p*(o-e)*.5+d*(u-t)*.5,y=p*(u-t)*.5-d*(o-e)*.5;let v=m*m/(n*n)+y*y/(r*r);v>1&&(v=Math.sqrt(v),n*=v,r*=v);const _=p/n,E=d/n,w=-d/r,A=p/r,k=_*o+E*u,D=w*o+A*u,O=_*e+E*t,T=w*e+A*t;let C=1/((O-k)*(O-k)+(T-D)*(T-D))-.25;C<0&&(C=0);let N=Math.sqrt(C);a==i&&(N=-N);const L=.5*(k+O)-N*(T-D),I=.5*(D+T)+N*(O-k),Q=Math.atan2(D-I,k-L);let H=Math.atan2(T-I,O-L)-Q;H<0&&a===1?H+=vo:H>0&&a===0&&(H-=vo);const z=Math.ceil(Math.abs(H/(Sf+.001))),X=[];for(let re=0;re<z;++re){const j=Q+re*H/z,le=Q+(re+1)*H/z;X[re]=[L,I,j,le,n,r,d,p]}return PA[c]=X}function wle(e){const t=Aj.call(e);if(UA[t])return UA[t];var n=e[0],r=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],c=e[7];const h=c*s,d=-u*o,p=u*s,m=c*o,y=Math.cos(i),v=Math.sin(i),_=Math.cos(a),E=Math.sin(a),w=.5*(a-i),A=Math.sin(w*.5),k=8/3*A*A/Math.sin(w),D=n+y-k*v,O=r+v+k*y,T=n+_,F=r+E,C=T+k*E,N=F-k*_;return UA[t]=[h*D+d*O,p*D+m*O,h*C+d*N,p*C+m*N,h*T+d*F,p*T+m*F]}const Xa=["l",0,0,0,0,0,0,0];function Ale(e,t,n){const r=Xa[0]=e[0];if(r==="a"||r==="A")Xa[1]=t*e[1],Xa[2]=n*e[2],Xa[3]=e[3],Xa[4]=e[4],Xa[5]=e[5],Xa[6]=t*e[6],Xa[7]=n*e[7];else if(r==="h"||r==="H")Xa[1]=t*e[1];else if(r==="v"||r==="V")Xa[1]=n*e[1];else for(var i=1,a=e.length;i<a;++i)Xa[i]=(i%2==1?t:n)*e[i];return Xa}function Hp(e,t,n,r,i,a){var s,o=null,u=0,c=0,h=0,d=0,p,m,y,v,_=0,E=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),a==null&&(a=i),e.beginPath&&e.beginPath();for(var w=0,A=t.length;w<A;++w){switch(s=t[w],(i!==1||a!==1)&&(s=Ale(s,i,a)),s[0]){case"l":u+=s[1],c+=s[2],e.lineTo(u+n,c+r);break;case"L":u=s[1],c=s[2],e.lineTo(u+n,c+r);break;case"h":u+=s[1],e.lineTo(u+n,c+r);break;case"H":u=s[1],e.lineTo(u+n,c+r);break;case"v":c+=s[1],e.lineTo(u+n,c+r);break;case"V":c=s[1],e.lineTo(u+n,c+r);break;case"m":u+=s[1],c+=s[2],_=u,E=c,e.moveTo(u+n,c+r);break;case"M":u=s[1],c=s[2],_=u,E=c,e.moveTo(u+n,c+r);break;case"c":p=u+s[5],m=c+s[6],h=u+s[3],d=c+s[4],e.bezierCurveTo(u+s[1]+n,c+s[2]+r,h+n,d+r,p+n,m+r),u=p,c=m;break;case"C":u=s[5],c=s[6],h=s[3],d=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,h+n,d+r,u+n,c+r);break;case"s":p=u+s[3],m=c+s[4],h=2*u-h,d=2*c-d,e.bezierCurveTo(h+n,d+r,u+s[1]+n,c+s[2]+r,p+n,m+r),h=u+s[1],d=c+s[2],u=p,c=m;break;case"S":p=s[3],m=s[4],h=2*u-h,d=2*c-d,e.bezierCurveTo(h+n,d+r,s[1]+n,s[2]+r,p+n,m+r),u=p,c=m,h=s[1],d=s[2];break;case"q":p=u+s[3],m=c+s[4],h=u+s[1],d=c+s[2],e.quadraticCurveTo(h+n,d+r,p+n,m+r),u=p,c=m;break;case"Q":p=s[3],m=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,p+n,m+r),u=p,c=m,h=s[1],d=s[2];break;case"t":p=u+s[1],m=c+s[2],o[0].match(/[QqTt]/)===null?(h=u,d=c):o[0]==="t"?(h=2*u-y,d=2*c-v):o[0]==="q"&&(h=2*u-h,d=2*c-d),y=h,v=d,e.quadraticCurveTo(h+n,d+r,p+n,m+r),u=p,c=m,h=u+s[1],d=c+s[2];break;case"T":p=s[1],m=s[2],h=2*u-h,d=2*c-d,e.quadraticCurveTo(h+n,d+r,p+n,m+r),u=p,c=m;break;case"a":t7(e,u+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+u+n,s[7]+c+r]),u+=s[6],c+=s[7];break;case"A":t7(e,u+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),u=s[6],c=s[7];break;case"z":case"Z":u=_,c=E,e.closePath();break}o=s}}function t7(e,t,n,r){const i=Sle(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let a=0;a<i.length;++a){const s=wle(i[a]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const n7=.5773502691896257,r7={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,vo)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,a=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-a),e.lineTo(i,-a),e.lineTo(0,-n),e.lineTo(-i,-a),e.lineTo(-r,-a),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ah*n,i=r-n*n7,a=n/4;e.moveTo(0,-r-i),e.lineTo(-a,r-i),e.lineTo(a,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ah*n,i=r-n*n7;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ah*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ah*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ah*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=Ah*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function Tj(e){return We(r7,e)?r7[e]:Tle(e)}var HA={};function Tle(e){if(!We(HA,e)){const t=yd(e);HA[e]={draw:function(n,r){Hp(n,t,0,0,Math.sqrt(r)/2)}}}return HA[e]}const Mu=.448084975506;function kle(e){return e.x}function Cle(e){return e.y}function Fle(e){return e.width}function Dle(e){return e.height}function vl(e){return typeof e=="function"?e:()=>+e}function jy(e,t,n){return Math.max(t,Math.min(e,n))}function kj(){var e=kle,t=Cle,n=Fle,r=Dle,i=vl(0),a=i,s=i,o=i,u=null;function c(h,d,p){var m,y=d??+e.call(this,h),v=p??+t.call(this,h),_=+n.call(this,h),E=+r.call(this,h),w=Math.min(_,E)/2,A=jy(+i.call(this,h),0,w),k=jy(+a.call(this,h),0,w),D=jy(+s.call(this,h),0,w),O=jy(+o.call(this,h),0,w);if(u||(u=m=gb()),A<=0&&k<=0&&D<=0&&O<=0)u.rect(y,v,_,E);else{var T=y+_,F=v+E;u.moveTo(y+A,v),u.lineTo(T-k,v),u.bezierCurveTo(T-Mu*k,v,T,v+Mu*k,T,v+k),u.lineTo(T,F-O),u.bezierCurveTo(T,F-Mu*O,T-Mu*O,F,T-O,F),u.lineTo(y+D,F),u.bezierCurveTo(y+Mu*D,F,y,F-Mu*D,y,F-D),u.lineTo(y,v+A),u.bezierCurveTo(y,v+Mu*A,y+Mu*A,v,y+A,v),u.closePath()}if(m)return u=null,m+""||null}return c.x=function(h){return arguments.length?(e=vl(h),c):e},c.y=function(h){return arguments.length?(t=vl(h),c):t},c.width=function(h){return arguments.length?(n=vl(h),c):n},c.height=function(h){return arguments.length?(r=vl(h),c):r},c.cornerRadius=function(h,d,p,m){return arguments.length?(i=vl(h),a=d!=null?vl(d):i,o=p!=null?vl(p):i,s=m!=null?vl(m):a,c):i},c.context=function(h){return arguments.length?(u=h??null,c):u},c}function Cj(){var e,t,n,r,i=null,a,s,o,u;function c(d,p,m){const y=m/2;if(a){var v=o-p,_=d-s;if(v||_){var E=Math.hypot(v,_),w=(v/=E)*u,A=(_/=E)*u,k=Math.atan2(_,v);i.moveTo(s-w,o-A),i.lineTo(d-v*y,p-_*y),i.arc(d,p,y,k-Math.PI,k),i.lineTo(s+w,o+A),i.arc(s,o,u,k,k+Math.PI)}else i.arc(d,p,y,0,vo);i.closePath()}else a=1;s=d,o=p,u=y}function h(d){var p,m=d.length,y,v=!1,_;for(i==null&&(i=_=gb()),p=0;p<=m;++p)!(p<m&&r(y=d[p],p,d))===v&&(v=!v)&&(a=0),v&&c(+e(y,p,d),+t(y,p,d),+n(y,p,d));if(_)return i=null,_+""||null}return h.x=function(d){return arguments.length?(e=d,h):e},h.y=function(d){return arguments.length?(t=d,h):t},h.size=function(d){return arguments.length?(n=d,h):n},h.defined=function(d){return arguments.length?(r=d,h):r},h.context=function(d){return arguments.length?(d==null?i=null:i=d,h):i},h}function Mm(e,t){return e??t}const Rm=e=>e.x||0,Nm=e=>e.y||0,Ole=e=>e.width||0,Mle=e=>e.height||0,Rle=e=>(e.x||0)+(e.width||0),Nle=e=>(e.y||0)+(e.height||0),$le=e=>e.startAngle||0,Lle=e=>e.endAngle||0,Ile=e=>e.padAngle||0,zle=e=>e.innerRadius||0,Ble=e=>e.outerRadius||0,Ple=e=>e.cornerRadius||0,Ule=e=>Mm(e.cornerRadiusTopLeft,e.cornerRadius)||0,Hle=e=>Mm(e.cornerRadiusTopRight,e.cornerRadius)||0,jle=e=>Mm(e.cornerRadiusBottomRight,e.cornerRadius)||0,qle=e=>Mm(e.cornerRadiusBottomLeft,e.cornerRadius)||0,Gle=e=>Mm(e.size,64),Vle=e=>e.size||1,Cb=e=>e.defined!==!1,Xle=e=>Tj(e.shape||"circle"),Wle=lse().startAngle($le).endAngle(Lle).padAngle(Ile).innerRadius(zle).outerRadius(Ble).cornerRadius(Ple),Yle=rH().x(Rm).y1(Nm).y0(Nle).defined(Cb),Kle=rH().y(Nm).x1(Rm).x0(Rle).defined(Cb),Qle=nH().x(Rm).y(Nm).defined(Cb),Zle=kj().x(Rm).y(Nm).width(Ole).height(Mle).cornerRadius(Ule,Hle,jle,qle),Jle=cse().type(Xle).size(Gle),eue=Cj().x(Rm).y(Nm).defined(Cb).size(Vle);function UF(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function tue(e,t){return Wle.context(e)(t)}function nue(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?Kle:Yle).curve(PF(r,n.orient,n.tension)).context(e)(t)}function rue(e,t){const n=t[0],r=n.interpolate||"linear";return Qle.curve(PF(r,n.orient,n.tension)).context(e)(t)}function rg(e,t,n,r){return Zle.context(e)(t,n,r)}function iue(e,t){return(t.mark.shape||t.shape).context(e)(t)}function aue(e,t){return Jle.context(e)(t)}function sue(e,t){return eue.context(e)(t)}var Fj=1;function oue(){Fj=1}function HF(e,t,n){var r=t.clip,i=e._defs,a=t.clip_id||(t.clip_id="clip"+Fj++),s=i.clipping[a]||(i.clipping[a]={id:a});return _t(r)?s.path=r(null):UF(n)?s.path=rg(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+a+")"}function ar(e){this.clear(),e&&this.union(e)}ar.prototype={clone(){return new ar(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:a,y2:s}=this,o=Math.cos(e),u=Math.sin(e),c=t-t*o+n*u,h=n-t*u-n*o;return[o*r-u*i+c,u*r+o*i+h,o*r-u*s+c,u*r+o*s+h,o*a-u*i+c,u*a+o*i+h,o*a-u*s+c,u*a+o*s+h]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function Fb(e){this.mark=e,this.bounds=this.bounds||new ar}function Db(e){Fb.call(this,e),this.items=this.items||[]}Be(Db,Fb);class Dj{constructor(t){this._pending=0,this._loader=t||nb()}pending(){return this._pending}sanitizeURL(t){const n=this;return i7(n),n._loader.sanitize(t,{context:"href"}).then(r=>(E1(n),r)).catch(()=>(E1(n),null))}loadImage(t){const n=this,r=Cse();return i7(n),n._loader.sanitize(t,{context:"image"}).then(i=>{const a=i.href;if(!a||!r)throw{url:a};const s=new r,o=We(i,"crossOrigin")?i.crossOrigin:"anonymous";return o!=null&&(s.crossOrigin=o),s.onload=()=>E1(n),s.onerror=()=>E1(n),s.src=a,s}).catch(i=>(E1(n),{complete:!1,width:0,height:0,src:i&&i.url||""}))}ready(){const t=this;return new Promise(n=>{function r(i){t.pending()?setTimeout(()=>{r(!0)},10):n(i)}r(!1)})}}function i7(e){e._pending+=1}function E1(e){e._pending-=1}function Zl(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?lue(t,r):0))}return e}function lue(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const uue=vo-1e-8;let Ob,Rv,Nv,Df,Vk,$v,Xk,Wk;const qu=(e,t)=>Ob.add(e,t),Lv=(e,t)=>qu(Rv=e,Nv=t),a7=e=>qu(e,Ob.y1),s7=e=>qu(Ob.x1,e),wf=(e,t)=>Vk*e+Xk*t,Af=(e,t)=>$v*e+Wk*t,jA=(e,t)=>qu(wf(e,t),Af(e,t)),qA=(e,t)=>Lv(wf(e,t),Af(e,t));function $m(e,t){return Ob=e,t?(Df=t*dc,Vk=Wk=Math.cos(Df),$v=Math.sin(Df),Xk=-$v):(Vk=Wk=1,Df=$v=Xk=0),cue}const cue={beginPath(){},closePath(){},moveTo:qA,lineTo:qA,rect(e,t,n,r){Df?(jA(e+n,t),jA(e+n,t+r),jA(e,t+r),qA(e,t)):(qu(e+n,t+r),Lv(e,t))},quadraticCurveTo(e,t,n,r){const i=wf(e,t),a=Af(e,t),s=wf(n,r),o=Af(n,r);o7(Rv,i,s,a7),o7(Nv,a,o,s7),Lv(s,o)},bezierCurveTo(e,t,n,r,i,a){const s=wf(e,t),o=Af(e,t),u=wf(n,r),c=Af(n,r),h=wf(i,a),d=Af(i,a);l7(Rv,s,u,h,a7),l7(Nv,o,c,d,s7),Lv(h,d)},arc(e,t,n,r,i,a){if(r+=Df,i+=Df,Rv=n*Math.cos(i)+e,Nv=n*Math.sin(i)+t,Math.abs(i-r)>uue)qu(e-n,t-n),qu(e+n,t+n);else{const s=c=>qu(n*Math.cos(c)+e,n*Math.sin(c)+t);let o,u;if(s(r),s(i),i!==r)if(r=r%vo,r<0&&(r+=vo),i=i%vo,i<0&&(i+=vo),i<r&&(a=!a,o=r,r=i,i=o),a)for(i-=vo,o=r-r%Sf,u=0;u<4&&o>i;++u,o-=Sf)s(o);else for(o=r-r%Sf+Sf,u=0;u<4&&o<i;++u,o=o+Sf)s(o)}}};function o7(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function l7(e,t,n,r,i){const a=r-e+3*t-3*n,s=e+n-2*t,o=e-t;let u=0,c=0,h;Math.abs(a)>Ele?(h=s*s+o*a,h>=0&&(h=Math.sqrt(h),u=(-s+h)/a,c=(-s-h)/a)):u=.5*o/s,0<u&&u<1&&i(u7(u,e,t,n,r)),0<c&&c<1&&i(u7(c,e,t,n,r))}function u7(e,t,n,r,i){const a=1-e,s=a*a,o=e*e;return s*a*t+3*s*e*n+3*a*o*r+o*e*i}var ac=(ac=ic(1,1))?ac.getContext("2d"):null;const Yk=new ar;function jF(e){return function(t,n){if(!ac)return!0;e(ac,t),Yk.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:a,y2:s}=Yk;for(let o=i;o<=s;++o)for(let u=r;u<=a;++u)if(ac.isPointInPath(u,o))return!0;return!1}}function qF(e,t){return t.contains(e.x||0,e.y||0)}function Oj(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,a=e.height||0;return t.intersects(Yk.set(n,r,n+i,r+a))}function Mj(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,a=e.y2!=null?e.y2:r;return Uh(t,n,r,i,a)}function Uh(e,t,n,r,i){const{x1:a,y1:s,x2:o,y2:u}=e,c=r-t,h=i-n;let d=0,p=1,m,y,v,_;for(_=0;_<4;++_){if(_===0&&(m=-c,y=-(a-t)),_===1&&(m=c,y=o-t),_===2&&(m=-h,y=-(s-n)),_===3&&(m=h,y=u-n),Math.abs(m)<1e-10&&y<0)return!1;if(v=y/m,m<0){if(v>p)return!1;v>d&&(d=v)}else if(m>0){if(v<d)return!1;v<p&&(p=v)}}return!0}function vd(e,t){e.globalCompositeOperation=t.blend||"source-over"}function As(e,t){return e??t}function c7(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function fue(e,t,n){const r=n.width(),i=n.height();let a;if(t.gradient==="radial")a=e.createRadialGradient(n.x1+As(t.x1,.5)*r,n.y1+As(t.y1,.5)*i,Math.max(r,i)*As(t.r1,0),n.x1+As(t.x2,.5)*r,n.y1+As(t.y2,.5)*i,Math.max(r,i)*As(t.r2,.5));else{const s=As(t.x1,0),o=As(t.y1,0),u=As(t.x2,1),c=As(t.y2,0);if(s===u||o===c||r===i)a=e.createLinearGradient(n.x1+s*r,n.y1+o*i,n.x1+u*r,n.y1+c*i);else{const h=ic(Math.ceil(r),Math.ceil(i)),d=h.getContext("2d");return d.scale(r,i),d.fillStyle=c7(d.createLinearGradient(s,o,u,c),t.stops),d.fillRect(0,0,r,i),e.createPattern(h,"no-repeat")}}return c7(a,t.stops)}function Rj(e,t,n){return BF(n)?fue(e,n,t.bounds):n}function E2(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=Rj(e,t,t.fill),!0):!1}var hue=[];function _d(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=Rj(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||hue),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function due(e,t){return e.zindex-t.zindex||e.index-t.index}function GF(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,a;for(i=0,a=t.length;i<a;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(due)}function Gs(e,t){var n=e.items,r,i;if(!n||!n.length)return;const a=GF(e);if(a&&a.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=a}for(r=0,i=n.length;r<i;++r)t(n[r])}function S2(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const a=GF(e);for(a&&a.length&&(n=a),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===a){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function VF(e){return function(t,n,r){Gs(n,i=>{(!r||r.intersects(i.bounds))&&Nj(e,t,i,i)})}}function gue(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&Nj(e,t,n.items[0],n.items)}}function Nj(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(vd(t,n),n.fill&&E2(t,n,i)&&t.fill(),n.stroke&&_d(t,n,i)&&t.stroke()))}function Mb(e){return e=e||os,function(t,n,r,i,a,s){return r*=t.pixelRatio,i*=t.pixelRatio,S2(n,o=>{const u=o.bounds;if(!(u&&!u.contains(a,s)||!u)&&e(t,o,r,i,a,s))return o})}}function Lm(e,t){return function(n,r,i,a){var s=Array.isArray(r)?r[0]:r,o=t??s.fill,u=s.stroke&&n.isPointInStroke,c,h;return u&&(c=s.strokeWidth,h=s.strokeCap,n.lineWidth=c??1,n.lineCap=h??"butt"),e(n,r)?!1:o&&n.isPointInPath(i,a)||u&&n.isPointInStroke(i,a)}}function XF(e){return Mb(Lm(e))}function Lf(e,t){return"translate("+e+","+t+")"}function WF(e){return"rotate("+e+")"}function pue(e,t){return"scale("+e+","+t+")"}function $j(e){return Lf(e.x||0,e.y||0)}function mue(e){return Lf(e.x||0,e.y||0)+(e.angle?" "+WF(e.angle):"")}function xue(e){return Lf(e.x||0,e.y||0)+(e.angle?" "+WF(e.angle):"")+(e.scaleX||e.scaleY?" "+pue(e.scaleX||1,e.scaleY||1):"")}function YF(e,t,n){function r(s,o){s("transform",mue(o)),s("d",t(null,o))}function i(s,o){return t($m(s,o.angle),o),Zl(s,o).translate(o.x||0,o.y||0)}function a(s,o){var u=o.x||0,c=o.y||0,h=o.angle||0;s.translate(u,c),h&&s.rotate(h*=dc),s.beginPath(),t(s,o),h&&s.rotate(-h),s.translate(-u,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:VF(a),pick:XF(a),isect:n||jF(a)}}var yue=YF("arc",tue);function vue(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,a=1/0,s,o;--i>=0;)e[i].defined!==!1&&(o=Math.abs(e[i][r]-n),o<a&&(a=o,s=e[i]));return s}function _ue(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,a,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],a=e[r].y-t[1],s=i*i+a*a,s<n))return e[r];return null}function bue(e,t){for(var n=e.length,r,i,a;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],a=r*r+i*i,r=e[n].size||1,a<r*r))return e[n];return null}function KF(e,t,n){function r(u,c){var h=c.mark.items;h.length&&u("d",t(null,h))}function i(u,c){var h=c.items;return h.length===0?u:(t($m(u),h),Zl(u,h[0]))}function a(u,c){u.beginPath(),t(u,c)}const s=Lm(a);function o(u,c,h,d,p,m){var y=c.items,v=c.bounds;return!y||!y.length||v&&!v.contains(p,m)?null:(h*=u.pixelRatio,d*=u.pixelRatio,s(u,y,h,d)?y[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:gue(a),pick:o,isect:qF,tip:n}}var Eue=KF("area",nue,vue);function Sue(e,t){var n=t.clip;e.save(),_t(n)?(e.beginPath(),n(e),e.clip()):Lj(e,t.group)}function Lj(e,t){e.beginPath(),UF(t)?rg(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function Ij(e){const t=As(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function wue(e,t){e("transform",$j(t))}function zj(e,t){const n=Ij(t);e("d",rg(null,t,n,n))}function Aue(e,t){e("class","background"),e("aria-hidden",!0),zj(e,t)}function Tue(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?zj(e,t):e("d","")}function kue(e,t,n){const r=t.clip?HF(n,t,t):null;e("clip-path",r)}function Cue(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Zl(e,t),e.translate(t.x||0,t.y||0)}function jp(e,t,n,r){const i=Ij(t);e.beginPath(),rg(e,t,(n||0)+i,(r||0)+i)}const Fue=Lm(jp),Due=Lm(jp,!1),Oue=Lm(jp,!0);function Mue(e,t,n,r){Gs(t,i=>{const a=i.x||0,s=i.y||0,o=i.strokeForeground,u=i.opacity==null?1:i.opacity;(i.stroke||i.fill)&&u&&(jp(e,i,a,s),vd(e,i),i.fill&&E2(e,i,u)&&e.fill(),i.stroke&&!o&&_d(e,i,u)&&e.stroke()),e.save(),e.translate(a,s),i.clip&&Lj(e,i),n&&n.translate(-a,-s),Gs(i,c=>{(c.marktype==="group"||r==null||r.includes(c.marktype))&&this.draw(e,c,n,r)}),n&&n.translate(a,s),e.restore(),o&&i.stroke&&u&&(jp(e,i,a,s),vd(e,i),_d(e,i,u)&&e.stroke())})}function Rue(e,t,n,r,i,a){if(t.bounds&&!t.bounds.contains(i,a)||!t.items)return null;const s=n*e.pixelRatio,o=r*e.pixelRatio;return S2(t,u=>{let c,h,d;const p=u.bounds;if(p&&!p.contains(i,a))return;h=u.x||0,d=u.y||0;const m=h+(u.width||0),y=d+(u.height||0),v=u.clip;if(v&&(i<h||i>m||a<d||a>y))return;if(e.save(),e.translate(h,d),h=i-h,d=a-d,v&&UF(u)&&!Oue(e,u,s,o))return e.restore(),null;const _=u.strokeForeground,E=t.interactive!==!1;return E&&_&&u.stroke&&Due(e,u,s,o)?(e.restore(),u):(c=S2(u,w=>Nue(w,h,d)?this.pick(w,n,r,h,d):null),!c&&E&&(u.fill||!_&&u.stroke)&&Fue(e,u,s,o)&&(c=u),e.restore(),c||null)})}function Nue(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var $ue={type:"group",tag:"g",nested:!1,attr:wue,bound:Cue,draw:Mue,pick:Rue,isect:Oj,content:kue,background:Aue,foreground:Tue},qp={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function QF(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function ZF(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function JF(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function Rb(e,t){return e==="center"?t/2:e==="right"?t:0}function Nb(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function Lue(e,t,n){const r=QF(t,n),i=ZF(t,r),a=JF(t,r),s=(t.x||0)-Rb(t.align,i),o=(t.y||0)-Nb(t.baseline,a),u=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",u,qp["xmlns:xlink"],"xlink:href"),e("transform",Lf(s,o)),e("width",i),e("height",a),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function Iue(e,t){const n=t.image,r=ZF(t,n),i=JF(t,n),a=(t.x||0)-Rb(t.align,r),s=(t.y||0)-Nb(t.baseline,i);return e.set(a,s,a+r,s+i)}function zue(e,t,n){Gs(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=QF(r,this);let a=ZF(r,i),s=JF(r,i);if(a===0||s===0)return;let o=(r.x||0)-Rb(r.align,a),u=(r.y||0)-Nb(r.baseline,s),c,h,d,p;r.aspect!==!1&&(h=i.width/i.height,d=r.width/r.height,h===h&&d===d&&h!==d&&(d<h?(p=a/h,u+=(s-p)/2,s=p):(p=s*h,o+=(a-p)/2,a=p))),(i.complete||i.toDataURL)&&(vd(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,o,u,a,s))})}var Bue={type:"image",tag:"image",nested:!1,attr:Lue,bound:Iue,draw:zue,pick:Mb(),isect:os,get:QF,xOffset:Rb,yOffset:Nb},Pue=KF("line",rue,_ue);function Uue(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",xue(t)),e("d",t.path)}function Iv(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,a=t.scaleX||1,s=t.scaleY||1,o=(t.angle||0)*dc,u=t.pathCache;(!u||u.path!==n)&&((t.pathCache=u=yd(n)).path=n),o&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(o),Hp(e,u,0,0,a,s),e.rotate(-o),e.translate(-r,-i)):Hp(e,u,r,i,a,s)}function Hue(e,t){return Iv($m(e,t.angle),t)?e.set(0,0,0,0):Zl(e,t,!0)}var jue={type:"path",tag:"path",nested:!1,attr:Uue,bound:Hue,draw:VF(Iv),pick:XF(Iv),isect:jF(Iv)};function que(e,t){e("d",rg(null,t))}function Gue(e,t){var n,r;return Zl(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function f7(e,t){e.beginPath(),rg(e,t)}var Vue={type:"rect",tag:"path",nested:!1,attr:que,bound:Gue,draw:VF(f7),pick:XF(f7),isect:Oj};function Xue(e,t){e("transform",$j(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function Wue(e,t){var n,r;return Zl(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function Bj(e,t,n){var r,i,a,s;return t.stroke&&_d(e,t,n)?(r=t.x||0,i=t.y||0,a=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(a,s),!0):!1}function Yue(e,t,n){Gs(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&Bj(e,r,i)&&(vd(e,r),e.stroke())}})}function Kue(e,t,n,r){return e.isPointInStroke?Bj(e,t,1)&&e.isPointInStroke(n,r):!1}var Que={type:"rule",tag:"line",nested:!1,attr:Xue,bound:Wue,draw:Yue,pick:Mb(Kue),isect:Mj},Zue=YF("shape",iue),Jue=YF("symbol",aue,qF);const h7=XB();var Ta={height:jo,measureWidth:e6,estimateWidth:w2,width:w2,canvas:Pj};Pj(!0);function Pj(e){Ta.width=e&&ac?e6:w2}function w2(e,t){return Uj(pc(e,t),jo(e))}function Uj(e,t){return~~(.8*e.length*t)}function e6(e,t){return jo(e)<=0||!(t=pc(e,t))?0:Hj(t,$b(e))}function Hj(e,t){const n=`(${t}) ${e}`;let r=h7.get(n);return r===void 0&&(ac.font=t,r=ac.measureText(e).width,h7.set(n,r)),r}function jo(e){return e.fontSize!=null?+e.fontSize||0:11}function gc(e){return e.lineHeight!=null?e.lineHeight:jo(e)+2}function ece(e){return Ae(e)?e.length>1?e:e[0]:e}function Im(e){return ece(e.lineBreak&&e.text&&!Ae(e.text)?e.text.split(e.lineBreak):e.text)}function t6(e){const t=Im(e);return(Ae(t)?t.length-1:0)*gc(e)}function pc(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?nce(e,n):n}function tce(e){if(Ta.width===e6){const t=$b(e);return n=>Hj(n,t)}else if(Ta.width===w2){const t=jo(e);return n=>Uj(n,t)}else return t=>Ta.width(e,t)}function nce(e,t){var n=+e.limit,r=tce(e);if(r(t)<n)return t;var i=e.ellipsis||"",a=e.dir==="rtl",s=0,o=t.length,u;if(n-=r(i),a){for(;s<o;)u=s+o>>>1,r(t.slice(u))>n?s=u+1:o=u;return i+t.slice(s)}else{for(;s<o;)u=1+(s+o>>>1),r(t.slice(0,u))<n?s=u:o=u-1;return t.slice(0,s)+i}}function zm(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function $b(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+jo(e)+"px "+zm(e,t)}function n6(e){var t=e.baseline,n=jo(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*gc(e):t==="line-bottom"?.29*n-.5*gc(e):0)}const rce={left:"start",center:"middle",right:"end"},fp=new ar;function Lb(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-Sf,t+=r*Math.cos(i),n+=r*Math.sin(i)),fp.x1=t,fp.y1=n,fp}function ice(e,t){var n=t.dx||0,r=(t.dy||0)+n6(t),i=Lb(t),a=i.x1,s=i.y1,o=t.angle||0,u;e("text-anchor",rce[t.align]||"start"),o?(u=Lf(a,s)+" "+WF(o),(n||r)&&(u+=" "+Lf(n,r))):u=Lf(a+n,s+r),e("transform",u)}function r6(e,t,n){var r=Ta.height(t),i=t.align,a=Lb(t),s=a.x1,o=a.y1,u=t.dx||0,c=(t.dy||0)+n6(t)-Math.round(.8*r),h=Im(t),d;if(Ae(h)?(r+=gc(t)*(h.length-1),d=h.reduce((p,m)=>Math.max(p,Ta.width(t,m)),0)):d=Ta.width(t,h),i==="center"?u-=d/2:i==="right"&&(u-=d),e.set(u+=s,c+=o,u+d,c+r),t.angle&&!n)e.rotate(t.angle*dc,s,o);else if(n===2)return e.rotatedPoints(t.angle*dc,s,o);return e}function ace(e,t,n){Gs(t,r=>{var i=r.opacity==null?1:r.opacity,a,s,o,u,c,h,d;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=$b(r),e.textAlign=r.align||"left",a=Lb(r),s=a.x1,o=a.y1,r.angle&&(e.save(),e.translate(s,o),e.rotate(r.angle*dc),s=o=0),s+=r.dx||0,o+=(r.dy||0)+n6(r),h=Im(r),vd(e,r),Ae(h))for(c=gc(r),u=0;u<h.length;++u)d=pc(r,h[u]),r.fill&&E2(e,r,i)&&e.fillText(d,s,o),r.stroke&&_d(e,r,i)&&e.strokeText(d,s,o),o+=c;else d=pc(r,h),r.fill&&E2(e,r,i)&&e.fillText(d,s,o),r.stroke&&_d(e,r,i)&&e.strokeText(d,s,o);r.angle&&e.restore()}})}function sce(e,t,n,r,i,a){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=Lb(t),o=s.x1,u=s.y1,c=r6(fp,t,1),h=-t.angle*dc,d=Math.cos(h),p=Math.sin(h),m=d*i-p*a+(o-d*o+p*u),y=p*i+d*a+(u-p*o-d*u);return c.contains(m,y)}function oce(e,t){const n=r6(fp,e,2);return Uh(t,n[0],n[1],n[2],n[3])||Uh(t,n[0],n[1],n[4],n[5])||Uh(t,n[4],n[5],n[6],n[7])||Uh(t,n[2],n[3],n[6],n[7])}var lce={type:"text",tag:"text",nested:!1,attr:ice,bound:r6,draw:ace,pick:Mb(sce),isect:oce},uce=KF("trail",sue,bue),Ma={arc:yue,area:Eue,group:$ue,image:Bue,line:Pue,path:jue,rect:Vue,rule:Que,shape:Zue,symbol:Jue,text:lce,trail:uce};function Kk(e,t,n){var r=Ma[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new ar),e,n)}var d7={mark:null};function jj(e,t,n){var r=Ma[e.marktype],i=r.bound,a=e.items,s=a&&a.length,o,u,c,h;if(r.nested)return s?c=a[0]:(d7.mark=e,c=d7),h=Kk(c,i,n),t=t&&t.union(h)||h,t;if(t=t||e.bounds&&e.bounds.clear()||new ar,s)for(o=0,u=a.length;o<u;++o)t.union(Kk(a[o],i,n));return e.bounds=t}const cce=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function qj(e,t){return JSON.stringify(e,cce,t)}function Gj(e){const t=typeof e=="string"?JSON.parse(e):e;return Vj(t)}function Vj(e){var t=e.marktype,n=e.items,r,i,a;if(n)for(i=0,a=n.length;i<a;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&Vj(n[i]);return t&&jj(e),e}class Xj{constructor(t){arguments.length?this.root=Gj(t):(this.root=g7({marktype:"group",name:"root",role:"frame"}),this.root.items=[new Db(this.root)])}toJSON(t){return qj(this.root,t||0)}mark(t,n,r){n=n||this.root.items[0];const i=g7(t,n);return n.items[r]=i,i.zindex&&(i.group.zdirty=!0),i}}function g7(e,t){const n={bounds:new ar,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Gu(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function i6(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function ur(e,t,n,r){var i=e.childNodes[t],a;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(a=i||null,i=Gu(e.ownerDocument,n,r),e.insertBefore(i,a)),i}function Za(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function Wj(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function Ib(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function fce(e,t,n,r){var i=e&&e.mark,a,s;if(i&&(a=Ma[i.marktype]).tip){for(s=Ib(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=a.tip(i.items,s)}return e}let a6=class{constructor(t,n){this._active=null,this._handlers={},this._loader=t||nb(),this._tooltip=n||hce}initialize(t,n,r){return this._el=t,this._obj=r||null,this.origin(n)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}origin(t){return arguments.length?(this._origin=t||[0,0],this):this._origin.slice()}scene(t){return arguments.length?(this._scene=t,this):this._scene}on(){}off(){}_handlerIndex(t,n,r){for(let i=t?t.length:0;--i>=0;)if(t[i].type===n&&(!r||t[i].handler===r))return i;return-1}handlers(t){const n=this._handlers,r=[];if(t)r.push(...n[this.eventName(t)]);else for(const i in n)r.push(...n[i]);return r}eventName(t){const n=t.indexOf(".");return n<0?t:t.slice(0,n)}handleHref(t,n,r){this._loader.sanitize(r,{context:"href"}).then(i=>{const a=new MouseEvent(t.type,t),s=Gu(null,"a");for(const o in i)s.setAttribute(o,i[o]);s.dispatchEvent(a)}).catch(()=>{})}handleTooltip(t,n,r){if(n&&n.tooltip!=null){n=fce(n,t,this.canvas(),this._origin);const i=r&&n&&n.tooltip||null;this._tooltip.call(this._obj,this,t,n,i)}}getItemBoundingClientRect(t){const n=this.canvas();if(!n)return;const r=n.getBoundingClientRect(),i=this._origin,a=t.bounds,s=a.width(),o=a.height();let u=a.x1+i[0]+r.left,c=a.y1+i[1]+r.top;for(;t.mark&&(t=t.mark.group);)u+=t.x||0,c+=t.y||0;return{x:u,y:c,width:s,height:o,left:u,top:c,right:u+s,bottom:c+o}}};function hce(e,t,n,r){e.element().setAttribute("title",r||"")}class Bm{constructor(t){this._el=null,this._bgcolor=null,this._loader=new Dj(t)}initialize(t,n,r,i,a){return this._el=t,this.resize(n,r,i,a)}element(){return this._el}canvas(){return this._el&&this._el.firstChild}background(t){return arguments.length===0?this._bgcolor:(this._bgcolor=t,this)}resize(t,n,r,i){return this._width=t,this._height=n,this._origin=r||[0,0],this._scale=i||1,this}dirty(){}render(t,n){const r=this;return r._call=function(){r._render(t,n)},r._call(),r._call=null,r}_render(){}renderAsync(t,n){const r=this.render(t,n);return this._ready?this._ready.then(()=>r):Promise.resolve(r)}_load(t,n){var r=this,i=r._loader[t](n);if(!r._ready){const a=r._call;r._ready=r._loader.ready().then(s=>{s&&a(),r._ready=null})}return i}sanitizeURL(t){return this._load("sanitizeURL",t)}loadImage(t){return this._load("loadImage",t)}}const dce="keydown",gce="keypress",pce="keyup",Yj="dragenter",zv="dragleave",Kj="dragover",Qk="pointerdown",mce="pointerup",A2="pointermove",Bv="pointerout",Qj="pointerover",Zk="mousedown",xce="mouseup",Zj="mousemove",T2="mouseout",Jj="mouseover",k2="click",yce="dblclick",vce="wheel",eq="mousewheel",C2="touchstart",F2="touchmove",D2="touchend",_ce=[dce,gce,pce,Yj,zv,Kj,Qk,mce,A2,Bv,Qj,Zk,xce,Zj,T2,Jj,k2,yce,vce,eq,C2,F2,D2],Jk=A2,hp=T2,e3=k2;class Pm extends a6{constructor(t,n){super(t,n),this._down=null,this._touch=null,this._first=!0,this._events={},this.events=_ce,this.pointermove=m7([A2,Zj],[Qj,Jj],[Bv,T2]),this.dragover=m7([Kj],[Yj],[zv]),this.pointerout=x7([Bv,T2]),this.dragleave=x7([zv])}initialize(t,n,r){return this._canvas=t&&i6(t,"canvas"),[k2,Zk,Qk,A2,Bv,zv].forEach(i=>p7(this,i)),super.initialize(t,n,r)}canvas(){return this._canvas}context(){return this._canvas.getContext("2d")}DOMMouseScroll(t){this.fire(eq,t)}pointerdown(t){this._down=this._active,this.fire(Qk,t)}mousedown(t){this._down=this._active,this.fire(Zk,t)}click(t){this._down===this._active&&(this.fire(k2,t),this._down=null)}touchstart(t){this._touch=this.pickEvent(t.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(C2,t,!0)}touchmove(t){this.fire(F2,t,!0)}touchend(t){this.fire(D2,t,!0),this._touch=null}fire(t,n,r){const i=r?this._touch:this._active,a=this._handlers[t];if(n.vegaType=t,t===e3&&i&&i.href?this.handleHref(n,i,i.href):(t===Jk||t===hp)&&this.handleTooltip(n,i,t!==hp),a)for(let s=0,o=a.length;s<o;++s)a[s].handler.call(this._obj,n,i)}on(t,n){const r=this.eventName(t),i=this._handlers;return this._handlerIndex(i[r],t,n)<0&&(p7(this,t),(i[r]||(i[r]=[])).push({type:t,handler:n})),this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&i.splice(a,1),this}pickEvent(t){const n=Ib(t,this._canvas),r=this._origin;return this.pick(this._scene,n[0],n[1],n[0]-r[0],n[1]-r[1])}pick(t,n,r,i,a){const s=this.context();return Ma[t.marktype].pick.call(this,s,t,n,r,i,a)}}const bce=e=>e===C2||e===F2||e===D2?[C2,F2,D2]:[e];function p7(e,t){bce(t).forEach(n=>Ece(e,n))}function Ece(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function V1(e,t,n){t.forEach(r=>e.fire(r,n))}function m7(e,t,n){return function(r){const i=this._active,a=this.pickEvent(r);a===i?V1(this,e,r):((!i||!i.exit)&&V1(this,n,r),this._active=a,V1(this,t,r),V1(this,e,r))}}function x7(e){return function(t){V1(this,e,t),this._active=null}}function Sce(){return typeof window<"u"&&window.devicePixelRatio||1}function wce(e,t,n,r,i,a){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,o=e.getContext("2d"),u=s?Sce():i;e.width=t*u,e.height=n*u;for(const c in a)o[c]=a[c];return s&&u!==1&&(e.style.width=t+"px",e.style.height=n+"px"),o.pixelRatio=u,o.setTransform(u,0,0,u,u*r[0],u*r[1]),e}class O2 extends Bm{constructor(t){super(t),this._options={},this._redraw=!1,this._dirty=new ar,this._tempb=new ar}initialize(t,n,r,i,a,s){return this._options=s||{},this._canvas=this._options.externalContext?null:ic(1,1,this._options.type),t&&this._canvas&&(Za(t,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),super.initialize(t,n,r,i,a)}resize(t,n,r,i){if(super.resize(t,n,r,i),this._canvas)wce(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const a=this._options.externalContext;a||be("CanvasRenderer is missing a valid canvas or context"),a.scale(this._scale,this._scale),a.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this}canvas(){return this._canvas}context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)}dirty(t){const n=this._tempb.clear().union(t.bounds);let r=t.mark.group;for(;r;)n.translate(r.x||0,r.y||0),r=r.mark.group;this._dirty.union(n)}_render(t,n){const r=this.context(),i=this._origin,a=this._width,s=this._height,o=this._dirty,u=Ace(i,a,s);r.save();const c=this._redraw||o.empty()?(this._redraw=!1,u.expand(1)):Tce(r,u.intersect(o),i);return this.clear(-i[0],-i[1],a,s),this.draw(r,t,c,n),r.restore(),o.clear(),this}draw(t,n,r,i){if(n.marktype!=="group"&&i!=null&&!i.includes(n.marktype))return;const a=Ma[n.marktype];n.clip&&Sue(t,n),a.draw.call(this,t,n,r,i),n.clip&&t.restore()}clear(t,n,r,i){const a=this._options,s=this.context();a.type!=="pdf"&&!a.externalContext&&s.clearRect(t,n,r,i),this._bgcolor!=null&&(s.fillStyle=this._bgcolor,s.fillRect(t,n,r,i))}}const Ace=(e,t,n)=>new ar().set(0,0,t,n).translate(-e[0],-e[1]);function Tce(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}class tq extends a6{constructor(t,n){super(t,n);const r=this;r._hrefHandler=GA(r,(i,a)=>{a&&a.href&&r.handleHref(i,a,a.href)}),r._tooltipHandler=GA(r,(i,a)=>{r.handleTooltip(i,a,i.type!==hp)})}initialize(t,n,r){let i=this._svg;return i&&(i.removeEventListener(e3,this._hrefHandler),i.removeEventListener(Jk,this._tooltipHandler),i.removeEventListener(hp,this._tooltipHandler)),this._svg=i=t&&i6(t,"svg"),i&&(i.addEventListener(e3,this._hrefHandler),i.addEventListener(Jk,this._tooltipHandler),i.addEventListener(hp,this._tooltipHandler)),super.initialize(t,n,r)}canvas(){return this._svg}on(t,n){const r=this.eventName(t),i=this._handlers;if(this._handlerIndex(i[r],t,n)<0){const s={type:t,handler:n,listener:GA(this,n)};(i[r]||(i[r]=[])).push(s),this._svg&&this._svg.addEventListener(r,s.listener)}return this}off(t,n){const r=this.eventName(t),i=this._handlers[r],a=this._handlerIndex(i,t,n);return a>=0&&(this._svg&&this._svg.removeEventListener(r,i[a].listener),i.splice(a,1)),this}}const GA=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)},nq="aria-hidden",s6="aria-label",o6="role",l6="aria-roledescription",rq="graphics-object",u6="graphics-symbol",iq=(e,t,n)=>({[o6]:e,[l6]:t,[s6]:n||void 0}),kce=js(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),y7={axis:{desc:"axis",caption:Dce},legend:{desc:"legend",caption:Oce},"title-text":{desc:"title",caption:e=>`Title text '${_7(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${_7(e)}'`}},v7={ariaRole:o6,ariaRoleDescription:l6,description:s6};function aq(e,t){const n=t.aria===!1;if(e(nq,n||void 0),n||t.description==null)for(const r in v7)e(v7[r],void 0);else{const r=t.mark.marktype;e(s6,t.description),e(o6,t.ariaRole||(r==="group"?rq:u6)),e(l6,t.ariaRoleDescription||`${r} mark`)}}function sq(e){return e.aria===!1?{[nq]:!0}:kce[e.role]?null:y7[e.role]?Fce(e,y7[e.role]):Cce(e)}function Cce(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return iq(n?rq:u6,`${t} mark container`,e.description)}function Fce(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return iq(t.role||u6,t.desc,n.description||r(n))}catch{return null}}function _7(e){return Ve(e.text).join(" ")}function Dce(e){const t=e.datum,n=e.orient,r=t.title?oq(e):null,i=e.context,a=i.scales[t.scale].value,s=i.dataflow.locale(),o=a.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${xd(o)?"discrete":o} scale with ${bj(s,a,e)}`}function Oce(e){const t=e.datum,n=t.title?oq(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,a=Object.keys(i),s=e.context,o=s.scales[i[a[0]]].value,u=s.dataflow.locale();return Rce(r)+(n?` titled '${n}'`:"")+` for ${Mce(a)} with ${bj(u,o,e)}`}function oq(e){try{return Ve(Nt(e.items).items[0].text).join(" ")}catch{return null}}function Mce(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+Nt(e)}function Rce(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const lq=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Nce=e=>lq(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function c6(){let e="",t="",n="";const r=[],i=()=>t=n="",a=u=>{t&&(e+=`${t}>${n}`,i()),r.push(u)},s=(u,c)=>(c!=null&&(t+=` ${u}="${Nce(c)}"`),o),o={open(u,...c){a(u),t="<"+u;for(const h of c)for(const d in h)s(d,h[d]);return o},close(){const u=r.pop();return t?e+=t+(n?`>${n}</${u}>`:"/>"):e+=`</${u}>`,i(),o},attr:s,text:u=>(n+=lq(u),o),toString:()=>e};return o}const uq=e=>cq(c6(),e)+"";function cq(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):cq(e,r)}return e.close()}const M2={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},R2={blend:"mix-blend-mode"},fq={fill:"none","stroke-miterlimit":10},S1=0,b7="http://www.w3.org/2000/xmlns/",lr=qp.xmlns;class f6 extends Bm{constructor(t){super(t),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}initialize(t,n,r,i,a){return this._defs={},this._clearDefs(),t&&(this._svg=ur(t,0,"svg",lr),this._svg.setAttributeNS(b7,"xmlns",lr),this._svg.setAttributeNS(b7,"xmlns:xlink",qp["xmlns:xlink"]),this._svg.setAttribute("version",qp.version),this._svg.setAttribute("class","marks"),Za(t,1),this._root=ur(this._svg,S1,"g",lr),Vu(this._root,fq),Za(this._svg,S1+1)),this.background(this._bgcolor),super.initialize(t,n,r,i,a)}background(t){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",t),super.background(...arguments)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svg&&(Vu(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this}canvas(){return this._svg}svg(){const t=this._svg,n=this._bgcolor;if(!t)return null;let r;n&&(t.removeAttribute("style"),r=ur(t,S1,"rect",lr),Vu(r,{width:this._width,height:this._height,fill:n}));const i=uq(t);return n&&(t.removeChild(r),this._svg.style.setProperty("background-color",n)),i}_render(t,n){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,t,void 0,n),Za(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this}dirty(t){t.dirty!==this._dirtyID&&(t.dirty=this._dirtyID,this._dirty.push(t))}isDirty(t){return this._dirtyAll||!t._svg||!t._svg.ownerSVGElement||t.dirty===this._dirtyID}_dirtyCheck(){this._dirtyAll=!0;const t=this._dirty;if(!t.length||!this._dirtyID)return!0;const n=++this._dirtyID;let r,i,a,s,o,u,c;for(o=0,u=t.length;o<u;++o)if(r=t[o],i=r.mark,i.marktype!==a&&(a=i.marktype,s=Ma[a]),i.zdirty&&i.dirty!==n&&(this._dirtyAll=!1,E7(r,n),i.items.forEach(h=>{h.dirty=n})),!i.zdirty){if(r.exit){s.nested&&i.items.length?(c=i.items[0],c._svg&&this._update(s,c._svg,c)):r._svg&&(c=r._svg.parentNode,c&&c.removeChild(r._svg)),r._svg=null;continue}r=s.nested?i.items[0]:r,r._update!==n&&(!r._svg||!r._svg.ownerSVGElement?(this._dirtyAll=!1,E7(r,n)):this._update(s,r._svg,r),r._update=n)}return!this._dirtyAll}mark(t,n,r,i){if(!this.isDirty(n))return n._svg;const a=this._svg,s=n.marktype,o=Ma[s],u=n.interactive===!1?"none":null,c=o.tag==="g",h=S7(n,t,r,"g",a);if(s!=="group"&&i!=null&&!i.includes(s))return Za(h,0),n._svg;h.setAttribute("class",Wj(n));const d=sq(n);for(const v in d)bi(h,v,d[v]);c||bi(h,"pointer-events",u),bi(h,"clip-path",n.clip?HF(this,n,n.group):null);let p=null,m=0;const y=v=>{const _=this.isDirty(v),E=S7(v,h,p,o.tag,a);_&&(this._update(o,E,v),c&&Ice(this,E,v,i)),p=E,++m};return o.nested?n.items.length&&y(n.items[0]):Gs(n,y),Za(h,m),h}_update(t,n,r){Ml=n,ti=n.__values__,aq(dp,r),t.attr(dp,r,this);const i=Bce[t.type];i&&i.call(this,t,n,r),Ml&&this.style(Ml,r)}style(t,n){if(n!=null){for(const r in M2){let i=r==="font"?zm(n):n[r];if(i===ti[r])continue;const a=M2[r];i==null?t.removeAttribute(a):(BF(i)&&(i=Sj(i,this._defs.gradient,hq())),t.setAttribute(a,i+"")),ti[r]=i}for(const r in R2)Pv(t,R2[r],n[r])}}defs(){const t=this._svg,n=this._defs;let r=n.el,i=0;for(const a in n.gradient)r||(n.el=r=ur(t,S1+1,"defs",lr)),i=$ce(r,n.gradient[a],i);for(const a in n.clipping)r||(n.el=r=ur(t,S1+1,"defs",lr)),i=Lce(r,n.clipping[a],i);r&&(i===0?(t.removeChild(r),n.el=null):Za(r,i))}_clearDefs(){const t=this._defs;t.gradient={},t.clipping={}}}function E7(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function $ce(e,t,n){let r,i,a;if(t.gradient==="radial"){let s=ur(e,n++,"pattern",lr);Vu(s,{id:b2+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=ur(s,0,"rect",lr),Vu(s,{width:1,height:1,fill:`url(${hq()}#${t.id})`}),e=ur(e,n++,"radialGradient",lr),Vu(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=ur(e,n++,"linearGradient",lr),Vu(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)a=ur(e,r,"stop",lr),a.setAttribute("offset",t.stops[r].offset),a.setAttribute("stop-color",t.stops[r].color);return Za(e,r),n}function Lce(e,t,n){let r;return e=ur(e,n,"clipPath",lr),e.setAttribute("id",t.id),t.path?(r=ur(e,0,"path",lr),r.setAttribute("d",t.path)):(r=ur(e,0,"rect",lr),Vu(r,{x:0,y:0,width:t.width,height:t.height})),Za(e,1),n+1}function Ice(e,t,n,r){t=t.lastChild.previousSibling;let i,a=0;Gs(n,s=>{i=e.mark(t,s,i,r),++a}),Za(t,1+a)}function S7(e,t,n,r,i){let a=e._svg,s;if(!a&&(s=t.ownerDocument,a=Gu(s,r,lr),e._svg=a,e.mark&&(a.__data__=e,a.__values__={fill:"default"},r==="g"))){const o=Gu(s,"path",lr);a.appendChild(o),o.__data__=e;const u=Gu(s,"g",lr);a.appendChild(u),u.__data__=e;const c=Gu(s,"path",lr);a.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(a.ownerSVGElement!==i||zce(a,n))&&t.insertBefore(a,n?n.nextSibling:t.firstChild),a}function zce(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Ml=null,ti=null;const Bce={group(e,t,n){const r=Ml=t.childNodes[2];ti=r.__values__,e.foreground(dp,n,this),ti=t.__values__,Ml=t.childNodes[1],e.content(dp,n,this);const i=Ml=t.childNodes[0];e.background(dp,n,this);const a=n.mark.interactive===!1?"none":null;if(a!==ti.events&&(bi(r,"pointer-events",a),bi(i,"pointer-events",a),ti.events=a),n.strokeForeground&&n.stroke){const s=n.fill;bi(r,"display",null),this.style(i,n),bi(i,"stroke",null),s&&(n.fill=null),ti=r.__values__,this.style(r,n),s&&(n.fill=s),Ml=null}else bi(r,"display","none")},image(e,t,n){n.smooth===!1?(Pv(t,"image-rendering","optimizeSpeed"),Pv(t,"image-rendering","pixelated")):Pv(t,"image-rendering",null)},text(e,t,n){const r=Im(n);let i,a,s,o;Ae(r)?(a=r.map(u=>pc(n,u)),i=a.join(`
`),i!==ti.text&&(Za(t,0),s=t.ownerDocument,o=gc(n),a.forEach((u,c)=>{const h=Gu(s,"tspan",lr);h.__data__=n,h.textContent=u,c&&(h.setAttribute("x",0),h.setAttribute("dy",o)),t.appendChild(h)}),ti.text=i)):(a=pc(n,r),a!==ti.text&&(t.textContent=a,ti.text=a)),bi(t,"font-family",zm(n)),bi(t,"font-size",jo(n)+"px"),bi(t,"font-style",n.fontStyle),bi(t,"font-variant",n.fontVariant),bi(t,"font-weight",n.fontWeight)}};function dp(e,t,n){t!==ti[e]&&(n?Pce(Ml,e,t,n):bi(Ml,e,t),ti[e]=t)}function Pv(e,t,n){n!==ti[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),ti[t]=n)}function Vu(e,t){for(const n in t)bi(e,n,t[n])}function bi(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function Pce(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function hq(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}class dq extends Bm{constructor(t){super(t),this._text=null,this._defs={gradient:{},clipping:{}}}svg(){return this._text}_render(t){const n=c6();n.open("svg",vt({},qp,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const r=this._bgcolor;return r&&r!=="transparent"&&r!=="none"&&n.open("rect",{width:this._width,height:this._height,fill:r}).close(),n.open("g",fq,{transform:"translate("+this._origin+")"}),this.mark(n,t),n.close(),this.defs(n),this._text=n.close()+"",this}mark(t,n){const r=Ma[n.marktype],i=r.tag,a=[aq,r.attr];t.open("g",{class:Wj(n),"clip-path":n.clip?HF(this,n,n.group):null},sq(n),{"pointer-events":i!=="g"&&n.interactive===!1?"none":null});const s=o=>{const u=this.href(o);if(u&&t.open("a",u),t.open(i,this.attr(n,o,a,i!=="g"?i:null)),i==="text"){const c=Im(o);if(Ae(c)){const h={x:0,dy:gc(o)};for(let d=0;d<c.length;++d)t.open("tspan",d?h:null).text(pc(o,c[d])).close()}else t.text(pc(o,c))}else if(i==="g"){const c=o.strokeForeground,h=o.fill,d=o.stroke;c&&d&&(o.stroke=null),t.open("path",this.attr(n,o,r.background,"bgrect")).close(),t.open("g",this.attr(n,o,r.content)),Gs(o,p=>this.mark(t,p)),t.close(),c&&d?(h&&(o.fill=null),o.stroke=d,t.open("path",this.attr(n,o,r.foreground,"bgrect")).close(),h&&(o.fill=h)):t.open("path",this.attr(n,o,r.foreground,"bgfore")).close()}t.close(),u&&t.close()};return r.nested?n.items&&n.items.length&&s(n.items[0]):Gs(n,s),t.close()}href(t){const n=t.href;let r;if(n){if(r=this._hrefs&&this._hrefs[n])return r;this.sanitizeURL(n).then(i=>{i["xlink:href"]=i.href,i.href=null,(this._hrefs||(this._hrefs={}))[n]=i})}return null}attr(t,n,r,i){const a={},s=(o,u,c,h)=>{a[h||o]=u};return Array.isArray(r)?r.forEach(o=>o(s,n,this)):r(s,n,this),i&&Uce(a,n,t,i,this._defs),a}defs(t){const n=this._defs.gradient,r=this._defs.clipping;if(Object.keys(n).length+Object.keys(r).length!==0){t.open("defs");for(const a in n){const s=n[a],o=s.stops;s.gradient==="radial"?(t.open("pattern",{id:b2+a,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),t.open("rect",{width:"1",height:"1",fill:"url(#"+a+")"}).close(),t.close(),t.open("radialGradient",{id:a,fx:s.x1,fy:s.y1,fr:s.r1,cx:s.x2,cy:s.y2,r:s.r2})):t.open("linearGradient",{id:a,x1:s.x1,x2:s.x2,y1:s.y1,y2:s.y2});for(let u=0;u<o.length;++u)t.open("stop",{offset:o[u].offset,"stop-color":o[u].color}).close();t.close()}for(const a in r){const s=r[a];t.open("clipPath",{id:a}),s.path?t.open("path",{d:s.path}).close():t.open("rect",{x:0,y:0,width:s.width,height:s.height}).close(),t.close()}t.close()}}}function Uce(e,t,n,r,i){let a;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(a=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=zm(t),e["font-size"]=jo(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in M2){let o=t[s];const u=M2[s];o==="transparent"&&(u==="fill"||u==="stroke")||o!=null&&(BF(o)&&(o=Sj(o,i.gradient,"")),e[u]=o)}for(const s in R2){const o=t[s];o!=null&&(a=a||[],a.push(`${R2[s]}: ${o};`))}return a&&(e.style=a.join(" ")),e}const ks={svgMarkTypes:["text"],svgOnTop:!0,debug:!1};function Hce(e){ks.svgMarkTypes=e.svgMarkTypes??["text"],ks.svgOnTop=e.svgOnTop??!0,ks.debug=e.debug??!1}class t3 extends Bm{constructor(t){super(t),this._svgRenderer=new f6(t),this._canvasRenderer=new O2(t)}initialize(t,n,r,i,a){this._root_el=ur(t,0,"div");const s=ur(this._root_el,0,"div"),o=ur(this._root_el,1,"div");return this._root_el.style.position="relative",ks.debug||(s.style.height="100%",o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.height="100%",o.style.width="100%"),this._svgEl=ks.svgOnTop?o:s,this._canvasEl=ks.svgOnTop?s:o,this._svgEl.style.pointerEvents="none",this._canvasRenderer.initialize(this._canvasEl,n,r,i,a),this._svgRenderer.initialize(this._svgEl,n,r,i,a),super.initialize(t,n,r,i,a)}dirty(t){return ks.svgMarkTypes.includes(t.mark.marktype)?this._svgRenderer.dirty(t):this._canvasRenderer.dirty(t),this}_render(t,n){const i=(n??["arc","area","image","line","path","rect","rule","shape","symbol","text","trail"]).filter(a=>!ks.svgMarkTypes.includes(a));this._svgRenderer.render(t,ks.svgMarkTypes),this._canvasRenderer.render(t,i)}resize(t,n,r,i){return super.resize(t,n,r,i),this._svgRenderer.resize(t,n,r,i),this._canvasRenderer.resize(t,n,r,i),this}background(t){return ks.svgOnTop?this._canvasRenderer.background(t):this._svgRenderer.background(t),this}}class gq extends Pm{constructor(t,n){super(t,n)}initialize(t,n,r){const i=ur(ur(t,0,"div"),ks.svgOnTop?0:1,"div");return super.initialize(i,n,r)}}const pq="canvas",mq="hybrid",xq="png",yq="svg",vq="none",Xu={Canvas:pq,PNG:xq,SVG:yq,Hybrid:mq,None:vq},Yf={};Yf[pq]=Yf[xq]={renderer:O2,headless:O2,handler:Pm};Yf[yq]={renderer:f6,headless:dq,handler:tq};Yf[mq]={renderer:t3,headless:t3,handler:gq};Yf[vq]={};function zb(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(Yf[e]=t,this):Yf[e]}function _q(e,t,n){const r=[],i=new ar().union(t),a=e.marktype;return a?bq(e,i,n,r):a==="group"?Eq(e,i,n,r):be("Intersect scene must be mark node or group item.")}function bq(e,t,n,r){if(jce(e,t,n)){const i=e.items,a=e.marktype,s=i.length;let o=0;if(a==="group")for(;o<s;++o)Eq(i[o],t,n,r);else for(const u=Ma[a].isect;o<s;++o){const c=i[o];Sq(c,t,u)&&r.push(c)}}return r}function jce(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function Eq(e,t,n,r){n&&n(e.mark)&&Sq(e,t,Ma.group.isect)&&r.push(e);const i=e.items,a=i&&i.length;if(a){const s=e.x||0,o=e.y||0;t.translate(-s,-o);for(let u=0;u<a;++u)bq(i[u],t,n,r);t.translate(s,o)}return r}function Sq(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const VA=new ar;function wq(e){const t=e.clip;if(_t(t))t($m(VA.clear()));else if(t)VA.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(VA)}const qce=1e-9;function h6(e,t,n){return e===t?!0:n==="path"?Aq(e,t):e instanceof Date&&t instanceof Date?+e==+t:jt(e)&&jt(t)?Math.abs(e-t)<=qce:!e||!t||!qe(e)&&!qe(t)?e==t:Gce(e,t)}function Aq(e,t){return h6(yd(e),yd(t))}function Gce(e,t){var n=Object.keys(e),r=Object.keys(t),i,a;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),a=n.length-1;a>=0;a--)if(n[a]!=r[a])return!1;for(a=n.length-1;a>=0;a--)if(i=n[a],!h6(e[i],t[i],i))return!1;return typeof e==typeof t}function Vce(){oue(),ple()}const bd="top",Ms="left",Ns="right",mc="bottom",Xce="top-left",Wce="top-right",Yce="bottom-left",Kce="bottom-right",d6="start",n3="middle",Si="end",Qce="x",Zce="y",Bb="group",g6="axis",p6="title",Jce="frame",efe="scope",m6="legend",Tq="row-header",kq="row-footer",Cq="row-title",Fq="column-header",Dq="column-footer",Oq="column-title",tfe="padding",nfe="symbol",Mq="fit",Rq="fit-x",Nq="fit-y",rfe="pad",x6="none",qy="all",r3="each",y6="flush",Wu="column",Yu="row";function $q(e){ye.call(this,null,e)}Be($q,ye,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,a=Ma[i],s=a.bound;let o=r.bounds,u;if(a.nested)r.items.length&&n.dirty(r.items[0]),o=Gy(r,s),r.items.forEach(c=>{c.bounds.clear().union(o)});else if(i===Bb||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),o.clear(),r.items.forEach(c=>o.union(Gy(c,s))),r.role){case g6:case m6:case p6:t.reflow()}else u=t.changed(t.REM),t.visit(t.ADD,c=>{o.union(Gy(c,s))}),t.visit(t.MOD,c=>{u=u||o.alignsWith(c.bounds),n.dirty(c),o.union(Gy(c,s))}),u&&(o.clear(),r.items.forEach(c=>o.union(c.bounds)));return wq(r),t.modifies("bounds")}});function Gy(e,t,n){return t(e.bounds.clear(),e,n)}const w7=":vega_identifier:";function v6(e){ye.call(this,0,e)}v6.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Be(v6,ye,{transform(e,t){const n=ife(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,a=>a[r]=a[r]||++i),n.set(this.value=i),t}});function ife(e){return e._signals[w7]||(e._signals[w7]=e.add(0))}function Lq(e){ye.call(this,null,e)}Be(Lq,ye,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,afe(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===Bb?Db:Fb;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function afe(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function Iq(e){ye.call(this,null,e)}const A7={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!zq(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},zq=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),T7=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,a;n<r;i=a,++n)if(zq(i,a=e[n].bounds,t))return!0},sfe=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},ofe=(e,t,n)=>{var r=e.range(),i=new ar;return t===bd||t===mc?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),a=>i.encloses(a.bounds)},k7=e=>(e.forEach(t=>t.opacity=1),e),C7=(e,t)=>e.reflow(t.modified()).modifies("opacity");Be(Iq,ye,{transform(e,t){const n=A7[e.method]||A7.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,a,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(k7(i),t=C7(t,e)),t;if(i=i.filter(sfe),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),a=k7(i),t=C7(t,e),a.length>=3&&T7(a,r)){do a=n(a,r);while(a.length>=3&&T7(a,r));a.length<3&&!Nt(i).opacity&&(a.length>1&&(Nt(a).opacity=0),Nt(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=ofe(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(u=>{s(u)||(u.opacity=0)}));const o=a[0].mark.bounds.clear();return i.forEach(u=>{u.opacity&&o.union(u.bounds)}),t}});function Bq(e){ye.call(this,null,e)}Be(Bq,ye,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ei=new ar;function Hh(e,t,n){return e[t]===n?0:(e[t]=n,1)}function lfe(e){var t=e.items[0].orient;return t===Ms||t===Ns}function ufe(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function cfe(e,t,n,r){var i=t.items[0],a=i.datum,s=i.translate!=null?i.translate:.5,o=i.orient,u=ufe(a),c=i.range,h=i.offset,d=i.position,p=i.minExtent,m=i.maxExtent,y=a.title&&i.items[u[2]].items[0],v=i.titlePadding,_=i.bounds,E=y&&t6(y),w=0,A=0,k,D;switch(ei.clear().union(_),_.clear(),(k=u[0])>-1&&_.union(i.items[k].bounds),(k=u[1])>-1&&_.union(i.items[k].bounds),o){case bd:w=d||0,A=-h,D=Math.max(p,Math.min(m,-_.y1)),_.add(0,-D).add(c,0),y&&Vy(e,y,D,v,E,0,-1,_);break;case Ms:w=-h,A=d||0,D=Math.max(p,Math.min(m,-_.x1)),_.add(-D,0).add(0,c),y&&Vy(e,y,D,v,E,1,-1,_);break;case Ns:w=n+h,A=d||0,D=Math.max(p,Math.min(m,_.x2)),_.add(0,0).add(D,c),y&&Vy(e,y,D,v,E,1,1,_);break;case mc:w=d||0,A=r+h,D=Math.max(p,Math.min(m,_.y2)),_.add(0,0).add(c,D),y&&Vy(e,y,D,v,0,0,1,_);break;default:w=i.x,A=i.y}return Zl(_.translate(w,A),i),Hh(i,"x",w+s)|Hh(i,"y",A+s)&&(i.bounds=ei,e.dirty(i),i.bounds=_,e.dirty(i)),i.mark.bounds.clear().union(_)}function Vy(e,t,n,r,i,a,s,o){const u=t.bounds;if(t.auto){const c=s*(n+i+r);let h=0,d=0;e.dirty(t),a?h=(t.x||0)-(t.x=c):d=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(u.translate(-h,-d)),e.dirty(t)}o.union(u)}const F7=(e,t)=>Math.floor(Math.min(e,t)),D7=(e,t)=>Math.ceil(Math.max(e,t));function ffe(e){var t=e.items,n=t.length,r=0,i,a;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],a=i.items,i.marktype===Bb)switch(i.role){case g6:case m6:case p6:break;case Tq:s.rowheaders.push(...a);break;case kq:s.rowfooters.push(...a);break;case Fq:s.colheaders.push(...a);break;case Dq:s.colfooters.push(...a);break;case Cq:s.rowtitle=a[0];break;case Oq:s.coltitle=a[0];break;default:s.marks.push(...a)}return s}function hfe(e){return new ar().set(0,0,e.width||0,e.height||0)}function dfe(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function Tn(e,t,n){const r=qe(e)?e[t]:e;return r??(n!==void 0?n:0)}function O7(e){return e<0?Math.ceil(-e):0}function Pq(e,t,n){var r=!n.nodirty,i=n.bounds===y6?hfe:dfe,a=ei.set(0,0,0,0),s=Tn(n.align,Wu),o=Tn(n.align,Yu),u=Tn(n.padding,Wu),c=Tn(n.padding,Yu),h=n.columns||t.length,d=h<=0?1:Math.ceil(t.length/h),p=t.length,m=Array(p),y=Array(h),v=0,_=Array(p),E=Array(d),w=0,A=Array(p),k=Array(p),D=Array(p),O,T,F,C,N,L,I,Q,J,H,z;for(T=0;T<h;++T)y[T]=0;for(T=0;T<d;++T)E[T]=0;for(T=0;T<p;++T)L=t[T],N=D[T]=i(L),L.x=L.x||0,A[T]=0,L.y=L.y||0,k[T]=0,F=T%h,C=~~(T/h),v=Math.max(v,I=Math.ceil(N.x2)),w=Math.max(w,Q=Math.ceil(N.y2)),y[F]=Math.max(y[F],I),E[C]=Math.max(E[C],Q),m[T]=u+O7(N.x1),_[T]=c+O7(N.y1),r&&e.dirty(t[T]);for(T=0;T<p;++T)T%h===0&&(m[T]=0),T<h&&(_[T]=0);if(s===r3)for(F=1;F<h;++F){for(z=0,T=F;T<p;T+=h)z<m[T]&&(z=m[T]);for(T=F;T<p;T+=h)m[T]=z+y[F-1]}else if(s===qy){for(z=0,T=0;T<p;++T)T%h&&z<m[T]&&(z=m[T]);for(T=0;T<p;++T)T%h&&(m[T]=z+v)}else for(s=!1,F=1;F<h;++F)for(T=F;T<p;T+=h)m[T]+=y[F-1];if(o===r3)for(C=1;C<d;++C){for(z=0,T=C*h,O=T+h;T<O;++T)z<_[T]&&(z=_[T]);for(T=C*h;T<O;++T)_[T]=z+E[C-1]}else if(o===qy){for(z=0,T=h;T<p;++T)z<_[T]&&(z=_[T]);for(T=h;T<p;++T)_[T]=z+w}else for(o=!1,C=1;C<d;++C)for(T=C*h,O=T+h;T<O;++T)_[T]+=E[C-1];for(J=0,T=0;T<p;++T)J=m[T]+(T%h?J:0),A[T]+=J-t[T].x;for(F=0;F<h;++F)for(H=0,T=F;T<p;T+=h)H+=_[T],k[T]+=H-t[T].y;if(s&&Tn(n.center,Wu)&&d>1)for(T=0;T<p;++T)N=s===qy?v:y[T%h],J=N-D[T].x2-t[T].x-A[T],J>0&&(A[T]+=J/2);if(o&&Tn(n.center,Yu)&&h!==1)for(T=0;T<p;++T)N=o===qy?w:E[~~(T/h)],H=N-D[T].y2-t[T].y-k[T],H>0&&(k[T]+=H/2);for(T=0;T<p;++T)a.union(D[T].translate(A[T],k[T]));switch(J=Tn(n.anchor,Qce),H=Tn(n.anchor,Zce),Tn(n.anchor,Wu)){case Si:J-=a.width();break;case n3:J-=a.width()/2}switch(Tn(n.anchor,Yu)){case Si:H-=a.height();break;case n3:H-=a.height()/2}for(J=Math.round(J),H=Math.round(H),a.clear(),T=0;T<p;++T)t[T].mark.bounds.clear();for(T=0;T<p;++T)L=t[T],L.x+=A[T]+=J,L.y+=k[T]+=H,a.union(L.mark.bounds.union(L.bounds.translate(A[T],k[T]))),r&&e.dirty(L);return a}function gfe(e,t,n){var r=ffe(t),i=r.marks,a=n.bounds===y6?pfe:mfe,s=n.offset,o=n.columns||i.length,u=o<=0?1:Math.ceil(i.length/o),c=u*o,h,d,p,m,y,v,_;const E=Pq(e,i,n);E.empty()&&E.set(0,0,0,0),r.rowheaders&&(v=Tn(n.headerBand,Yu,null),h=Xy(e,r.rowheaders,i,o,u,-Tn(s,"rowHeader"),F7,0,a,"x1",0,o,1,v)),r.colheaders&&(v=Tn(n.headerBand,Wu,null),d=Xy(e,r.colheaders,i,o,o,-Tn(s,"columnHeader"),F7,1,a,"y1",0,1,o,v)),r.rowfooters&&(v=Tn(n.footerBand,Yu,null),p=Xy(e,r.rowfooters,i,o,u,Tn(s,"rowFooter"),D7,0,a,"x2",o-1,o,1,v)),r.colfooters&&(v=Tn(n.footerBand,Wu,null),m=Xy(e,r.colfooters,i,o,o,Tn(s,"columnFooter"),D7,1,a,"y2",c-o,1,o,v)),r.rowtitle&&(y=Tn(n.titleAnchor,Yu),_=Tn(s,"rowTitle"),_=y===Si?p+_:h-_,v=Tn(n.titleBand,Yu,.5),M7(e,r.rowtitle,_,0,E,v)),r.coltitle&&(y=Tn(n.titleAnchor,Wu),_=Tn(s,"columnTitle"),_=y===Si?m+_:d-_,v=Tn(n.titleBand,Wu,.5),M7(e,r.coltitle,_,1,E,v))}function pfe(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function mfe(e,t){return e.bounds[t]}function Xy(e,t,n,r,i,a,s,o,u,c,h,d,p,m){var y=n.length,v=0,_=0,E,w,A,k,D,O,T,F,C;if(!y)return v;for(E=h;E<y;E+=d)n[E]&&(v=s(v,u(n[E],c)));if(!t.length)return v;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),v+=a,w=0,k=t.length;w<k;++w)e.dirty(t[w]),t[w].mark.bounds.clear();for(E=h,w=0,k=t.length;w<k;++w,E+=d){for(O=t[w],D=O.mark.bounds,A=E;A>=0&&(T=n[A])==null;A-=p);o?(F=m==null?T.x:Math.round(T.bounds.x1+m*T.bounds.width()),C=v):(F=v,C=m==null?T.y:Math.round(T.bounds.y1+m*T.bounds.height())),D.union(O.bounds.translate(F-(O.x||0),C-(O.y||0))),O.x=F,O.y=C,e.dirty(O),_=s(_,D[c])}return _}function M7(e,t,n,r,i,a){if(t){e.dirty(t);var s=n,o=n;r?s=Math.round(i.x1+a*i.width()):o=Math.round(i.y1+a*i.height()),t.bounds.translate(s-(t.x||0),o-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=o,e.dirty(t)}}function xfe(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function yfe(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function vfe(e,t,n,r,i,a,s){const o=xfe(n,t),u=yfe(e,o("offset",0)),c=o("anchor",d6),h=c===Si?1:c===n3?.5:0,d={align:r3,bounds:o("bounds",y6),columns:o("direction")==="vertical"?1:e.length,padding:o("margin",8),center:o("center"),nodirty:!0};switch(t){case Ms:d.anchor={x:Math.floor(r.x1)-u,column:Si,y:h*(s||r.height()+2*r.y1),row:c};break;case Ns:d.anchor={x:Math.ceil(r.x2)+u,y:h*(s||r.height()+2*r.y1),row:c};break;case bd:d.anchor={y:Math.floor(i.y1)-u,row:Si,x:h*(a||i.width()+2*i.x1),column:c};break;case mc:d.anchor={y:Math.ceil(i.y2)+u,x:h*(a||i.width()+2*i.x1),column:c};break;case Xce:d.anchor={x:u,y:u};break;case Wce:d.anchor={x:a-u,y:u,column:Si};break;case Yce:d.anchor={x:u,y:s-u,row:Si};break;case Kce:d.anchor={x:a-u,y:s-u,column:Si,row:Si};break}return d}function _fe(e,t){var n=t.items[0],r=n.datum,i=n.orient,a=n.bounds,s=n.x,o=n.y,u,c;return n._bounds?n._bounds.clear().union(a):n._bounds=a.clone(),a.clear(),Efe(e,n,n.items[0].items[0]),a=bfe(n,a),u=2*n.padding,c=2*n.padding,a.empty()||(u=Math.ceil(a.width()+u),c=Math.ceil(a.height()+c)),r.type===nfe&&Sfe(n.items[0].items[0].items[0].items),i!==x6&&(n.x=s=0,n.y=o=0),n.width=u,n.height=c,Zl(a.set(s,o,s+u,o+c),n),n.mark.bounds.clear().union(a),n}function bfe(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function Efe(e,t,n){var r=t.padding,i=r-n.x,a=r-n.y;if(!t.datum.title)(i||a)&&w1(e,n,i,a);else{var s=t.items[1].items[0],o=s.anchor,u=t.titlePadding||0,c=r-s.x,h=r-s.y;switch(s.orient){case Ms:i+=Math.ceil(s.bounds.width())+u;break;case Ns:case mc:break;default:a+=s.bounds.height()+u}switch((i||a)&&w1(e,n,i,a),s.orient){case Ms:h+=Th(t,n,s,o,1,1);break;case Ns:c+=Th(t,n,s,Si,0,0)+u,h+=Th(t,n,s,o,1,1);break;case mc:c+=Th(t,n,s,o,0,0),h+=Th(t,n,s,Si,-1,0,1)+u;break;default:c+=Th(t,n,s,o,0,0)}(c||h)&&w1(e,s,c,h),(c=Math.round(s.bounds.x1-r))<0&&(w1(e,n,-c,0),w1(e,s,-c,0))}}function Th(e,t,n,r,i,a,s){const o=e.datum.type!=="symbol",u=n.datum.vgrad,c=o&&(a||!u)&&!s?t.items[0]:t,h=c.bounds[i?"y2":"x2"]-e.padding,d=u&&a?h:0,p=u&&a?0:h,m=i<=0?0:t6(n);return Math.round(r===d6?d:r===Si?p-m:.5*(h-m))}function w1(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Sfe(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function wfe(e,t,n,r,i){var a=t.items[0],s=a.frame,o=a.orient,u=a.anchor,c=a.offset,h=a.padding,d=a.items[0].items[0],p=a.items[1]&&a.items[1].items[0],m=o===Ms||o===Ns?r:n,y=0,v=0,_=0,E=0,w=0,A;if(s!==Bb?o===Ms?(y=i.y2,m=i.y1):o===Ns?(y=i.y1,m=i.y2):(y=i.x1,m=i.x2):o===Ms&&(y=r,m=0),A=u===d6?y:u===Si?m:(y+m)/2,p&&p.text){switch(o){case bd:case mc:w=d.bounds.height()+h;break;case Ms:E=d.bounds.width()+h;break;case Ns:E=-d.bounds.width()-h;break}ei.clear().union(p.bounds),ei.translate(E-(p.x||0),w-(p.y||0)),Hh(p,"x",E)|Hh(p,"y",w)&&(e.dirty(p),p.bounds.clear().union(ei),p.mark.bounds.clear().union(ei),e.dirty(p)),ei.clear().union(p.bounds)}else ei.clear();switch(ei.union(d.bounds),o){case bd:v=A,_=i.y1-ei.height()-c;break;case Ms:v=i.x1-ei.width()-c,_=A;break;case Ns:v=i.x2+ei.width()+c,_=A;break;case mc:v=A,_=i.y2+c;break;default:v=a.x,_=a.y}return Hh(a,"x",v)|Hh(a,"y",_)&&(ei.translate(v,_),e.dirty(a),a.bounds.clear().union(ei),t.bounds.clear().union(ei),e.dirty(a)),a.bounds}function Uq(e){ye.call(this,null,e)}Be(Uq,ye,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&gfe(n,r,e.layout),Tfe(n,r,e)}),Afe(e.mark.group)?t.reflow():t}});function Afe(e){return e&&e.mark.role!=="legend-entry"}function Tfe(e,t,n){var r=t.items,i=Math.max(0,t.width||0),a=Math.max(0,t.height||0),s=new ar().set(0,0,i,a),o=s.clone(),u=s.clone(),c=[],h,d,p,m,y,v;for(y=0,v=r.length;y<v;++y)switch(d=r[y],d.role){case g6:m=lfe(d)?o:u,m.union(cfe(e,d,i,a));break;case p6:h=d;break;case m6:c.push(_fe(e,d));break;case Jce:case efe:case Tq:case kq:case Cq:case Fq:case Dq:case Oq:o.union(d.bounds),u.union(d.bounds);break;default:s.union(d.bounds)}if(c.length){const _={};c.forEach(E=>{p=E.orient||Ns,p!==x6&&(_[p]||(_[p]=[])).push(E)});for(const E in _){const w=_[E];Pq(e,w,vfe(w,E,n.legends,o,u,i,a))}c.forEach(E=>{const w=E.bounds;if(w.equals(E._bounds)||(E.bounds=E._bounds,e.dirty(E),E.bounds=w,e.dirty(E)),n.autosize&&(n.autosize.type===Mq||n.autosize.type===Rq||n.autosize.type===Nq))switch(E.orient){case Ms:case Ns:s.add(w.x1,0).add(w.x2,0);break;case bd:case mc:s.add(0,w.y1).add(0,w.y2)}else s.union(w)})}s.union(o).union(u),h&&s.union(wfe(e,h,i,a,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),kfe(e,t,s,n)}function kfe(e,t,n,r){const i=r.autosize||{},a=i.type;if(e._autosize<1||!a)return;let s=e._width,o=e._height,u=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),h=Math.max(0,t.height||0),d=Math.max(0,Math.ceil(-n.y1));const p=Math.max(0,Math.ceil(n.x2-u)),m=Math.max(0,Math.ceil(n.y2-h));if(i.contains===tfe){const y=e.padding();s-=y.left+y.right,o-=y.top+y.bottom}a===x6?(c=0,d=0,u=s,h=o):a===Mq?(u=Math.max(0,s-c-p),h=Math.max(0,o-d-m)):a===Rq?(u=Math.max(0,s-c-p),o=h+d+m):a===Nq?(s=u+c+p,h=Math.max(0,o-d-m)):a===rfe&&(s=u+c+p,o=h+d+m),e._resizeView(s,o,u,h,[c,d],i.resize)}const Cfe=Object.freeze(Object.defineProperty({__proto__:null,bound:$q,identifier:v6,mark:Lq,overlap:Iq,render:Bq,viewlayout:Uq},Symbol.toStringTag,{value:"Module"}));function Hq(e){ye.call(this,null,e)}Be(Hq,ye,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,o=IF(a,s,e.minstep),u=e.format||mj(n,a,o,e.formatSpecifier,e.formatType,!!e.values),c=e.values?pj(a,e.values,o):zF(a,o);return i&&(r.rem=i),i=c.map((h,d)=>Wt({index:d/(c.length-1||1),value:h,label:u(h)})),e.extra&&i.length&&i.push(Wt({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function jq(e){ye.call(this,null,e)}function Ffe(){return Wt({})}function Dfe(e){const t=Wd().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Be(jq,ye,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Ffe,a=e.key||it,s=this.value;return Ae(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(a))&&be("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=Dfe(a)),t.visit(t.ADD,o=>{const u=a(o);let c=s.get(u);c?c.exit?(s.empty--,r.add.push(c)):r.mod.push(c):(c=i(o),s.set(u,c),r.add.push(c)),c.datum=o,c.exit=!1}),t.visit(t.MOD,o=>{const u=a(o),c=s.get(u);c&&(c.datum=o,r.mod.push(c))}),t.visit(t.REM,o=>{const u=a(o),c=s.get(u);o===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function qq(e){ye.call(this,null,e)}Be(qq,ye,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,a=t.encode;if(Ae(a))if(n.changed()||a.every(d=>i[d]))a=a[0],n.encode=null;else return t.StopPropagation;var s=a==="enter",o=i.update||Nu,u=i.enter||Nu,c=i.exit||Nu,h=(a&&!s?i[a]:o)||Nu;if(t.changed(t.ADD)&&(t.visit(t.ADD,d=>{u(d,e),o(d,e)}),n.modifies(u.output),n.modifies(o.output),h!==Nu&&h!==o&&(t.visit(t.ADD,d=>{h(d,e)}),n.modifies(h.output))),t.changed(t.REM)&&c!==Nu&&(t.visit(t.REM,d=>{c(d,e)}),n.modifies(c.output)),s||h!==Nu){const d=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(d,p=>{const m=u(p,e)||r;(h(p,e)||m)&&n.mod.push(p)}),n.mod.length&&n.modifies(u.output)):t.visit(d,p=>{(h(p,e)||r)&&n.mod.push(p)}),n.mod.length&&n.modifies(h.output)}return n.changed()?n:t.StopPropagation}});function Gq(e){ye.call(this,[],e)}Be(Gq,ye,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,a=e.type||Mv,s=e.scale,o=+e.limit,u=IF(s,e.count==null?5:e.count,e.minstep),c=!!e.values||a===Mv,h=e.format||_j(n,s,u,a,e.formatSpecifier,e.formatType,c),d=e.values||vj(s,u),p,m,y,v,_;return i&&(r.rem=i),a===Mv?(o&&d.length>o?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=d.slice(0,o-1),_=!0):i=d,_t(y=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),v=i.reduce((E,w)=>Math.max(E,y(w,e)),0)):y=gi(v=y||8),i=i.map((E,w)=>Wt({index:w,label:h(E,w,i),value:E,offset:v,size:y(E,e)})),_&&(_=d[i.length],i.push(Wt({index:i.length,label:`${d.length-i.length} entries`,value:_,offset:v,size:y(_,e)})))):a===nle?(p=s.domain(),m=hj(s,p[0],Nt(p)),d.length<3&&!e.values&&p[0]!==Nt(p)&&(d=[p[0],Nt(p)]),i=d.map((E,w)=>Wt({index:w,label:h(E,w,d),value:E,perc:m(E)}))):(y=d.length-1,m=dle(s),i=d.map((E,w)=>Wt({index:w,label:h(E,w,d),value:E,perc:w?m(E):0,perc2:w===y?1:m(d[w+1])}))),r.source=i,r.add=i,this.value=i,r}});const Ofe=e=>e.source.x,Mfe=e=>e.source.y,Rfe=e=>e.target.x,Nfe=e=>e.target.y;function _6(e){ye.call(this,{},e)}_6.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Be(_6,ye,{transform(e,t){var n=e.sourceX||Ofe,r=e.sourceY||Mfe,i=e.targetX||Rfe,a=e.targetY||Nfe,s=e.as||"path",o=e.orient||"vertical",u=e.shape||"line",c=R7.get(u+"-"+o)||R7.get(u);return c||be("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,h=>{h[s]=c(n(h),r(h),i(h),a(h))}),t.reflow(e.modified()).modifies(s)}});const Vq=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,$fe=(e,t,n,r)=>Vq(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Xq=(e,t,n,r)=>{var i=n-e,a=r-t,s=Math.hypot(i,a)/2,o=180*Math.atan2(a,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+o+" 0 1 "+n+","+r},Lfe=(e,t,n,r)=>Xq(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Wq=(e,t,n,r)=>{const i=n-e,a=r-t,s=.2*(i+a),o=.2*(a-i);return"M"+e+","+t+"C"+(e+s)+","+(t+o)+" "+(n+o)+","+(r-s)+" "+n+","+r},Ife=(e,t,n,r)=>Wq(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),zfe=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Bfe=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,Pfe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),s=Math.cos(n),o=Math.sin(n),u=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*a+"A"+t+","+t+" 0 0,"+(u?1:0)+" "+t*s+","+t*o+"L"+r*s+","+r*o},Ufe=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},Hfe=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},jfe=(e,t,n,r)=>{const i=Math.cos(e),a=Math.sin(e),s=Math.cos(n),o=Math.sin(n),u=(t+r)/2;return"M"+t*i+","+t*a+"C"+u*i+","+u*a+" "+u*s+","+u*o+" "+r*s+","+r*o},R7=Wd({line:Vq,"line-radial":$fe,arc:Xq,"arc-radial":Lfe,curve:Wq,"curve-radial":Ife,"orthogonal-horizontal":zfe,"orthogonal-vertical":Bfe,"orthogonal-radial":Pfe,"diagonal-horizontal":Ufe,"diagonal-vertical":Hfe,"diagonal-radial":jfe});function b6(e){ye.call(this,null,e)}b6.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Be(b6,ye,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],a=e.field||qd,s=e.startAngle||0,o=e.endAngle!=null?e.endAngle:2*Math.PI,u=t.source,c=u.map(a),h=c.length,d=s,p=(o-s)/uP(c),m=Sa(h),y,v,_;for(e.sort&&m.sort((E,w)=>c[E]-c[w]),y=0;y<h;++y)_=c[m[y]],v=u[m[y]],v[r]=d,v[i]=d+=_*p;return this.value=c,t.reflow(e.modified()).modifies(n)}});const qfe=5;function Gfe(e){const t=e.type;return!e.bins&&(t===pd||t===Cm||t===Fm)}function Yq(e){return NF(e)&&e!==To}const Vfe=js(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function Kq(e){ye.call(this,null,e),this.modified(!0)}Be(Kq,ye,{transform(e,t){var n=t.dataflow,r=this.value,i=Xfe(e);(!r||i!==r.type)&&(this.value=r=Gt(i)());for(i in e)if(!Vfe[i]){if(i==="padding"&&Yq(r.type))continue;_t(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return Jfe(r,e,Zfe(r,e,Yfe(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Xfe(e){var t=e.type,n="",r;return t===To?To+"-"+pd:(Wfe(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?To+"-":r===3?ng+"-":""),(n+t||pd).toLowerCase())}function Wfe(e){const t=e.type;return NF(t)&&t!==Xf&&t!==Wf&&(e.scheme||e.range&&e.range.length&&e.range.every(Ge))}function Yfe(e,t,n){const r=Kfe(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,a=e.type,s=t.zero||t.zero===void 0&&Gfe(e),o,u;if(!i)return 0;if((s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(o=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[o]<0&&(i[o]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[o]=t.domainMax),t.domainMid!=null)){u=t.domainMid;const c=u>i[o]?o+1:u<i[0]?0:o;c!==o&&n.warn("Scale domainMid exceeds domain min or max.",u),i.splice(c,0,u)}return Yq(a)&&t.padding&&i[0]!==Nt(i)&&(i=Qfe(a,i,t.range,t.padding,t.exponent,t.constant)),e.domain(Qq(a,i,n)),a===DF&&e.unknown(t.domainImplicit?Lk:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&IF(e,t.nice)||null),i.length}function Kfe(e,t,n){return t?(e.domain(Qq(e.type,t,n)),t.length):-1}function Qfe(e,t,n,r,i,a){var s=Math.abs(Nt(n)-n[0]),o=s/(s-2*r),u=e===Vl?Q4(t,null,o):e===Fm?r2(t,null,o,.5):e===Cm?r2(t,null,o,i||1):e===wb?Z4(t,null,o,a||1):K4(t,null,o);return t=t.slice(),t[0]=u[0],t[t.length-1]=u[1],t}function Qq(e,t,n){if(oj(e)){var r=Math.abs(t.reduce((i,a)=>i+(a<0?-1:a>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+ze(t))}return t}function Zfe(e,t,n){let r=t.bins;if(r&&!Ae(r)){const i=e.domain(),a=i[0],s=Nt(i),o=r.step;let u=r.start==null?a:r.start,c=r.stop==null?s:r.stop;o||be("Scale bins parameter missing step property."),u<a&&(u=o*Math.ceil(a/o)),c>s&&(c=o*Math.floor(s/o)),r=Sa(u,c+o/2,o)}return r?e.bins=r:e.bins&&delete e.bins,e.type===OF&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function Jfe(e,t,n){var r=e.type,i=t.round||!1,a=t.range;if(t.rangeStep!=null)a=e0e(r,t,n);else if(t.scheme&&(a=t0e(r,t,n),_t(a))){if(e.interpolator)return e.interpolator(a);be(`Scale type ${r} does not support interpolating color schemes.`)}if(a&&lj(r))return e.interpolator(kb(i3(a,t.reverse),t.interpolate,t.interpolateGamma));a&&t.interpolate&&e.interpolate?e.interpolate($F(t.interpolate,t.interpolateGamma)):_t(e.round)?e.round(i):_t(e.rangeRound)&&e.interpolate(i?Tm:Cc),a&&e.range(i3(a,t.reverse))}function e0e(e,t,n){e!==tj&&e!==jk&&be("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===jk?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*FF(n,i,r)]}function t0e(e,t,n){var r=t.schemeExtent,i,a;return Ae(t.scheme)?a=kb(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),a=LF(i),a||be(`Unrecognized scheme name: ${t.scheme}`)),n=e===Tb?n+1:e===OF?n-1:e===md||e===Ab?+t.schemeCount||qfe:n,lj(e)?N7(a,r,t.reverse):_t(a)?fj(N7(a,r),n):e===DF?a:a.slice(0,n)}function N7(e,t,n){return _t(e)&&(t||n)?cj(e,i3(t||[0,1],n)):e}function i3(e,t){return t?e.slice().reverse():e}function Zq(e){ye.call(this,null,e)}Be(Zq,ye,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(y0(e.sort)),this.modified(n),t}});const $7="zero",Jq="center",eG="normalize",tG=["y0","y1"];function E6(e){ye.call(this,null,e)}E6.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:$7,values:[$7,Jq,eG]},{name:"as",type:"string",array:!0,length:2,default:tG}]};Be(E6,ye,{transform(e,t){var n=e.as||tG,r=n[0],i=n[1],a=y0(e.sort),s=e.field||qd,o=e.offset===Jq?n0e:e.offset===eG?r0e:i0e,u,c,h,d;for(u=a0e(t.source,e.groupby,a,s),c=0,h=u.length,d=u.max;c<h;++c)o(u[c],d,s,r,i);return t.reflow(e.modified()).modifies(n)}});function n0e(e,t,n,r,i){for(var a=(t-e.sum)/2,s=e.length,o=0,u;o<s;++o)u=e[o],u[r]=a,u[i]=a+=Math.abs(n(u))}function r0e(e,t,n,r,i){for(var a=1/e.sum,s=0,o=e.length,u=0,c=0,h;u<o;++u)h=e[u],h[r]=s,h[i]=s=a*(c+=Math.abs(n(h)))}function i0e(e,t,n,r,i){for(var a=0,s=0,o=e.length,u=0,c,h;u<o;++u)h=e[u],c=+n(h),c<0?(h[r]=s,h[i]=s+=c):(h[r]=a,h[i]=a+=c)}function a0e(e,t,n,r){var i=[],a=v=>v(h),s,o,u,c,h,d,p,m,y;if(t==null)i.push(e.slice());else for(s={},o=0,u=e.length;o<u;++o)h=e[o],d=t.map(a),p=s[d],p||(s[d]=p=[],i.push(p)),p.push(h);for(d=0,y=0,c=i.length;d<c;++d){for(p=i[d],o=0,m=0,u=p.length;o<u;++o)m+=Math.abs(r(p[o]));p.sum=m,m>y&&(y=m),n&&p.sort(n)}return i.max=y,i}const s0e=Object.freeze(Object.defineProperty({__proto__:null,axisticks:Hq,datajoin:jq,encode:qq,legendentries:Gq,linkpath:_6,pie:b6,scale:Kq,sortitems:Zq,stack:E6},Symbol.toStringTag,{value:"Module"}));var ot=1e-6,N2=1e-12,wt=Math.PI,Pn=wt/2,$2=wt/4,Li=wt*2,Vn=180/wt,St=wt/180,Rt=Math.abs,ig=Math.atan,cs=Math.atan2,lt=Math.cos,Wy=Math.ceil,nG=Math.exp,a3=Math.hypot,L2=Math.log,XA=Math.pow,at=Math.sin,ts=Math.sign||function(e){return e>0?1:e<0?-1:0},Ii=Math.sqrt,S6=Math.tan;function rG(e){return e>1?0:e<-1?wt:Math.acos(e)}function ia(e){return e>1?Pn:e<-1?-Pn:Math.asin(e)}function Pr(){}function I2(e,t){e&&I7.hasOwnProperty(e.type)&&I7[e.type](e,t)}var L7={Feature:function(e,t){I2(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)I2(n[r].geometry,t)}},I7={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){s3(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)s3(n[r],t,0)},Polygon:function(e,t){z7(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)z7(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)I2(n[r],t)}};function s3(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function z7(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)s3(e[n],t,1);t.polygonEnd()}function Tl(e,t){e&&L7.hasOwnProperty(e.type)?L7[e.type](e,t):I2(e,t)}var z2=new Ri,B2=new Ri,iG,aG,o3,l3,u3,No={point:Pr,lineStart:Pr,lineEnd:Pr,polygonStart:function(){z2=new Ri,No.lineStart=o0e,No.lineEnd=l0e},polygonEnd:function(){var e=+z2;B2.add(e<0?Li+e:e),this.lineStart=this.lineEnd=this.point=Pr},sphere:function(){B2.add(Li)}};function o0e(){No.point=u0e}function l0e(){sG(iG,aG)}function u0e(e,t){No.point=sG,iG=e,aG=t,e*=St,t*=St,o3=e,l3=lt(t=t/2+$2),u3=at(t)}function sG(e,t){e*=St,t*=St,t=t/2+$2;var n=e-o3,r=n>=0?1:-1,i=r*n,a=lt(t),s=at(t),o=u3*s,u=l3*a+o*lt(i),c=o*r*at(i);z2.add(cs(c,u)),o3=e,l3=a,u3=s}function c0e(e){return B2=new Ri,Tl(e,No),B2*2}function P2(e){return[cs(e[1],e[0]),ia(e[2])]}function Kf(e){var t=e[0],n=e[1],r=lt(n);return[r*lt(t),r*at(t),at(n)]}function Yy(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ed(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function WA(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Ky(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function U2(e){var t=Ii(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var On,Zi,In,va,_f,oG,lG,Qh,gp,Bu,Xl,wl={point:c3,lineStart:B7,lineEnd:P7,polygonStart:function(){wl.point=cG,wl.lineStart=f0e,wl.lineEnd=h0e,gp=new Ri,No.polygonStart()},polygonEnd:function(){No.polygonEnd(),wl.point=c3,wl.lineStart=B7,wl.lineEnd=P7,z2<0?(On=-(In=180),Zi=-(va=90)):gp>ot?va=90:gp<-ot&&(Zi=-90),Xl[0]=On,Xl[1]=In},sphere:function(){On=-(In=180),Zi=-(va=90)}};function c3(e,t){Bu.push(Xl=[On=e,In=e]),t<Zi&&(Zi=t),t>va&&(va=t)}function uG(e,t){var n=Kf([e*St,t*St]);if(Qh){var r=Ed(Qh,n),i=[r[1],-r[0],0],a=Ed(i,r);U2(a),a=P2(a);var s=e-_f,o=s>0?1:-1,u=a[0]*Vn*o,c,h=Rt(s)>180;h^(o*_f<u&&u<o*e)?(c=a[1]*Vn,c>va&&(va=c)):(u=(u+360)%360-180,h^(o*_f<u&&u<o*e)?(c=-a[1]*Vn,c<Zi&&(Zi=c)):(t<Zi&&(Zi=t),t>va&&(va=t))),h?e<_f?ya(On,e)>ya(On,In)&&(In=e):ya(e,In)>ya(On,In)&&(On=e):In>=On?(e<On&&(On=e),e>In&&(In=e)):e>_f?ya(On,e)>ya(On,In)&&(In=e):ya(e,In)>ya(On,In)&&(On=e)}else Bu.push(Xl=[On=e,In=e]);t<Zi&&(Zi=t),t>va&&(va=t),Qh=n,_f=e}function B7(){wl.point=uG}function P7(){Xl[0]=On,Xl[1]=In,wl.point=c3,Qh=null}function cG(e,t){if(Qh){var n=e-_f;gp.add(Rt(n)>180?n+(n>0?360:-360):n)}else oG=e,lG=t;No.point(e,t),uG(e,t)}function f0e(){No.lineStart()}function h0e(){cG(oG,lG),No.lineEnd(),Rt(gp)>ot&&(On=-(In=180)),Xl[0]=On,Xl[1]=In,Qh=null}function ya(e,t){return(t-=e)<0?t+360:t}function d0e(e,t){return e[0]-t[0]}function U7(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function g0e(e){var t,n,r,i,a,s,o;if(va=In=-(On=Zi=1/0),Bu=[],Tl(e,wl),n=Bu.length){for(Bu.sort(d0e),t=1,r=Bu[0],a=[r];t<n;++t)i=Bu[t],U7(r,i[0])||U7(r,i[1])?(ya(r[0],i[1])>ya(r[0],r[1])&&(r[1]=i[1]),ya(i[0],r[1])>ya(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(s=-1/0,n=a.length-1,t=0,r=a[n];t<=n;r=i,++t)i=a[t],(o=ya(r[1],i[0]))>s&&(s=o,On=i[0],In=r[1])}return Bu=Xl=null,On===1/0||Zi===1/0?[[NaN,NaN],[NaN,NaN]]:[[On,Zi],[In,va]]}var X1,H2,j2,q2,G2,V2,X2,W2,f3,h3,d3,fG,hG,Ai,Ti,ki,$s={sphere:Pr,point:w6,lineStart:H7,lineEnd:j7,polygonStart:function(){$s.lineStart=x0e,$s.lineEnd=y0e},polygonEnd:function(){$s.lineStart=H7,$s.lineEnd=j7}};function w6(e,t){e*=St,t*=St;var n=lt(t);Um(n*lt(e),n*at(e),at(t))}function Um(e,t,n){++X1,j2+=(e-j2)/X1,q2+=(t-q2)/X1,G2+=(n-G2)/X1}function H7(){$s.point=p0e}function p0e(e,t){e*=St,t*=St;var n=lt(t);Ai=n*lt(e),Ti=n*at(e),ki=at(t),$s.point=m0e,Um(Ai,Ti,ki)}function m0e(e,t){e*=St,t*=St;var n=lt(t),r=n*lt(e),i=n*at(e),a=at(t),s=cs(Ii((s=Ti*a-ki*i)*s+(s=ki*r-Ai*a)*s+(s=Ai*i-Ti*r)*s),Ai*r+Ti*i+ki*a);H2+=s,V2+=s*(Ai+(Ai=r)),X2+=s*(Ti+(Ti=i)),W2+=s*(ki+(ki=a)),Um(Ai,Ti,ki)}function j7(){$s.point=w6}function x0e(){$s.point=v0e}function y0e(){dG(fG,hG),$s.point=w6}function v0e(e,t){fG=e,hG=t,e*=St,t*=St,$s.point=dG;var n=lt(t);Ai=n*lt(e),Ti=n*at(e),ki=at(t),Um(Ai,Ti,ki)}function dG(e,t){e*=St,t*=St;var n=lt(t),r=n*lt(e),i=n*at(e),a=at(t),s=Ti*a-ki*i,o=ki*r-Ai*a,u=Ai*i-Ti*r,c=a3(s,o,u),h=ia(c),d=c&&-h/c;f3.add(d*s),h3.add(d*o),d3.add(d*u),H2+=h,V2+=h*(Ai+(Ai=r)),X2+=h*(Ti+(Ti=i)),W2+=h*(ki+(ki=a)),Um(Ai,Ti,ki)}function _0e(e){X1=H2=j2=q2=G2=V2=X2=W2=0,f3=new Ri,h3=new Ri,d3=new Ri,Tl(e,$s);var t=+f3,n=+h3,r=+d3,i=a3(t,n,r);return i<N2&&(t=V2,n=X2,r=W2,H2<ot&&(t=j2,n=q2,r=G2),i=a3(t,n,r),i<N2)?[NaN,NaN]:[cs(n,t)*Vn,ia(r/i)*Vn]}function g3(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function p3(e,t){return Rt(e)>wt&&(e-=Math.round(e/Li)*Li),[e,t]}p3.invert=p3;function gG(e,t,n){return(e%=Li)?t||n?g3(G7(e),V7(t,n)):G7(e):t||n?V7(t,n):p3}function q7(e){return function(t,n){return t+=e,Rt(t)>wt&&(t-=Math.round(t/Li)*Li),[t,n]}}function G7(e){var t=q7(e);return t.invert=q7(-e),t}function V7(e,t){var n=lt(e),r=at(e),i=lt(t),a=at(t);function s(o,u){var c=lt(u),h=lt(o)*c,d=at(o)*c,p=at(u),m=p*n+h*r;return[cs(d*i-m*a,h*n-p*r),ia(m*i+d*a)]}return s.invert=function(o,u){var c=lt(u),h=lt(o)*c,d=at(o)*c,p=at(u),m=p*i-d*a;return[cs(d*i+p*a,h*n+m*r),ia(m*n-h*r)]},s}function b0e(e){e=gG(e[0]*St,e[1]*St,e.length>2?e[2]*St:0);function t(n){return n=e(n[0]*St,n[1]*St),n[0]*=Vn,n[1]*=Vn,n}return t.invert=function(n){return n=e.invert(n[0]*St,n[1]*St),n[0]*=Vn,n[1]*=Vn,n},t}function E0e(e,t,n,r,i,a){if(n){var s=lt(t),o=at(t),u=r*n;i==null?(i=t+r*Li,a=t-u/2):(i=X7(s,i),a=X7(s,a),(r>0?i<a:i>a)&&(i+=r*Li));for(var c,h=i;r>0?h>a:h<a;h-=u)c=P2([s,-o*lt(h),-o*at(h)]),e.point(c[0],c[1])}}function X7(e,t){t=Kf(t),t[0]-=e,U2(t);var n=rG(-t[1]);return((-t[2]<0?-n:n)+Li-ot)%Li}function pG(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Pr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Uv(e,t){return Rt(e[0]-t[0])<ot&&Rt(e[1]-t[1])<ot}function Qy(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function mG(e,t,n,r,i){var a=[],s=[],o,u;if(e.forEach(function(y){if(!((v=y.length-1)<=0)){var v,_=y[0],E=y[v],w;if(Uv(_,E)){if(!_[2]&&!E[2]){for(i.lineStart(),o=0;o<v;++o)i.point((_=y[o])[0],_[1]);i.lineEnd();return}E[0]+=2*ot}a.push(w=new Qy(_,y,null,!0)),s.push(w.o=new Qy(_,null,w,!1)),a.push(w=new Qy(E,y,null,!1)),s.push(w.o=new Qy(E,null,w,!0))}}),!!a.length){for(s.sort(t),W7(a),W7(s),o=0,u=s.length;o<u;++o)s[o].e=n=!n;for(var c=a[0],h,d;;){for(var p=c,m=!0;p.v;)if((p=p.n)===c)return;h=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(m)for(o=0,u=h.length;o<u;++o)i.point((d=h[o])[0],d[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(m)for(h=p.p.z,o=h.length-1;o>=0;--o)i.point((d=h[o])[0],d[1]);else r(p.x,p.p.x,-1,i);p=p.p}p=p.o,h=p.z,m=!m}while(!p.v);i.lineEnd()}}}function W7(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function YA(e){return Rt(e[0])<=wt?e[0]:ts(e[0])*((Rt(e[0])+wt)%Li-wt)}function S0e(e,t){var n=YA(t),r=t[1],i=at(r),a=[at(n),-lt(n),0],s=0,o=0,u=new Ri;i===1?r=Pn+ot:i===-1&&(r=-Pn-ot);for(var c=0,h=e.length;c<h;++c)if(p=(d=e[c]).length)for(var d,p,m=d[p-1],y=YA(m),v=m[1]/2+$2,_=at(v),E=lt(v),w=0;w<p;++w,y=k,_=O,E=T,m=A){var A=d[w],k=YA(A),D=A[1]/2+$2,O=at(D),T=lt(D),F=k-y,C=F>=0?1:-1,N=C*F,L=N>wt,I=_*O;if(u.add(cs(I*C*at(N),E*T+I*lt(N))),s+=L?F+C*Li:F,L^y>=n^k>=n){var Q=Ed(Kf(m),Kf(A));U2(Q);var J=Ed(a,Q);U2(J);var H=(L^F>=0?-1:1)*ia(J[2]);(r>H||r===H&&(Q[0]||Q[1]))&&(o+=L^F>=0?1:-1)}}return(s<-ot||s<ot&&u<-N2)^o&1}function xG(e,t,n,r){return function(i){var a=t(i),s=pG(),o=t(s),u=!1,c,h,d,p={point:m,lineStart:v,lineEnd:_,polygonStart:function(){p.point=E,p.lineStart=w,p.lineEnd=A,h=[],c=[]},polygonEnd:function(){p.point=m,p.lineStart=v,p.lineEnd=_,h=lP(h);var k=S0e(c,r);h.length?(u||(i.polygonStart(),u=!0),mG(h,A0e,k,n,i)):k&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),h=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(k,D){e(k,D)&&i.point(k,D)}function y(k,D){a.point(k,D)}function v(){p.point=y,a.lineStart()}function _(){p.point=m,a.lineEnd()}function E(k,D){d.push([k,D]),o.point(k,D)}function w(){o.lineStart(),d=[]}function A(){E(d[0][0],d[0][1]),o.lineEnd();var k=o.clean(),D=s.result(),O,T=D.length,F,C,N;if(d.pop(),c.push(d),d=null,!!T){if(k&1){if(C=D[0],(F=C.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),O=0;O<F;++O)i.point((N=C[O])[0],N[1]);i.lineEnd()}return}T>1&&k&2&&D.push(D.pop().concat(D.shift())),h.push(D.filter(w0e))}}return p}}function w0e(e){return e.length>1}function A0e(e,t){return((e=e.x)[0]<0?e[1]-Pn-ot:Pn-e[1])-((t=t.x)[0]<0?t[1]-Pn-ot:Pn-t[1])}const Y7=xG(function(){return!0},T0e,C0e,[-wt,-Pn]);function T0e(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,s){var o=a>0?wt:-wt,u=Rt(a-t);Rt(u-wt)<ot?(e.point(t,n=(n+s)/2>0?Pn:-Pn),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),e.point(a,n),i=0):r!==o&&u>=wt&&(Rt(t-r)<ot&&(t-=r*ot),Rt(a-o)<ot&&(a-=o*ot),n=k0e(t,n,a,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(o,n),i=0),e.point(t=a,n=s),r=o},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function k0e(e,t,n,r){var i,a,s=at(e-n);return Rt(s)>ot?ig((at(t)*(a=lt(r))*at(n)-at(r)*(i=lt(t))*at(e))/(i*a*s)):(t+r)/2}function C0e(e,t,n,r){var i;if(e==null)i=n*Pn,r.point(-wt,i),r.point(0,i),r.point(wt,i),r.point(wt,0),r.point(wt,-i),r.point(0,-i),r.point(-wt,-i),r.point(-wt,0),r.point(-wt,i);else if(Rt(e[0]-t[0])>ot){var a=e[0]<t[0]?wt:-wt;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function F0e(e){var t=lt(e),n=2*St,r=t>0,i=Rt(t)>ot;function a(h,d,p,m){E0e(m,e,n,p,h,d)}function s(h,d){return lt(h)*lt(d)>t}function o(h){var d,p,m,y,v;return{lineStart:function(){y=m=!1,v=1},point:function(_,E){var w=[_,E],A,k=s(_,E),D=r?k?0:c(_,E):k?c(_+(_<0?wt:-wt),E):0;if(!d&&(y=m=k)&&h.lineStart(),k!==m&&(A=u(d,w),(!A||Uv(d,A)||Uv(w,A))&&(w[2]=1)),k!==m)v=0,k?(h.lineStart(),A=u(w,d),h.point(A[0],A[1])):(A=u(d,w),h.point(A[0],A[1],2),h.lineEnd()),d=A;else if(i&&d&&r^k){var O;!(D&p)&&(O=u(w,d,!0))&&(v=0,r?(h.lineStart(),h.point(O[0][0],O[0][1]),h.point(O[1][0],O[1][1]),h.lineEnd()):(h.point(O[1][0],O[1][1]),h.lineEnd(),h.lineStart(),h.point(O[0][0],O[0][1],3)))}k&&(!d||!Uv(d,w))&&h.point(w[0],w[1]),d=w,m=k,p=D},lineEnd:function(){m&&h.lineEnd(),d=null},clean:function(){return v|(y&&m)<<1}}}function u(h,d,p){var m=Kf(h),y=Kf(d),v=[1,0,0],_=Ed(m,y),E=Yy(_,_),w=_[0],A=E-w*w;if(!A)return!p&&h;var k=t*E/A,D=-t*w/A,O=Ed(v,_),T=Ky(v,k),F=Ky(_,D);WA(T,F);var C=O,N=Yy(T,C),L=Yy(C,C),I=N*N-L*(Yy(T,T)-1);if(!(I<0)){var Q=Ii(I),J=Ky(C,(-N-Q)/L);if(WA(J,T),J=P2(J),!p)return J;var H=h[0],z=d[0],X=h[1],re=d[1],j;z<H&&(j=H,H=z,z=j);var le=z-H,q=Rt(le-wt)<ot,R=q||le<ot;if(!q&&re<X&&(j=X,X=re,re=j),R?q?X+re>0^J[1]<(Rt(J[0]-H)<ot?X:re):X<=J[1]&&J[1]<=re:le>wt^(H<=J[0]&&J[0]<=z)){var G=Ky(C,(-N+Q)/L);return WA(G,T),[J,P2(G)]}}}function c(h,d){var p=r?e:wt-e,m=0;return h<-p?m|=1:h>p&&(m|=2),d<-p?m|=4:d>p&&(m|=8),m}return xG(s,o,a,r?[0,-e]:[-wt,e-wt])}function D0e(e,t,n,r,i,a){var s=e[0],o=e[1],u=t[0],c=t[1],h=0,d=1,p=u-s,m=c-o,y;if(y=n-s,!(!p&&y>0)){if(y/=p,p<0){if(y<h)return;y<d&&(d=y)}else if(p>0){if(y>d)return;y>h&&(h=y)}if(y=i-s,!(!p&&y<0)){if(y/=p,p<0){if(y>d)return;y>h&&(h=y)}else if(p>0){if(y<h)return;y<d&&(d=y)}if(y=r-o,!(!m&&y>0)){if(y/=m,m<0){if(y<h)return;y<d&&(d=y)}else if(m>0){if(y>d)return;y>h&&(h=y)}if(y=a-o,!(!m&&y<0)){if(y/=m,m<0){if(y>d)return;y>h&&(h=y)}else if(m>0){if(y<h)return;y<d&&(d=y)}return h>0&&(e[0]=s+h*p,e[1]=o+h*m),d<1&&(t[0]=s+d*p,t[1]=o+d*m),!0}}}}}var W1=1e9,Zy=-W1;function yG(e,t,n,r){function i(c,h){return e<=c&&c<=n&&t<=h&&h<=r}function a(c,h,d,p){var m=0,y=0;if(c==null||(m=s(c,d))!==(y=s(h,d))||u(c,h)<0^d>0)do p.point(m===0||m===3?e:n,m>1?r:t);while((m=(m+d+4)%4)!==y);else p.point(h[0],h[1])}function s(c,h){return Rt(c[0]-e)<ot?h>0?0:3:Rt(c[0]-n)<ot?h>0?2:1:Rt(c[1]-t)<ot?h>0?1:0:h>0?3:2}function o(c,h){return u(c.x,h.x)}function u(c,h){var d=s(c,1),p=s(h,1);return d!==p?d-p:d===0?h[1]-c[1]:d===1?c[0]-h[0]:d===2?c[1]-h[1]:h[0]-c[0]}return function(c){var h=c,d=pG(),p,m,y,v,_,E,w,A,k,D,O,T={point:F,lineStart:I,lineEnd:Q,polygonStart:N,polygonEnd:L};function F(H,z){i(H,z)&&h.point(H,z)}function C(){for(var H=0,z=0,X=m.length;z<X;++z)for(var re=m[z],j=1,le=re.length,q=re[0],R,G,K=q[0],Y=q[1];j<le;++j)R=K,G=Y,q=re[j],K=q[0],Y=q[1],G<=r?Y>r&&(K-R)*(r-G)>(Y-G)*(e-R)&&++H:Y<=r&&(K-R)*(r-G)<(Y-G)*(e-R)&&--H;return H}function N(){h=d,p=[],m=[],O=!0}function L(){var H=C(),z=O&&H,X=(p=lP(p)).length;(z||X)&&(c.polygonStart(),z&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),X&&mG(p,o,H,a,c),c.polygonEnd()),h=c,p=m=y=null}function I(){T.point=J,m&&m.push(y=[]),D=!0,k=!1,w=A=NaN}function Q(){p&&(J(v,_),E&&k&&d.rejoin(),p.push(d.result())),T.point=F,k&&h.lineEnd()}function J(H,z){var X=i(H,z);if(m&&y.push([H,z]),D)v=H,_=z,E=X,D=!1,X&&(h.lineStart(),h.point(H,z));else if(X&&k)h.point(H,z);else{var re=[w=Math.max(Zy,Math.min(W1,w)),A=Math.max(Zy,Math.min(W1,A))],j=[H=Math.max(Zy,Math.min(W1,H)),z=Math.max(Zy,Math.min(W1,z))];D0e(re,j,e,t,n,r)?(k||(h.lineStart(),h.point(re[0],re[1])),h.point(j[0],j[1]),X||h.lineEnd(),O=!1):X&&(h.lineStart(),h.point(H,z),O=!1)}w=H,A=z,k=X}return T}}function K7(e,t,n){var r=Sa(e,t-ot,n).concat(t);return function(i){return r.map(function(a){return[i,a]})}}function Q7(e,t,n){var r=Sa(e,t-ot,n).concat(t);return function(i){return r.map(function(a){return[a,i]})}}function O0e(){var e,t,n,r,i,a,s,o,u=10,c=u,h=90,d=360,p,m,y,v,_=2.5;function E(){return{type:"MultiLineString",coordinates:w()}}function w(){return Sa(Wy(r/h)*h,n,h).map(y).concat(Sa(Wy(o/d)*d,s,d).map(v)).concat(Sa(Wy(t/u)*u,e,u).filter(function(A){return Rt(A%h)>ot}).map(p)).concat(Sa(Wy(a/c)*c,i,c).filter(function(A){return Rt(A%d)>ot}).map(m))}return E.lines=function(){return w().map(function(A){return{type:"LineString",coordinates:A}})},E.outline=function(){return{type:"Polygon",coordinates:[y(r).concat(v(s).slice(1),y(n).reverse().slice(1),v(o).reverse().slice(1))]}},E.extent=function(A){return arguments.length?E.extentMajor(A).extentMinor(A):E.extentMinor()},E.extentMajor=function(A){return arguments.length?(r=+A[0][0],n=+A[1][0],o=+A[0][1],s=+A[1][1],r>n&&(A=r,r=n,n=A),o>s&&(A=o,o=s,s=A),E.precision(_)):[[r,o],[n,s]]},E.extentMinor=function(A){return arguments.length?(t=+A[0][0],e=+A[1][0],a=+A[0][1],i=+A[1][1],t>e&&(A=t,t=e,e=A),a>i&&(A=a,a=i,i=A),E.precision(_)):[[t,a],[e,i]]},E.step=function(A){return arguments.length?E.stepMajor(A).stepMinor(A):E.stepMinor()},E.stepMajor=function(A){return arguments.length?(h=+A[0],d=+A[1],E):[h,d]},E.stepMinor=function(A){return arguments.length?(u=+A[0],c=+A[1],E):[u,c]},E.precision=function(A){return arguments.length?(_=+A,p=K7(a,i,90),m=Q7(t,e,_),y=K7(o,s,90),v=Q7(r,n,_),E):_},E.extentMajor([[-180,-90+ot],[180,90-ot]]).extentMinor([[-180,-80-ot],[180,80+ot]])}const Gp=e=>e;var KA=new Ri,m3=new Ri,vG,_G,x3,y3,kl={point:Pr,lineStart:Pr,lineEnd:Pr,polygonStart:function(){kl.lineStart=M0e,kl.lineEnd=N0e},polygonEnd:function(){kl.lineStart=kl.lineEnd=kl.point=Pr,KA.add(Rt(m3)),m3=new Ri},result:function(){var e=KA/2;return KA=new Ri,e}};function M0e(){kl.point=R0e}function R0e(e,t){kl.point=bG,vG=x3=e,_G=y3=t}function bG(e,t){m3.add(y3*e-x3*t),x3=e,y3=t}function N0e(){bG(vG,_G)}var Sd=1/0,Y2=Sd,Vp=-Sd,K2=Vp,Q2={point:$0e,lineStart:Pr,lineEnd:Pr,polygonStart:Pr,polygonEnd:Pr,result:function(){var e=[[Sd,Y2],[Vp,K2]];return Vp=K2=-(Y2=Sd=1/0),e}};function $0e(e,t){e<Sd&&(Sd=e),e>Vp&&(Vp=e),t<Y2&&(Y2=t),t>K2&&(K2=t)}var v3=0,_3=0,Y1=0,Z2=0,J2=0,jh=0,b3=0,E3=0,K1=0,EG,SG,_o,bo,Ja={point:Qf,lineStart:Z7,lineEnd:J7,polygonStart:function(){Ja.lineStart=z0e,Ja.lineEnd=B0e},polygonEnd:function(){Ja.point=Qf,Ja.lineStart=Z7,Ja.lineEnd=J7},result:function(){var e=K1?[b3/K1,E3/K1]:jh?[Z2/jh,J2/jh]:Y1?[v3/Y1,_3/Y1]:[NaN,NaN];return v3=_3=Y1=Z2=J2=jh=b3=E3=K1=0,e}};function Qf(e,t){v3+=e,_3+=t,++Y1}function Z7(){Ja.point=L0e}function L0e(e,t){Ja.point=I0e,Qf(_o=e,bo=t)}function I0e(e,t){var n=e-_o,r=t-bo,i=Ii(n*n+r*r);Z2+=i*(_o+e)/2,J2+=i*(bo+t)/2,jh+=i,Qf(_o=e,bo=t)}function J7(){Ja.point=Qf}function z0e(){Ja.point=P0e}function B0e(){wG(EG,SG)}function P0e(e,t){Ja.point=wG,Qf(EG=_o=e,SG=bo=t)}function wG(e,t){var n=e-_o,r=t-bo,i=Ii(n*n+r*r);Z2+=i*(_o+e)/2,J2+=i*(bo+t)/2,jh+=i,i=bo*e-_o*t,b3+=i*(_o+e),E3+=i*(bo+t),K1+=i*3,Qf(_o=e,bo=t)}function AG(e){this._context=e}AG.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Li);break}}},result:Pr};var S3=new Ri,QA,TG,kG,Q1,Z1,Xp={point:Pr,lineStart:function(){Xp.point=U0e},lineEnd:function(){QA&&CG(TG,kG),Xp.point=Pr},polygonStart:function(){QA=!0},polygonEnd:function(){QA=null},result:function(){var e=+S3;return S3=new Ri,e}};function U0e(e,t){Xp.point=CG,TG=Q1=e,kG=Z1=t}function CG(e,t){Q1-=e,Z1-=t,S3.add(Ii(Q1*Q1+Z1*Z1)),Q1=e,Z1=t}let e$,e_,t$,n$;class r${constructor(t){this._append=t==null?FG:H0e(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==t$||this._append!==e_){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,t$=r,e_=this._append,n$=this._,this._=i}this._+=n$;break}}}result(){const t=this._;return this._="",t.length?t:null}}function FG(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function H0e(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return FG;if(t!==e$){const n=10**t;e$=t,e_=function(i){let a=1;this._+=i[0];for(const s=i.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return e_}function DG(e,t){let n=3,r=4.5,i,a;function s(o){return o&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Tl(o,i(a))),a.result()}return s.area=function(o){return Tl(o,i(kl)),kl.result()},s.measure=function(o){return Tl(o,i(Xp)),Xp.result()},s.bounds=function(o){return Tl(o,i(Q2)),Q2.result()},s.centroid=function(o){return Tl(o,i(Ja)),Ja.result()},s.projection=function(o){return arguments.length?(i=o==null?(e=null,Gp):(e=o).stream,s):e},s.context=function(o){return arguments.length?(a=o==null?(t=null,new r$(n)):new AG(t=o),typeof r!="function"&&a.pointRadius(r),s):t},s.pointRadius=function(o){return arguments.length?(r=typeof o=="function"?o:(a.pointRadius(+o),+o),s):r},s.digits=function(o){if(!arguments.length)return n;if(o==null)n=null;else{const u=Math.floor(o);if(!(u>=0))throw new RangeError(`invalid digits: ${o}`);n=u}return t===null&&(a=new r$(n)),s},s.projection(e).digits(n).context(t)}function Pb(e){return function(t){var n=new w3;for(var r in e)n[r]=e[r];return n.stream=t,n}}function w3(){}w3.prototype={constructor:w3,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function A6(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Tl(n,e.stream(Q2)),t(Q2.result()),r!=null&&e.clipExtent(r),e}function Ub(e,t,n){return A6(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),o=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(a-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([o,u])},n)}function T6(e,t,n){return Ub(e,[[0,0],t],n)}function k6(e,t,n){return A6(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),s=(i-a*(r[1][0]+r[0][0]))/2,o=-a*r[0][1];e.scale(150*a).translate([s,o])},n)}function C6(e,t,n){return A6(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),s=-a*r[0][0],o=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([s,o])},n)}var i$=16,j0e=lt(30*St);function a$(e,t){return+t?G0e(e,t):q0e(e)}function q0e(e){return Pb({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function G0e(e,t){function n(r,i,a,s,o,u,c,h,d,p,m,y,v,_){var E=c-r,w=h-i,A=E*E+w*w;if(A>4*t&&v--){var k=s+p,D=o+m,O=u+y,T=Ii(k*k+D*D+O*O),F=ia(O/=T),C=Rt(Rt(O)-1)<ot||Rt(a-d)<ot?(a+d)/2:cs(D,k),N=e(C,F),L=N[0],I=N[1],Q=L-r,J=I-i,H=w*Q-E*J;(H*H/A>t||Rt((E*Q+w*J)/A-.5)>.3||s*p+o*m+u*y<j0e)&&(n(r,i,a,s,o,u,L,I,C,k/=T,D/=T,O,v,_),_.point(L,I),n(L,I,C,k,D,O,c,h,d,p,m,y,v,_))}}return function(r){var i,a,s,o,u,c,h,d,p,m,y,v,_={point:E,lineStart:w,lineEnd:k,polygonStart:function(){r.polygonStart(),_.lineStart=D},polygonEnd:function(){r.polygonEnd(),_.lineStart=w}};function E(F,C){F=e(F,C),r.point(F[0],F[1])}function w(){d=NaN,_.point=A,r.lineStart()}function A(F,C){var N=Kf([F,C]),L=e(F,C);n(d,p,h,m,y,v,d=L[0],p=L[1],h=F,m=N[0],y=N[1],v=N[2],i$,r),r.point(d,p)}function k(){_.point=E,r.lineEnd()}function D(){w(),_.point=O,_.lineEnd=T}function O(F,C){A(i=F,C),a=d,s=p,o=m,u=y,c=v,_.point=A}function T(){n(d,p,h,m,y,v,a,s,i,o,u,c,i$,r),_.lineEnd=k,k()}return _}}var V0e=Pb({point:function(e,t){this.stream.point(e*St,t*St)}});function X0e(e){return Pb({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function W0e(e,t,n,r,i){function a(s,o){return s*=r,o*=i,[t+e*s,n-e*o]}return a.invert=function(s,o){return[(s-t)/e*r,(n-o)/e*i]},a}function s$(e,t,n,r,i,a){if(!a)return W0e(e,t,n,r,i);var s=lt(a),o=at(a),u=s*e,c=o*e,h=s/e,d=o/e,p=(o*n-s*t)/e,m=(o*t+s*n)/e;function y(v,_){return v*=r,_*=i,[u*v-c*_+t,n-c*v-u*_]}return y.invert=function(v,_){return[r*(h*v-d*_+p),i*(m-d*v-h*_)]},y}function qo(e){return OG(function(){return e})()}function OG(e){var t,n=150,r=480,i=250,a=0,s=0,o=0,u=0,c=0,h,d=0,p=1,m=1,y=null,v=Y7,_=null,E,w,A,k=Gp,D=.5,O,T,F,C,N;function L(H){return F(H[0]*St,H[1]*St)}function I(H){return H=F.invert(H[0],H[1]),H&&[H[0]*Vn,H[1]*Vn]}L.stream=function(H){return C&&N===H?C:C=V0e(X0e(h)(v(O(k(N=H)))))},L.preclip=function(H){return arguments.length?(v=H,y=void 0,J()):v},L.postclip=function(H){return arguments.length?(k=H,_=E=w=A=null,J()):k},L.clipAngle=function(H){return arguments.length?(v=+H?F0e(y=H*St):(y=null,Y7),J()):y*Vn},L.clipExtent=function(H){return arguments.length?(k=H==null?(_=E=w=A=null,Gp):yG(_=+H[0][0],E=+H[0][1],w=+H[1][0],A=+H[1][1]),J()):_==null?null:[[_,E],[w,A]]},L.scale=function(H){return arguments.length?(n=+H,Q()):n},L.translate=function(H){return arguments.length?(r=+H[0],i=+H[1],Q()):[r,i]},L.center=function(H){return arguments.length?(a=H[0]%360*St,s=H[1]%360*St,Q()):[a*Vn,s*Vn]},L.rotate=function(H){return arguments.length?(o=H[0]%360*St,u=H[1]%360*St,c=H.length>2?H[2]%360*St:0,Q()):[o*Vn,u*Vn,c*Vn]},L.angle=function(H){return arguments.length?(d=H%360*St,Q()):d*Vn},L.reflectX=function(H){return arguments.length?(p=H?-1:1,Q()):p<0},L.reflectY=function(H){return arguments.length?(m=H?-1:1,Q()):m<0},L.precision=function(H){return arguments.length?(O=a$(T,D=H*H),J()):Ii(D)},L.fitExtent=function(H,z){return Ub(L,H,z)},L.fitSize=function(H,z){return T6(L,H,z)},L.fitWidth=function(H,z){return k6(L,H,z)},L.fitHeight=function(H,z){return C6(L,H,z)};function Q(){var H=s$(n,0,0,p,m,d).apply(null,t(a,s)),z=s$(n,r-H[0],i-H[1],p,m,d);return h=gG(o,u,c),T=g3(t,z),F=g3(h,T),O=a$(T,D),J()}function J(){return C=N=null,L}return function(){return t=e.apply(this,arguments),L.invert=t.invert&&I,Q()}}function F6(e){var t=0,n=wt/3,r=OG(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*St,n=a[1]*St):[t*Vn,n*Vn]},i}function Y0e(e){var t=lt(e);function n(r,i){return[r*t,at(i)/t]}return n.invert=function(r,i){return[r/t,ia(i*t)]},n}function K0e(e,t){var n=at(e),r=(n+at(t))/2;if(Rt(r)<ot)return Y0e(e);var i=1+n*(2*r-n),a=Ii(i)/r;function s(o,u){var c=Ii(i-2*r*at(u))/r;return[c*at(o*=r),a-c*lt(o)]}return s.invert=function(o,u){var c=a-u,h=cs(o,Rt(c))*ts(c);return c*r<0&&(h-=wt*ts(o)*ts(c)),[h/r,ia((i-(o*o+c*c)*r*r)/(2*r))]},s}function t_(){return F6(K0e).scale(155.424).center([0,33.6442])}function MG(){return t_().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Q0e(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Z0e(){var e,t,n=MG(),r,i=t_().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,s=t_().rotate([157,0]).center([-3,19.9]).parallels([8,18]),o,u,c={point:function(p,m){u=[p,m]}};function h(p){var m=p[0],y=p[1];return u=null,r.point(m,y),u||(a.point(m,y),u)||(o.point(m,y),u)}h.invert=function(p){var m=n.scale(),y=n.translate(),v=(p[0]-y[0])/m,_=(p[1]-y[1])/m;return(_>=.12&&_<.234&&v>=-.425&&v<-.214?i:_>=.166&&_<.234&&v>=-.214&&v<-.115?s:n).invert(p)},h.stream=function(p){return e&&t===p?e:e=Q0e([n.stream(t=p),i.stream(p),s.stream(p)])},h.precision=function(p){return arguments.length?(n.precision(p),i.precision(p),s.precision(p),d()):n.precision()},h.scale=function(p){return arguments.length?(n.scale(p),i.scale(p*.35),s.scale(p),h.translate(n.translate())):n.scale()},h.translate=function(p){if(!arguments.length)return n.translate();var m=n.scale(),y=+p[0],v=+p[1];return r=n.translate(p).clipExtent([[y-.455*m,v-.238*m],[y+.455*m,v+.238*m]]).stream(c),a=i.translate([y-.307*m,v+.201*m]).clipExtent([[y-.425*m+ot,v+.12*m+ot],[y-.214*m-ot,v+.234*m-ot]]).stream(c),o=s.translate([y-.205*m,v+.212*m]).clipExtent([[y-.214*m+ot,v+.166*m+ot],[y-.115*m-ot,v+.234*m-ot]]).stream(c),d()},h.fitExtent=function(p,m){return Ub(h,p,m)},h.fitSize=function(p,m){return T6(h,p,m)},h.fitWidth=function(p,m){return k6(h,p,m)},h.fitHeight=function(p,m){return C6(h,p,m)};function d(){return e=t=null,h}return h.scale(1070)}function RG(e){return function(t,n){var r=lt(t),i=lt(n),a=e(r*i);return a===1/0?[2,0]:[a*i*at(t),a*at(n)]}}function Hm(e){return function(t,n){var r=Ii(t*t+n*n),i=e(r),a=at(i),s=lt(i);return[cs(t*a,r*s),ia(r&&n*a/r)]}}var NG=RG(function(e){return Ii(2/(1+e))});NG.invert=Hm(function(e){return 2*ia(e/2)});function J0e(){return qo(NG).scale(124.75).clipAngle(180-.001)}var $G=RG(function(e){return(e=rG(e))&&e/at(e)});$G.invert=Hm(function(e){return e});function ehe(){return qo($G).scale(79.4188).clipAngle(180-.001)}function Hb(e,t){return[e,L2(S6((Pn+t)/2))]}Hb.invert=function(e,t){return[e,2*ig(nG(t))-Pn]};function the(){return LG(Hb).scale(961/Li)}function LG(e){var t=qo(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,s=null,o,u,c;t.scale=function(d){return arguments.length?(r(d),h()):r()},t.translate=function(d){return arguments.length?(i(d),h()):i()},t.center=function(d){return arguments.length?(n(d),h()):n()},t.clipExtent=function(d){return arguments.length?(d==null?s=o=u=c=null:(s=+d[0][0],o=+d[0][1],u=+d[1][0],c=+d[1][1]),h()):s==null?null:[[s,o],[u,c]]};function h(){var d=wt*r(),p=t(b0e(t.rotate()).invert([0,0]));return a(s==null?[[p[0]-d,p[1]-d],[p[0]+d,p[1]+d]]:e===Hb?[[Math.max(p[0]-d,s),o],[Math.min(p[0]+d,u),c]]:[[s,Math.max(p[1]-d,o)],[u,Math.min(p[1]+d,c)]])}return h()}function Jy(e){return S6((Pn+e)/2)}function nhe(e,t){var n=lt(e),r=e===t?at(e):L2(n/lt(t))/L2(Jy(t)/Jy(e)),i=n*XA(Jy(e),r)/r;if(!r)return Hb;function a(s,o){i>0?o<-Pn+ot&&(o=-Pn+ot):o>Pn-ot&&(o=Pn-ot);var u=i/XA(Jy(o),r);return[u*at(r*s),i-u*lt(r*s)]}return a.invert=function(s,o){var u=i-o,c=ts(r)*Ii(s*s+u*u),h=cs(s,Rt(u))*ts(u);return u*r<0&&(h-=wt*ts(s)*ts(u)),[h/r,2*ig(XA(i/c,1/r))-Pn]},a}function rhe(){return F6(nhe).scale(109.5).parallels([30,30])}function n_(e,t){return[e,t]}n_.invert=n_;function ihe(){return qo(n_).scale(152.63)}function ahe(e,t){var n=lt(e),r=e===t?at(e):(n-lt(t))/(t-e),i=n/r+e;if(Rt(r)<ot)return n_;function a(s,o){var u=i-o,c=r*s;return[u*at(c),i-u*lt(c)]}return a.invert=function(s,o){var u=i-o,c=cs(s,Rt(u))*ts(u);return u*r<0&&(c-=wt*ts(s)*ts(u)),[c/r,i-ts(r)*Ii(s*s+u*u)]},a}function she(){return F6(ahe).scale(131.154).center([0,13.9389])}var pp=1.340264,mp=-.081106,xp=893e-6,yp=.003796,r_=Ii(3)/2,ohe=12;function IG(e,t){var n=ia(r_*at(t)),r=n*n,i=r*r*r;return[e*lt(n)/(r_*(pp+3*mp*r+i*(7*xp+9*yp*r))),n*(pp+mp*r+i*(xp+yp*r))]}IG.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,s,o,u;a<ohe&&(o=n*(pp+mp*r+i*(xp+yp*r))-t,u=pp+3*mp*r+i*(7*xp+9*yp*r),n-=s=o/u,r=n*n,i=r*r*r,!(Rt(s)<N2));++a);return[r_*e*(pp+3*mp*r+i*(7*xp+9*yp*r))/lt(n),ia(at(n)/r_)]};function lhe(){return qo(IG).scale(177.158)}function zG(e,t){var n=lt(t),r=lt(e)*n;return[n*at(e)/r,at(t)/r]}zG.invert=Hm(ig);function uhe(){return qo(zG).scale(144.049).clipAngle(60)}function che(){var e=1,t=0,n=0,r=1,i=1,a=0,s,o,u=null,c,h,d,p=1,m=1,y=Pb({point:function(k,D){var O=A([k,D]);this.stream.point(O[0],O[1])}}),v=Gp,_,E;function w(){return p=e*r,m=e*i,_=E=null,A}function A(k){var D=k[0]*p,O=k[1]*m;if(a){var T=O*s-D*o;D=D*s+O*o,O=T}return[D+t,O+n]}return A.invert=function(k){var D=k[0]-t,O=k[1]-n;if(a){var T=O*s+D*o;D=D*s-O*o,O=T}return[D/p,O/m]},A.stream=function(k){return _&&E===k?_:_=y(v(E=k))},A.postclip=function(k){return arguments.length?(v=k,u=c=h=d=null,w()):v},A.clipExtent=function(k){return arguments.length?(v=k==null?(u=c=h=d=null,Gp):yG(u=+k[0][0],c=+k[0][1],h=+k[1][0],d=+k[1][1]),w()):u==null?null:[[u,c],[h,d]]},A.scale=function(k){return arguments.length?(e=+k,w()):e},A.translate=function(k){return arguments.length?(t=+k[0],n=+k[1],w()):[t,n]},A.angle=function(k){return arguments.length?(a=k%360*St,o=at(a),s=lt(a),w()):a*Vn},A.reflectX=function(k){return arguments.length?(r=k?-1:1,w()):r<0},A.reflectY=function(k){return arguments.length?(i=k?-1:1,w()):i<0},A.fitExtent=function(k,D){return Ub(A,k,D)},A.fitSize=function(k,D){return T6(A,k,D)},A.fitWidth=function(k,D){return k6(A,k,D)},A.fitHeight=function(k,D){return C6(A,k,D)},A}function BG(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}BG.invert=function(e,t){var n=t,r=25,i;do{var a=n*n,s=a*a;n-=i=(n*(1.007226+a*(.015085+s*(-.044475+.028874*a-.005916*s)))-t)/(1.007226+a*(.015085*3+s*(-.044475*7+.028874*9*a-.005916*11*s)))}while(Rt(i)>ot&&--r>0);return[e/(.8707+(a=n*n)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),n]};function fhe(){return qo(BG).scale(175.295)}function PG(e,t){return[lt(t)*at(e),at(t)]}PG.invert=Hm(ia);function hhe(){return qo(PG).scale(249.5).clipAngle(90+ot)}function UG(e,t){var n=lt(t),r=1+lt(e)*n;return[n*at(e)/r,at(t)/r]}UG.invert=Hm(function(e){return 2*ig(e)});function dhe(){return qo(UG).scale(250).clipAngle(142)}function HG(e,t){return[L2(S6((Pn+t)/2)),-e]}HG.invert=function(e,t){return[-t,2*ig(nG(e))-Pn]};function ghe(){var e=LG(HG),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var phe=Math.abs,A3=Math.cos,i_=Math.sin,mhe=1e-6,jG=Math.PI,T3=jG/2,o$=xhe(2);function l$(e){return e>1?T3:e<-1?-T3:Math.asin(e)}function xhe(e){return e>0?Math.sqrt(e):0}function yhe(e,t){var n=e*i_(t),r=30,i;do t-=i=(t+i_(t)-n)/(1+A3(t));while(phe(i)>mhe&&--r>0);return t/2}function vhe(e,t,n){function r(i,a){return[e*i*A3(a=yhe(n,a)),t*i_(a)]}return r.invert=function(i,a){return a=l$(a/t),[i/(e*A3(a)),l$((2*a+i_(2*a))/n)]},r}var _he=vhe(o$/T3,o$,jG);function bhe(){return qo(_he).scale(169.529)}const Ehe=DG(),k3=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function She(e,t){return function n(){const r=t();return r.type=e,r.path=DG().projection(r),r.copy=r.copy||function(){const i=n();return k3.forEach(a=>{r[a]&&i[a](r[a]())}),i.path.pointRadius(r.path.pointRadius()),i},aj(r)}}function D6(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(a_[e]=She(e,t),this):a_[e]||null}function qG(e){return e&&e.path||Ehe}const a_={albers:MG,albersusa:Z0e,azimuthalequalarea:J0e,azimuthalequidistant:ehe,conicconformal:rhe,conicequalarea:t_,conicequidistant:she,equalEarth:lhe,equirectangular:ihe,gnomonic:uhe,identity:che,mercator:the,mollweide:bhe,naturalEarth1:fhe,orthographic:hhe,stereographic:dhe,transversemercator:ghe};for(const e in a_)D6(e,a_[e]);function whe(){}const _l=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function GG(){var e=1,t=1,n=o;function r(u,c){return c.map(h=>i(u,h))}function i(u,c){var h=[],d=[];return a(u,c,p=>{n(p,u,c),Ahe(p)>0?h.push([p]):d.push(p)}),d.forEach(p=>{for(var m=0,y=h.length,v;m<y;++m)if(The((v=h[m])[0],p)!==-1){v.push(p);return}}),{type:"MultiPolygon",value:c,coordinates:h}}function a(u,c,h){var d=[],p=[],m,y,v,_,E,w;for(m=y=-1,_=u[0]>=c,_l[_<<1].forEach(A);++m<e-1;)v=_,_=u[m+1]>=c,_l[v|_<<1].forEach(A);for(_l[_<<0].forEach(A);++y<t-1;){for(m=-1,_=u[y*e+e]>=c,E=u[y*e]>=c,_l[_<<1|E<<2].forEach(A);++m<e-1;)v=_,_=u[y*e+e+m+1]>=c,w=E,E=u[y*e+m+1]>=c,_l[v|_<<1|E<<2|w<<3].forEach(A);_l[_|E<<3].forEach(A)}for(m=-1,E=u[y*e]>=c,_l[E<<2].forEach(A);++m<e-1;)w=E,E=u[y*e+m+1]>=c,_l[E<<2|w<<3].forEach(A);_l[E<<3].forEach(A);function A(k){var D=[k[0][0]+m,k[0][1]+y],O=[k[1][0]+m,k[1][1]+y],T=s(D),F=s(O),C,N;(C=p[T])?(N=d[F])?(delete p[C.end],delete d[N.start],C===N?(C.ring.push(O),h(C.ring)):d[C.start]=p[N.end]={start:C.start,end:N.end,ring:C.ring.concat(N.ring)}):(delete p[C.end],C.ring.push(O),p[C.end=F]=C):(C=d[F])?(N=p[T])?(delete d[C.start],delete p[N.end],C===N?(C.ring.push(O),h(C.ring)):d[N.start]=p[C.end]={start:N.start,end:C.end,ring:N.ring.concat(C.ring)}):(delete d[C.start],C.ring.unshift(D),d[C.start=T]=C):d[T]=p[F]={start:T,end:F,ring:[D,O]}}}function s(u){return u[0]*2+u[1]*(e+1)*4}function o(u,c,h){u.forEach(d=>{var p=d[0],m=d[1],y=p|0,v=m|0,_,E=c[v*e+y];p>0&&p<e&&y===p&&(_=c[v*e+y-1],d[0]=p+(h-_)/(E-_)-.5),m>0&&m<t&&v===m&&(_=c[(v-1)*e+y],d[1]=m+(h-_)/(E-_)-.5)})}return r.contour=i,r.size=function(u){if(!arguments.length)return[e,t];var c=Math.floor(u[0]),h=Math.floor(u[1]);return c>=0&&h>=0||be("invalid size"),e=c,t=h,r},r.smooth=function(u){return arguments.length?(n=u?o:whe,r):n===o},r}function Ahe(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function The(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=khe(e,t[n]))return i;return 0}function khe(e,t){for(var n=t[0],r=t[1],i=-1,a=0,s=e.length,o=s-1;a<s;o=a++){var u=e[a],c=u[0],h=u[1],d=e[o],p=d[0],m=d[1];if(Che(u,d,t))return 0;h>r!=m>r&&n<(p-c)*(r-h)/(m-h)+c&&(i=-i)}return i}function Che(e,t,n){var r;return Fhe(e,t,n)&&Dhe(e[r=+(e[0]===t[0])],n[r],t[r])}function Fhe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Dhe(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function VG(e,t,n){return function(r){var i=Do(r),a=n?Math.min(i[0],0):i[0],s=i[1],o=s-a,u=t?uc(a,s,e):o/(e+1);return Sa(a+u,s,u)}}function O6(e){ye.call(this,null,e)}O6.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Be(O6,ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||di,a=GG().smooth(e.smooth!==!1),s=e.thresholds||Ohe(r,i,e),o=e.as===null?null:e.as||"contour",u=[];return r.forEach(c=>{const h=i(c),d=a.size([h.width,h.height])(h.values,Ae(s)?s:s(h.values));Mhe(d,h,c,e),d.forEach(p=>{u.push(ab(c,Wt(o!=null?{[o]:p}:p)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function Ohe(e,t,n){const r=VG(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>Rf(t(i).values)))}function Mhe(e,t,n,r){let i=r.scale||t.scale,a=r.translate||t.translate;if(_t(i)&&(i=i(n,r)),_t(a)&&(a=a(n,r)),(i===1||i==null)&&!a)return;const s=(jt(i)?i:i[0])||1,o=(jt(i)?i:i[1])||1,u=a&&a[0]||0,c=a&&a[1]||0;e.forEach(XG(t,s,o,u,c))}function XG(e,t,n,r,i){const a=e.x1||0,s=e.y1||0,o=t*n<0;function u(d){d.forEach(c)}function c(d){o&&d.reverse(),d.forEach(h)}function h(d){d[0]=(d[0]-a)*t+r,d[1]=(d[1]-s)*n+i}return function(d){return d.coordinates.forEach(u),d}}function u$(e,t,n){const r=e>=0?e:SC(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function ZA(e){return _t(e)?e:gi(+e)}function WG(){var e=u=>u[0],t=u=>u[1],n=qd,r=[-1,-1],i=960,a=500,s=2;function o(u,c){const h=u$(r[0],u,e)>>s,d=u$(r[1],u,t)>>s,p=h?h+2:0,m=d?d+2:0,y=2*p+(i>>s),v=2*m+(a>>s),_=new Float32Array(y*v),E=new Float32Array(y*v);let w=_;u.forEach(k=>{const D=p+(+e(k)>>s),O=m+(+t(k)>>s);D>=0&&D<y&&O>=0&&O<v&&(_[D+O*y]+=+n(k))}),h>0&&d>0?(kh(y,v,_,E,h),Ch(y,v,E,_,d),kh(y,v,_,E,h),Ch(y,v,E,_,d),kh(y,v,_,E,h),Ch(y,v,E,_,d)):h>0?(kh(y,v,_,E,h),kh(y,v,E,_,h),kh(y,v,_,E,h),w=E):d>0&&(Ch(y,v,_,E,d),Ch(y,v,E,_,d),Ch(y,v,_,E,d),w=E);const A=c?Math.pow(2,-2*s):1/uP(w);for(let k=0,D=y*v;k<D;++k)w[k]*=A;return{values:w,scale:1<<s,width:y,height:v,x1:p,y1:m,x2:p+(i>>s),y2:m+(a>>s)}}return o.x=function(u){return arguments.length?(e=ZA(u),o):e},o.y=function(u){return arguments.length?(t=ZA(u),o):t},o.weight=function(u){return arguments.length?(n=ZA(u),o):n},o.size=function(u){if(!arguments.length)return[i,a];var c=+u[0],h=+u[1];return c>=0&&h>=0||be("invalid size"),i=c,a=h,o},o.cellSize=function(u){return arguments.length?((u=+u)>=1||be("invalid cell size"),s=Math.floor(Math.log(u)/Math.LN2),o):1<<s},o.bandwidth=function(u){return arguments.length?(u=Ve(u),u.length===1&&(u=[+u[0],+u[0]]),u.length!==2&&be("invalid bandwidth"),r=u,o):r},o}function kh(e,t,n,r,i){const a=(i<<1)+1;for(let s=0;s<t;++s)for(let o=0,u=0;o<e+i;++o)o<e&&(u+=n[o+s*e]),o>=i&&(o>=a&&(u-=n[o-a+s*e]),r[o-i+s*e]=u/Math.min(o+1,e-1+a-o,a))}function Ch(e,t,n,r,i){const a=(i<<1)+1;for(let s=0;s<e;++s)for(let o=0,u=0;o<t+i;++o)o<t&&(u+=n[s+o*e]),o>=i&&(o>=a&&(u-=n[s+(o-a)*e]),r[s+(o-i)*e]=u/Math.min(o+1,t-1+a-o,a))}function M6(e){ye.call(this,null,e)}M6.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Rhe=["x","y","weight","size","cellSize","bandwidth"];function YG(e,t){return Rhe.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Be(M6,ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Nhe(r,e.groupby),a=(e.groupby||[]).map(Un),s=YG(WG(),e),o=e.as||"grid",u=[];function c(h,d){for(let p=0;p<a.length;++p)h[a[p]]=d[p];return h}return u=i.map(h=>Wt(c({[o]:s(h,e.counts)},h.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=u,n}});function Nhe(e,t){var n=[],r=h=>h(o),i,a,s,o,u,c;if(t==null)n.push(e);else for(i={},a=0,s=e.length;a<s;++a)o=e[a],u=t.map(r),c=i[u],c||(i[u]=c=[],c.dims=u,n.push(c)),c.push(o);return n}function R6(e){ye.call(this,null,e)}R6.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Be(R6,ye,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=GG().smooth(e.smooth!==!1),i=e.values,a=e.thresholds||VG(e.count||10,e.nice,!!i),s=e.size,o,u;return i||(i=t.materialize(t.SOURCE).source,o=YG(WG(),e)(i,!0),u=XG(o,o.scale||1,o.scale||1,0,0),s=[o.width,o.height],i=o.values),a=Ae(a)?a:a(i),i=r.size(s)(i,a),u&&i.forEach(u),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(Wt),n}});const C3="Feature",N6="FeatureCollection",$he="MultiPoint";function $6(e){ye.call(this,null,e)}$6.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Be($6,ye,{transform(e,t){var n=this._features,r=this._points,i=e.fields,a=i&&i[0],s=i&&i[1],o=e.geojson||!i&&di,u=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(li(o))||a&&t.modified(li(a))||s&&t.modified(li(s)),(!this.value||c)&&(u=t.SOURCE,this._features=n=[],this._points=r=[]),o&&t.visit(u,h=>n.push(o(h))),a&&s&&(t.visit(u,h=>{var d=a(h),p=s(h);d!=null&&p!=null&&(d=+d)===d&&(p=+p)===p&&r.push([d,p])}),n=n.concat({type:C3,geometry:{type:$he,coordinates:r}})),this.value={type:N6,features:n}}});function L6(e){ye.call(this,null,e)}L6.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Be(L6,ye,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||di,a=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=qG(e.projection),n.materialize().reflow()):s=i===di||t.modified(i.fields)?n.ADD_MOD:n.ADD;const o=Lhe(r,e.pointRadius);return n.visit(s,u=>u[a]=r(i(u))),r.pointRadius(o),n.modifies(a)}});function Lhe(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function I6(e){ye.call(this,null,e)}I6.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Be(I6,ye,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],a=e.as||["x","y"],s=a[0],o=a[1],u;function c(h){const d=n([r(h),i(h)]);d?(h[s]=d[0],h[o]=d[1]):(h[s]=void 0,h[o]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(u=t.modified(r.fields)||t.modified(i.fields),t.visit(u?t.ADD_MOD:t.ADD,c)),t.modifies(a)}});function z6(e){ye.call(this,null,e)}z6.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Be(z6,ye,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",a=n.ADD;return(!r||e.modified())&&(this.value=r=Ihe(qG(e.projection),e.field||ss("datum"),e.pointRadius),n.materialize().reflow(),a=n.SOURCE),n.visit(a,s=>s[i]=r),n.modifies(i)}});function Ihe(e,t,n){const r=n==null?i=>e(t(i)):i=>{var a=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(a),s};return r.context=i=>(e.context(i),r),r}function B6(e){ye.call(this,[],e),this.generator=O0e()}B6.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Be(B6,ye,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const a in e)_t(r[a])&&r[a](e[a]);return i=r(),n.length?t.mod.push(iU(n[0],i)):t.add.push(Wt(i)),n[0]=i,t}});function P6(e){ye.call(this,null,e)}P6.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Be(P6,ye,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||di,a=Bhe(e.opacity,e),s=zhe(e.color,e),o=e.as||"image",u={$x:0,$y:0,$value:0,$max:r?Rf(n.map(c=>Rf(i(c).values))):0};return n.forEach(c=>{const h=i(c),d=vt({},c,u);r||(d.$max=Rf(h.values||[])),c[o]=Phe(h,d,s.dep?s:gi(s(d)),a.dep?a:gi(a(d)))}),t.reflow(!0).modifies(o)}});function zhe(e,t){let n;return _t(e)?(n=r=>hc(e(r,t)),n.dep=KG(e)):n=gi(hc(e||"#888")),n}function Bhe(e,t){let n;return _t(e)?(n=r=>e(r,t),n.dep=KG(e)):e?n=gi(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function KG(e){if(!_t(e))return!1;const t=js(li(e));return t.$x||t.$y||t.$value||t.$max}function Phe(e,t,n,r){const i=e.width,a=e.height,s=e.x1||0,o=e.y1||0,u=e.x2||i,c=e.y2||a,h=e.values,d=h?_=>h[_]:Hu,p=ic(u-s,c-o),m=p.getContext("2d"),y=m.getImageData(0,0,u-s,c-o),v=y.data;for(let _=o,E=0;_<c;++_){t.$y=_-o;for(let w=s,A=_*i;w<u;++w,E+=4){t.$x=w-s,t.$value=d(w+A);const k=n(t);v[E+0]=k.r,v[E+1]=k.g,v[E+2]=k.b,v[E+3]=~~(255*r(t))}}return m.putImageData(y,0,0),p}function QG(e){ye.call(this,null,e),this.modified(!0)}Be(QG,ye,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=Hhe(e.type),k3.forEach(r=>{e[r]!=null&&c$(n,r,e[r])})):k3.forEach(r=>{e.modified(r)&&c$(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&Uhe(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Uhe(e,t){const n=jhe(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function Hhe(e){const t=D6((e||"mercator").toLowerCase());return t||be("Unrecognized projection type: "+e),t()}function c$(e,t,n){_t(e[t])&&e[t](n)}function jhe(e){return e=Ve(e),e.length===1?e[0]:{type:N6,features:e.reduce((t,n)=>t.concat(qhe(n)),[])}}function qhe(e){return e.type===N6?e.features:Ve(e).filter(t=>t!=null).map(t=>t.type===C3?t:{type:C3,geometry:t})}const Ghe=Object.freeze(Object.defineProperty({__proto__:null,contour:R6,geojson:$6,geopath:L6,geopoint:I6,geoshape:z6,graticule:B6,heatmap:P6,isocontour:O6,kde2d:M6,projection:QG},Symbol.toStringTag,{value:"Module"}));function Vhe(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var a,s=n.length,o,u=0,c=0;for(a=0;a<s;++a)o=n[a],u+=o.x,c+=o.y;for(u=(u/s-e)*r,c=(c/s-t)*r,a=0;a<s;++a)o=n[a],o.x-=u,o.y-=c}return i.initialize=function(a){n=a},i.x=function(a){return arguments.length?(e=+a,i):e},i.y=function(a){return arguments.length?(t=+a,i):t},i.strength=function(a){return arguments.length?(r=+a,i):r},i}function Xhe(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return ZG(this.cover(t,n),t,n,e)}function ZG(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a=e._root,s={data:r},o=e._x0,u=e._y0,c=e._x1,h=e._y1,d,p,m,y,v,_,E,w;if(!a)return e._root=s,e;for(;a.length;)if((v=t>=(d=(o+c)/2))?o=d:c=d,(_=n>=(p=(u+h)/2))?u=p:h=p,i=a,!(a=a[E=_<<1|v]))return i[E]=s,e;if(m=+e._x.call(null,a.data),y=+e._y.call(null,a.data),t===m&&n===y)return s.next=a,i?i[E]=s:e._root=s,e;do i=i?i[E]=new Array(4):e._root=new Array(4),(v=t>=(d=(o+c)/2))?o=d:c=d,(_=n>=(p=(u+h)/2))?u=p:h=p;while((E=_<<1|v)===(w=(y>=p)<<1|m>=d));return i[w]=a,i[E]=s,e}function Whe(e){var t,n,r=e.length,i,a,s=new Array(r),o=new Array(r),u=1/0,c=1/0,h=-1/0,d=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(a=+this._y.call(null,t))||(s[n]=i,o[n]=a,i<u&&(u=i),i>h&&(h=i),a<c&&(c=a),a>d&&(d=a));if(u>h||c>d)return this;for(this.cover(u,c).cover(h,d),n=0;n<r;++n)ZG(this,s[n],o[n],e[n]);return this}function Yhe(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var s=i-n||1,o=this._root,u,c;n>e||e>=i||r>t||t>=a;)switch(c=(t<r)<<1|e<n,u=new Array(4),u[c]=o,o=u,s*=2,c){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this}function Khe(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function Qhe(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Fi(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Zhe(e,t,n){var r,i=this._x0,a=this._y0,s,o,u,c,h=this._x1,d=this._y1,p=[],m=this._root,y,v;for(m&&p.push(new Fi(m,i,a,h,d)),n==null?n=1/0:(i=e-n,a=t-n,h=e+n,d=t+n,n*=n);y=p.pop();)if(!(!(m=y.node)||(s=y.x0)>h||(o=y.y0)>d||(u=y.x1)<i||(c=y.y1)<a))if(m.length){var _=(s+u)/2,E=(o+c)/2;p.push(new Fi(m[3],_,E,u,c),new Fi(m[2],s,E,_,c),new Fi(m[1],_,o,u,E),new Fi(m[0],s,o,_,E)),(v=(t>=E)<<1|e>=_)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=y)}else{var w=e-+this._x.call(null,m.data),A=t-+this._y.call(null,m.data),k=w*w+A*A;if(k<n){var D=Math.sqrt(n=k);i=e-D,a=t-D,h=e+D,d=t+D,r=m.data}}return r}function Jhe(e){if(isNaN(h=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e)))return this;var t,n=this._root,r,i,a,s=this._x0,o=this._y0,u=this._x1,c=this._y1,h,d,p,m,y,v,_,E;if(!n)return this;if(n.length)for(;;){if((y=h>=(p=(s+u)/2))?s=p:u=p,(v=d>=(m=(o+c)/2))?o=m:c=m,t=n,!(n=n[_=v<<1|y]))return this;if(!n.length)break;(t[_+1&3]||t[_+2&3]||t[_+3&3])&&(r=t,E=_)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):t?(a?t[_]=a:delete t[_],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[E]=n:this._root=n),this):(this._root=a,this)}function ede(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function tde(){return this._root}function nde(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function rde(e){var t=[],n,r=this._root,i,a,s,o,u;for(r&&t.push(new Fi(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,a=n.x0,s=n.y0,o=n.x1,u=n.y1)&&r.length){var c=(a+o)/2,h=(s+u)/2;(i=r[3])&&t.push(new Fi(i,c,h,o,u)),(i=r[2])&&t.push(new Fi(i,a,h,c,u)),(i=r[1])&&t.push(new Fi(i,c,s,o,h)),(i=r[0])&&t.push(new Fi(i,a,s,c,h))}return this}function ide(e){var t=[],n=[],r;for(this._root&&t.push(new Fi(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var a,s=r.x0,o=r.y0,u=r.x1,c=r.y1,h=(s+u)/2,d=(o+c)/2;(a=i[0])&&t.push(new Fi(a,s,o,h,d)),(a=i[1])&&t.push(new Fi(a,h,o,u,d)),(a=i[2])&&t.push(new Fi(a,s,d,h,c)),(a=i[3])&&t.push(new Fi(a,h,d,u,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function ade(e){return e[0]}function sde(e){return arguments.length?(this._x=e,this):this._x}function ode(e){return e[1]}function lde(e){return arguments.length?(this._y=e,this):this._y}function U6(e,t,n){var r=new H6(t??ade,n??ode,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function H6(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function f$(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var Pi=U6.prototype=H6.prototype;Pi.copy=function(){var e=new H6(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=f$(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=f$(r));return e};Pi.add=Xhe;Pi.addAll=Whe;Pi.cover=Yhe;Pi.data=Khe;Pi.extent=Qhe;Pi.find=Zhe;Pi.remove=Jhe;Pi.removeAll=ede;Pi.root=tde;Pi.size=nde;Pi.visit=rde;Pi.visitAfter=ide;Pi.x=sde;Pi.y=lde;function Di(e){return function(){return e}}function Ku(e){return(e()-.5)*1e-6}function ude(e){return e.x+e.vx}function cde(e){return e.y+e.vy}function fde(e){var t,n,r,i=1,a=1;typeof e!="function"&&(e=Di(e==null?1:+e));function s(){for(var c,h=t.length,d,p,m,y,v,_,E=0;E<a;++E)for(d=U6(t,ude,cde).visitAfter(o),c=0;c<h;++c)p=t[c],v=n[p.index],_=v*v,m=p.x+p.vx,y=p.y+p.vy,d.visit(w);function w(A,k,D,O,T){var F=A.data,C=A.r,N=v+C;if(F){if(F.index>p.index){var L=m-F.x-F.vx,I=y-F.y-F.vy,Q=L*L+I*I;Q<N*N&&(L===0&&(L=Ku(r),Q+=L*L),I===0&&(I=Ku(r),Q+=I*I),Q=(N-(Q=Math.sqrt(Q)))/Q*i,p.vx+=(L*=Q)*(N=(C*=C)/(_+C)),p.vy+=(I*=Q)*N,F.vx-=L*(N=1-N),F.vy-=I*N)}return}return k>m+N||O<m-N||D>y+N||T<y-N}}function o(c){if(c.data)return c.r=n[c.data.index];for(var h=c.r=0;h<4;++h)c[h]&&c[h].r>c.r&&(c.r=c[h].r)}function u(){if(t){var c,h=t.length,d;for(n=new Array(h),c=0;c<h;++c)d=t[c],n[d.index]=+e(d,c,t)}}return s.initialize=function(c,h){t=c,r=h,u()},s.iterations=function(c){return arguments.length?(a=+c,s):a},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Di(+c),u(),s):e},s}function hde(e){return e.index}function h$(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function dde(e){var t=hde,n=d,r,i=Di(30),a,s,o,u,c,h=1;e==null&&(e=[]);function d(_){return 1/Math.min(o[_.source.index],o[_.target.index])}function p(_){for(var E=0,w=e.length;E<h;++E)for(var A=0,k,D,O,T,F,C,N;A<w;++A)k=e[A],D=k.source,O=k.target,T=O.x+O.vx-D.x-D.vx||Ku(c),F=O.y+O.vy-D.y-D.vy||Ku(c),C=Math.sqrt(T*T+F*F),C=(C-a[A])/C*_*r[A],T*=C,F*=C,O.vx-=T*(N=u[A]),O.vy-=F*N,D.vx+=T*(N=1-N),D.vy+=F*N}function m(){if(s){var _,E=s.length,w=e.length,A=new Map(s.map((D,O)=>[t(D,O,s),D])),k;for(_=0,o=new Array(E);_<w;++_)k=e[_],k.index=_,typeof k.source!="object"&&(k.source=h$(A,k.source)),typeof k.target!="object"&&(k.target=h$(A,k.target)),o[k.source.index]=(o[k.source.index]||0)+1,o[k.target.index]=(o[k.target.index]||0)+1;for(_=0,u=new Array(w);_<w;++_)k=e[_],u[_]=o[k.source.index]/(o[k.source.index]+o[k.target.index]);r=new Array(w),y(),a=new Array(w),v()}}function y(){if(s)for(var _=0,E=e.length;_<E;++_)r[_]=+n(e[_],_,e)}function v(){if(s)for(var _=0,E=e.length;_<E;++_)a[_]=+i(e[_],_,e)}return p.initialize=function(_,E){s=_,c=E,m()},p.links=function(_){return arguments.length?(e=_,m(),p):e},p.id=function(_){return arguments.length?(t=_,p):t},p.iterations=function(_){return arguments.length?(h=+_,p):h},p.strength=function(_){return arguments.length?(n=typeof _=="function"?_:Di(+_),y(),p):n},p.distance=function(_){return arguments.length?(i=typeof _=="function"?_:Di(+_),v(),p):i},p}var gde={value:()=>{}};function JG(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Hv(n)}function Hv(e){this._=e}function pde(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Hv.prototype=JG.prototype={constructor:Hv,on:function(e,t){var n=this._,r=pde(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=mde(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=d$(n[i],e.name,t);else if(t==null)for(i in n)n[i]=d$(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Hv(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function mde(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function d$(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=gde,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var wd=0,J1=0,A1=0,eV=1e3,s_,ep,o_=0,Zf=0,jb=0,Wp=typeof performance=="object"&&performance.now?performance:Date,tV=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function j6(){return Zf||(tV(xde),Zf=Wp.now()+jb)}function xde(){Zf=0}function l_(){this._call=this._time=this._next=null}l_.prototype=nV.prototype={constructor:l_,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?j6():+n)+(t==null?0:+t),!this._next&&ep!==this&&(ep?ep._next=this:s_=this,ep=this),this._call=e,this._time=n,F3()},stop:function(){this._call&&(this._call=null,this._time=1/0,F3())}};function nV(e,t,n){var r=new l_;return r.restart(e,t,n),r}function yde(){j6(),++wd;for(var e=s_,t;e;)(t=Zf-e._time)>=0&&e._call.call(void 0,t),e=e._next;--wd}function g$(){Zf=(o_=Wp.now())+jb,wd=J1=0;try{yde()}finally{wd=0,_de(),Zf=0}}function vde(){var e=Wp.now(),t=e-o_;t>eV&&(jb-=t,o_=e)}function _de(){for(var e,t=s_,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:s_=n);ep=e,F3(r)}function F3(e){if(!wd){J1&&(J1=clearTimeout(J1));var t=e-Zf;t>24?(e<1/0&&(J1=setTimeout(g$,e-Wp.now()-jb)),A1&&(A1=clearInterval(A1))):(A1||(o_=Wp.now(),A1=setInterval(vde,eV)),wd=1,tV(g$))}}function bde(e,t,n){var r=new l_,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(a,s,o){s=+s,o=o==null?j6():+o,r._restart(function u(c){c+=i,r._restart(u,i+=s,o),a(c)},s,o)},r.restart(e,t,n),r)}const Ede=1664525,Sde=1013904223,p$=4294967296;function wde(){let e=1;return()=>(e=(Ede*e+Sde)%p$)/p$}function Ade(e){return e.x}function Tde(e){return e.y}var kde=10,Cde=Math.PI*(3-Math.sqrt(5));function Fde(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,s=.6,o=new Map,u=nV(d),c=JG("tick","end"),h=wde();e==null&&(e=[]);function d(){p(),c.call("tick",t),n<r&&(u.stop(),c.call("end",t))}function p(v){var _,E=e.length,w;v===void 0&&(v=1);for(var A=0;A<v;++A)for(n+=(a-n)*i,o.forEach(function(k){k(n)}),_=0;_<E;++_)w=e[_],w.fx==null?w.x+=w.vx*=s:(w.x=w.fx,w.vx=0),w.fy==null?w.y+=w.vy*=s:(w.y=w.fy,w.vy=0);return t}function m(){for(var v=0,_=e.length,E;v<_;++v){if(E=e[v],E.index=v,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var w=kde*Math.sqrt(.5+v),A=v*Cde;E.x=w*Math.cos(A),E.y=w*Math.sin(A)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function y(v){return v.initialize&&v.initialize(e,h),v}return m(),t={tick:p,restart:function(){return u.restart(d),t},stop:function(){return u.stop(),t},nodes:function(v){return arguments.length?(e=v,m(),o.forEach(y),t):e},alpha:function(v){return arguments.length?(n=+v,t):n},alphaMin:function(v){return arguments.length?(r=+v,t):r},alphaDecay:function(v){return arguments.length?(i=+v,t):+i},alphaTarget:function(v){return arguments.length?(a=+v,t):a},velocityDecay:function(v){return arguments.length?(s=1-v,t):1-s},randomSource:function(v){return arguments.length?(h=v,o.forEach(y),t):h},force:function(v,_){return arguments.length>1?(_==null?o.delete(v):o.set(v,y(_)),t):o.get(v)},find:function(v,_,E){var w=0,A=e.length,k,D,O,T,F;for(E==null?E=1/0:E*=E,w=0;w<A;++w)T=e[w],k=v-T.x,D=_-T.y,O=k*k+D*D,O<E&&(F=T,E=O);return F},on:function(v,_){return arguments.length>1?(c.on(v,_),t):c.on(v)}}}function Dde(){var e,t,n,r,i=Di(-30),a,s=1,o=1/0,u=.81;function c(m){var y,v=e.length,_=U6(e,Ade,Tde).visitAfter(d);for(r=m,y=0;y<v;++y)t=e[y],_.visit(p)}function h(){if(e){var m,y=e.length,v;for(a=new Array(y),m=0;m<y;++m)v=e[m],a[v.index]=+i(v,m,e)}}function d(m){var y=0,v,_,E=0,w,A,k;if(m.length){for(w=A=k=0;k<4;++k)(v=m[k])&&(_=Math.abs(v.value))&&(y+=v.value,E+=_,w+=_*v.x,A+=_*v.y);m.x=w/E,m.y=A/E}else{v=m,v.x=v.data.x,v.y=v.data.y;do y+=a[v.data.index];while(v=v.next)}m.value=y}function p(m,y,v,_){if(!m.value)return!0;var E=m.x-t.x,w=m.y-t.y,A=_-y,k=E*E+w*w;if(A*A/u<k)return k<o&&(E===0&&(E=Ku(n),k+=E*E),w===0&&(w=Ku(n),k+=w*w),k<s&&(k=Math.sqrt(s*k)),t.vx+=E*m.value*r/k,t.vy+=w*m.value*r/k),!0;if(m.length||k>=o)return;(m.data!==t||m.next)&&(E===0&&(E=Ku(n),k+=E*E),w===0&&(w=Ku(n),k+=w*w),k<s&&(k=Math.sqrt(s*k)));do m.data!==t&&(A=a[m.data.index]*r/k,t.vx+=E*A,t.vy+=w*A);while(m=m.next)}return c.initialize=function(m,y){e=m,n=y,h()},c.strength=function(m){return arguments.length?(i=typeof m=="function"?m:Di(+m),h(),c):i},c.distanceMin=function(m){return arguments.length?(s=m*m,c):Math.sqrt(s)},c.distanceMax=function(m){return arguments.length?(o=m*m,c):Math.sqrt(o)},c.theta=function(m){return arguments.length?(u=m*m,c):Math.sqrt(u)},c}function Ode(e){var t=Di(.1),n,r,i;typeof e!="function"&&(e=Di(e==null?0:+e));function a(o){for(var u=0,c=n.length,h;u<c;++u)h=n[u],h.vx+=(i[u]-h.x)*r[u]*o}function s(){if(n){var o,u=n.length;for(r=new Array(u),i=new Array(u),o=0;o<u;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Di(+o),s(),a):t},a.x=function(o){return arguments.length?(e=typeof o=="function"?o:Di(+o),s(),a):e},a}function Mde(e){var t=Di(.1),n,r,i;typeof e!="function"&&(e=Di(e==null?0:+e));function a(o){for(var u=0,c=n.length,h;u<c;++u)h=n[u],h.vy+=(i[u]-h.y)*r[u]*o}function s(){if(n){var o,u=n.length;for(r=new Array(u),i=new Array(u),o=0;o<u;++o)r[o]=isNaN(i[o]=+e(n[o],o,n))?0:+t(n[o],o,n)}}return a.initialize=function(o){n=o,s()},a.strength=function(o){return arguments.length?(t=typeof o=="function"?o:Di(+o),s(),a):t},a.y=function(o){return arguments.length?(e=typeof o=="function"?o:Di(+o),s(),a):e},a}const m$={center:Vhe,collide:fde,nbody:Dde,link:dde,x:Ode,y:Mde},tp="forces",D3=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Rde=["static","iterations"],rV=["x","y","vx","vy"];function q6(e){ye.call(this,null,e)}q6.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:rV}]};Be(q6,ye,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(D3),a=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&iV(n,e,0,t)):(this.value=n=$de(t.source,e),n.on("tick",Nde(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Rde)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/a)),e.static)for(n.stop();--a>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let o=this._argops,u=0,c=o.length,h;u<c;++u)if(h=o[u],!(h.name!==tp||h.op._argval.force!=="link")){for(var r=h.op._argops,i=0,a=r.length,s;i<a;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(rV)}});function Nde(e,t){return()=>e.touch(t).run()}function $de(e,t){const n=Fde(e),r=n.stop,i=n.restart;let a=!1;return n.stopped=()=>a,n.restart=()=>(a=!1,i()),n.stop=()=>(a=!0,r()),iV(n,t,!0).on("end",()=>a=!0)}function iV(e,t,n,r){var i=Ve(t.forces),a,s,o,u;for(a=0,s=D3.length;a<s;++a)o=D3[a],o!==tp&&t.modified(o)&&e[o](t[o]);for(a=0,s=i.length;a<s;++a)u=tp+a,o=n||t.modified(tp,a)?Ide(i[a]):r&&Lde(i[a],r)?e.force(u):null,o&&e.force(u,o);for(s=e.numForces||0;a<s;++a)e.force(tp+a,null);return e.numForces=i.length,e}function Lde(e,t){var n,r;for(n in e)if(_t(r=e[n])&&t.modified(li(r)))return 1;return 0}function Ide(e){var t,n;We(m$,e.force)||be("Unrecognized force: "+e.force),t=m$[e.force]();for(n in e)_t(t[n])&&zde(t[n],e[n],e);return t}function zde(e,t,n){e(_t(t)?r=>t(r,n):t)}const Bde=Object.freeze(Object.defineProperty({__proto__:null,force:q6},Symbol.toStringTag,{value:"Module"}));function Pde(e,t){return e.parent===t.parent?1:2}function Ude(e){return e.reduce(Hde,0)/e.length}function Hde(e,t){return e+t.x}function jde(e){return 1+e.reduce(qde,0)}function qde(e,t){return Math.max(e,t.y)}function Gde(e){for(var t;t=e.children;)e=t[0];return e}function Vde(e){for(var t;t=e.children;)e=t[t.length-1];return e}function Xde(){var e=Pde,t=1,n=1,r=!1;function i(a){var s,o=0;a.eachAfter(function(p){var m=p.children;m?(p.x=Ude(m),p.y=jde(m)):(p.x=s?o+=e(p,s):0,p.y=0,s=p)});var u=Gde(a),c=Vde(a),h=u.x-e(u,c)/2,d=c.x+e(c,u)/2;return a.eachAfter(r?function(p){p.x=(p.x-a.x)*t,p.y=(a.y-p.y)*n}:function(p){p.x=(p.x-h)/(d-h)*t,p.y=(1-(a.y?p.y/a.y:1))*n})}return i.separation=function(a){return arguments.length?(e=a,i):e},i.size=function(a){return arguments.length?(r=!1,t=+a[0],n=+a[1],i):r?null:[t,n]},i.nodeSize=function(a){return arguments.length?(r=!0,t=+a[0],n=+a[1],i):r?[t,n]:null},i}function Wde(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function Yde(){return this.eachAfter(Wde)}function Kde(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Qde(e,t){for(var n=this,r=[n],i,a,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(a=i.length-1;a>=0;--a)r.push(i[a]);return this}function Zde(e,t){for(var n=this,r=[n],i=[],a,s,o,u=-1;n=r.pop();)if(i.push(n),a=n.children)for(s=0,o=a.length;s<o;++s)r.push(a[s]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function Jde(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function ege(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function tge(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function nge(e){for(var t=this,n=rge(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function rge(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function ige(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function age(){return Array.from(this)}function sge(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function oge(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*lge(){var e=this,t,n=[e],r,i,a;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);while(n.length)}function G6(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=fge)):t===void 0&&(t=cge);for(var n=new Ad(e),r,i=[n],a,s,o,u;r=i.pop();)if((s=t(r.data))&&(u=(s=Array.from(s)).length))for(r.children=s,o=u-1;o>=0;--o)i.push(a=s[o]=new Ad(s[o])),a.parent=r,a.depth=r.depth+1;return n.eachBefore(aV)}function uge(){return G6(this).eachBefore(hge)}function cge(e){return e.children}function fge(e){return Array.isArray(e)?e[1]:null}function hge(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function aV(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ad(e){this.data=e,this.depth=this.height=0,this.parent=null}Ad.prototype=G6.prototype={constructor:Ad,count:Yde,each:Kde,eachAfter:Zde,eachBefore:Qde,find:Jde,sum:ege,sort:tge,path:nge,ancestors:ige,descendants:age,leaves:sge,links:oge,copy:uge,[Symbol.iterator]:lge};function jv(e){return e==null?null:sV(e)}function sV(e){if(typeof e!="function")throw new Error;return e}function Tf(){return 0}function Lh(e){return function(){return e}}const dge=1664525,gge=1013904223,x$=4294967296;function pge(){let e=1;return()=>(e=(dge*e+gge)%x$)/x$}function mge(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xge(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function yge(e,t){for(var n=0,r=(e=xge(Array.from(e),t)).length,i=[],a,s;n<r;)a=e[n],s&&oV(s,a)?++n:(s=_ge(i=vge(i,a)),n=0);return s}function vge(e,t){var n,r;if(JA(t,e))return[t];for(n=0;n<e.length;++n)if(ev(t,e[n])&&JA(np(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(ev(np(e[n],e[r]),t)&&ev(np(e[n],t),e[r])&&ev(np(e[r],t),e[n])&&JA(lV(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function ev(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function oV(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function JA(e,t){for(var n=0;n<t.length;++n)if(!oV(e,t[n]))return!1;return!0}function _ge(e){switch(e.length){case 1:return bge(e[0]);case 2:return np(e[0],e[1]);case 3:return lV(e[0],e[1],e[2])}}function bge(e){return{x:e.x,y:e.y,r:e.r}}function np(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,s=t.y,o=t.r,u=a-n,c=s-r,h=o-i,d=Math.sqrt(u*u+c*c);return{x:(n+a+u/d*h)/2,y:(r+s+c/d*h)/2,r:(d+i+o)/2}}function lV(e,t,n){var r=e.x,i=e.y,a=e.r,s=t.x,o=t.y,u=t.r,c=n.x,h=n.y,d=n.r,p=r-s,m=r-c,y=i-o,v=i-h,_=u-a,E=d-a,w=r*r+i*i-a*a,A=w-s*s-o*o+u*u,k=w-c*c-h*h+d*d,D=m*y-p*v,O=(y*k-v*A)/(D*2)-r,T=(v*_-y*E)/D,F=(m*A-p*k)/(D*2)-i,C=(p*E-m*_)/D,N=T*T+C*C-1,L=2*(a+O*T+F*C),I=O*O+F*F-a*a,Q=-(Math.abs(N)>1e-6?(L+Math.sqrt(L*L-4*N*I))/(2*N):I/L);return{x:r+O+T*Q,y:i+F+C*Q,r:Q}}function y$(e,t,n){var r=e.x-t.x,i,a,s=e.y-t.y,o,u,c=r*r+s*s;c?(a=t.r+n.r,a*=a,u=e.r+n.r,u*=u,a>u?(i=(c+u-a)/(2*c),o=Math.sqrt(Math.max(0,u/c-i*i)),n.x=e.x-i*r-o*s,n.y=e.y-i*s+o*r):(i=(c+a-u)/(2*c),o=Math.sqrt(Math.max(0,a/c-i*i)),n.x=t.x+i*r-o*s,n.y=t.y+i*s+o*r)):(n.x=t.x+n.r,n.y=t.y)}function v$(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function _$(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function tv(e){this._=e,this.next=null,this.previous=null}function Ege(e,t){if(!(a=(e=mge(e)).length))return 0;var n,r,i,a,s,o,u,c,h,d,p;if(n=e[0],n.x=0,n.y=0,!(a>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(a>2))return n.r+r.r;y$(r,n,i=e[2]),n=new tv(n),r=new tv(r),i=new tv(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(u=3;u<a;++u){y$(n._,r._,i=e[u]),i=new tv(i),c=r.next,h=n.previous,d=r._.r,p=n._.r;do if(d<=p){if(v$(c._,i._)){r=c,n.next=r,r.previous=n,--u;continue e}d+=c._.r,c=c.next}else{if(v$(h._,i._)){n=h,n.next=r,r.previous=n,--u;continue e}p+=h._.r,h=h.previous}while(c!==h.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=_$(n);(i=i.next)!==r;)(o=_$(i))<s&&(n=i,s=o);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=yge(n,t),u=0;u<a;++u)n=e[u],n.x-=i.x,n.y-=i.y;return i.r}function Sge(e){return Math.sqrt(e.value)}function wge(){var e=null,t=1,n=1,r=Tf;function i(a){const s=pge();return a.x=t/2,a.y=n/2,e?a.eachBefore(b$(e)).eachAfter(eT(r,.5,s)).eachBefore(E$(1)):a.eachBefore(b$(Sge)).eachAfter(eT(Tf,1,s)).eachAfter(eT(r,a.r/Math.min(t,n),s)).eachBefore(E$(Math.min(t,n)/(2*a.r))),a}return i.radius=function(a){return arguments.length?(e=jv(a),i):e},i.size=function(a){return arguments.length?(t=+a[0],n=+a[1],i):[t,n]},i.padding=function(a){return arguments.length?(r=typeof a=="function"?a:Lh(+a),i):r},i}function b$(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function eT(e,t,n){return function(r){if(i=r.children){var i,a,s=i.length,o=e(r)*t||0,u;if(o)for(a=0;a<s;++a)i[a].r+=o;if(u=Ege(i,n),o)for(a=0;a<s;++a)i[a].r-=o;r.r=u+o}}}function E$(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function uV(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function jm(e,t,n,r,i){for(var a=e.children,s,o=-1,u=a.length,c=e.value&&(r-t)/e.value;++o<u;)s=a[o],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function Age(){var e=1,t=1,n=0,r=!1;function i(s){var o=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/o,s.eachBefore(a(t,o)),r&&s.eachBefore(uV),s}function a(s,o){return function(u){u.children&&jm(u,u.x0,s*(u.depth+1)/o,u.x1,s*(u.depth+2)/o);var c=u.x0,h=u.y0,d=u.x1-n,p=u.y1-n;d<c&&(c=d=(c+d)/2),p<h&&(h=p=(h+p)/2),u.x0=c,u.y0=h,u.x1=d,u.y1=p}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var Tge={depth:-1},S$={},tT={};function kge(e){return e.id}function Cge(e){return e.parentId}function w$(){var e=kge,t=Cge,n;function r(i){var a=Array.from(i),s=e,o=t,u,c,h,d,p,m,y,v,_=new Map;if(n!=null){const E=a.map((k,D)=>Fge(n(k,D,i))),w=E.map(A$),A=new Set(E).add("");for(const k of w)A.has(k)||(A.add(k),E.push(k),w.push(A$(k)),a.push(tT));s=(k,D)=>E[D],o=(k,D)=>w[D]}for(h=0,u=a.length;h<u;++h)c=a[h],m=a[h]=new Ad(c),(y=s(c,h,i))!=null&&(y+="")&&(v=m.id=y,_.set(v,_.has(v)?S$:m)),(y=o(c,h,i))!=null&&(y+="")&&(m.parent=y);for(h=0;h<u;++h)if(m=a[h],y=m.parent){if(p=_.get(y),!p)throw new Error("missing: "+y);if(p===S$)throw new Error("ambiguous: "+y);p.children?p.children.push(m):p.children=[m],m.parent=p}else{if(d)throw new Error("multiple roots");d=m}if(!d)throw new Error("no root");if(n!=null){for(;d.data===tT&&d.children.length===1;)d=d.children[0],--u;for(let E=a.length-1;E>=0&&(m=a[E],m.data===tT);--E)m.data=null}if(d.parent=Tge,d.eachBefore(function(E){E.depth=E.parent.depth+1,--u}).eachBefore(aV),d.parent=null,u>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(e=jv(i),r):e},r.parentId=function(i){return arguments.length?(t=jv(i),r):t},r.path=function(i){return arguments.length?(n=jv(i),r):n},r}function Fge(e){e=`${e}`;let t=e.length;return O3(e,t-1)&&!O3(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function A$(e){let t=e.length;if(t<2)return"";for(;--t>1&&!O3(e,t););return e.slice(0,t)}function O3(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if((n&1)===0)return!0}return!1}function Dge(e,t){return e.parent===t.parent?1:2}function nT(e){var t=e.children;return t?t[0]:e.t}function rT(e){var t=e.children;return t?t[t.length-1]:e.t}function Oge(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function Mge(e){for(var t=0,n=0,r=e.children,i=r.length,a;--i>=0;)a=r[i],a.z+=t,a.m+=t,t+=a.s+(n+=a.c)}function Rge(e,t,n){return e.a.parent===t.parent?e.a:n}function qv(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}qv.prototype=Object.create(Ad.prototype);function Nge(e){for(var t=new qv(e,0),n,r=[t],i,a,s,o;n=r.pop();)if(a=n._.children)for(n.children=new Array(o=a.length),s=o-1;s>=0;--s)r.push(i=n.children[s]=new qv(a[s],s)),i.parent=n;return(t.parent=new qv(null,0)).children=[t],t}function $ge(){var e=Dge,t=1,n=1,r=null;function i(c){var h=Nge(c);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(s),r)c.eachBefore(u);else{var d=c,p=c,m=c;c.eachBefore(function(w){w.x<d.x&&(d=w),w.x>p.x&&(p=w),w.depth>m.depth&&(m=w)});var y=d===p?1:e(d,p)/2,v=y-d.x,_=t/(p.x+y+v),E=n/(m.depth||1);c.eachBefore(function(w){w.x=(w.x+v)*_,w.y=w.depth*E})}return c}function a(c){var h=c.children,d=c.parent.children,p=c.i?d[c.i-1]:null;if(h){Mge(c);var m=(h[0].z+h[h.length-1].z)/2;p?(c.z=p.z+e(c._,p._),c.m=c.z-m):c.z=m}else p&&(c.z=p.z+e(c._,p._));c.parent.A=o(c,p,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function o(c,h,d){if(h){for(var p=c,m=c,y=h,v=p.parent.children[0],_=p.m,E=m.m,w=y.m,A=v.m,k;y=rT(y),p=nT(p),y&&p;)v=nT(v),m=rT(m),m.a=c,k=y.z+w-p.z-_+e(y._,p._),k>0&&(Oge(Rge(y,c,d),c,k),_+=k,E+=k),w+=y.m,_+=p.m,A+=v.m,E+=m.m;y&&!rT(m)&&(m.t=y,m.m+=w-E),p&&!nT(v)&&(v.t=p,v.m+=_-A,d=c)}return d}function u(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function qb(e,t,n,r,i){for(var a=e.children,s,o=-1,u=a.length,c=e.value&&(i-n)/e.value;++o<u;)s=a[o],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}var cV=(1+Math.sqrt(5))/2;function fV(e,t,n,r,i,a){for(var s=[],o=t.children,u,c,h=0,d=0,p=o.length,m,y,v=t.value,_,E,w,A,k,D,O;h<p;){m=i-n,y=a-r;do _=o[d++].value;while(!_&&d<p);for(E=w=_,D=Math.max(y/m,m/y)/(v*e),O=_*_*D,k=Math.max(w/O,O/E);d<p;++d){if(_+=c=o[d].value,c<E&&(E=c),c>w&&(w=c),O=_*_*D,A=Math.max(w/O,O/E),A>k){_-=c;break}k=A}s.push(u={value:_,dice:m<y,children:o.slice(h,d)}),u.dice?jm(u,n,r,i,v?r+=y*_/v:a):qb(u,n,r,v?n+=m*_/v:i,a),v-=_,h=d}return s}const hV=(function e(t){function n(r,i,a,s,o){fV(t,r,i,a,s,o)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(cV);function Lge(){var e=hV,t=!1,n=1,r=1,i=[0],a=Tf,s=Tf,o=Tf,u=Tf,c=Tf;function h(p){return p.x0=p.y0=0,p.x1=n,p.y1=r,p.eachBefore(d),i=[0],t&&p.eachBefore(uV),p}function d(p){var m=i[p.depth],y=p.x0+m,v=p.y0+m,_=p.x1-m,E=p.y1-m;_<y&&(y=_=(y+_)/2),E<v&&(v=E=(v+E)/2),p.x0=y,p.y0=v,p.x1=_,p.y1=E,p.children&&(m=i[p.depth+1]=a(p)/2,y+=c(p)-m,v+=s(p)-m,_-=o(p)-m,E-=u(p)-m,_<y&&(y=_=(y+_)/2),E<v&&(v=E=(v+E)/2),e(p,y,v,_,E))}return h.round=function(p){return arguments.length?(t=!!p,h):t},h.size=function(p){return arguments.length?(n=+p[0],r=+p[1],h):[n,r]},h.tile=function(p){return arguments.length?(e=sV(p),h):e},h.padding=function(p){return arguments.length?h.paddingInner(p).paddingOuter(p):h.paddingInner()},h.paddingInner=function(p){return arguments.length?(a=typeof p=="function"?p:Lh(+p),h):a},h.paddingOuter=function(p){return arguments.length?h.paddingTop(p).paddingRight(p).paddingBottom(p).paddingLeft(p):h.paddingTop()},h.paddingTop=function(p){return arguments.length?(s=typeof p=="function"?p:Lh(+p),h):s},h.paddingRight=function(p){return arguments.length?(o=typeof p=="function"?p:Lh(+p),h):o},h.paddingBottom=function(p){return arguments.length?(u=typeof p=="function"?p:Lh(+p),h):u},h.paddingLeft=function(p){return arguments.length?(c=typeof p=="function"?p:Lh(+p),h):c},h}function Ige(e,t,n,r,i){var a=e.children,s,o=a.length,u,c=new Array(o+1);for(c[0]=u=s=0;s<o;++s)c[s+1]=u+=a[s].value;h(0,o,e.value,t,n,r,i);function h(d,p,m,y,v,_,E){if(d>=p-1){var w=a[d];w.x0=y,w.y0=v,w.x1=_,w.y1=E;return}for(var A=c[d],k=m/2+A,D=d+1,O=p-1;D<O;){var T=D+O>>>1;c[T]<k?D=T+1:O=T}k-c[D-1]<c[D]-k&&d+1<D&&--D;var F=c[D]-A,C=m-F;if(_-y>E-v){var N=m?(y*C+_*F)/m:_;h(d,D,F,y,v,N,E),h(D,p,C,N,v,_,E)}else{var L=m?(v*C+E*F)/m:E;h(d,D,F,y,v,_,L),h(D,p,C,y,L,_,E)}}}function zge(e,t,n,r,i){(e.depth&1?qb:jm)(e,t,n,r,i)}const Bge=(function e(t){function n(r,i,a,s,o){if((u=r._squarify)&&u.ratio===t)for(var u,c,h,d,p=-1,m,y=u.length,v=r.value;++p<y;){for(c=u[p],h=c.children,d=c.value=0,m=h.length;d<m;++d)c.value+=h[d].value;c.dice?jm(c,i,a,s,v?a+=(o-a)*c.value/v:o):qb(c,i,a,v?i+=(s-i)*c.value/v:s,o),v-=c.value}else r._squarify=u=fV(t,r,i,a,s,o),u.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n})(cV);function M3(e,t,n){const r={};return e.each(i=>{const a=i.data;n(a)&&(r[t(a)]=i)}),e.lookup=r,e}function V6(e){ye.call(this,null,e)}V6.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const Pge=e=>e.values;Be(V6,ye,{transform(e,t){t.source||be("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),a=this.value;return(!a||r||t.changed())&&(a&&a.each(s=>{s.children&&ib(s.data)&&i.rem.push(s.data)}),this.value=a=G6({values:Ve(e.keys).reduce((s,o)=>(s.key(o),s),Uge()).entries(i.source)},Pge),n&&a.each(s=>{s.children&&(s=Wt(s.data),i.add.push(s),i.source.push(s))}),M3(a,it,it)),i.source.root=a,i}});function Uge(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,a){if(a>=e.length)return i;const s=i.length,o=e[a++],u={},c={};let h=-1,d,p,m;for(;++h<s;)d=o(p=i[h])+"",(m=u[d])?m.push(p):u[d]=[p];for(d in u)c[d]=n(u[d],a);return c}function r(i,a){if(++a>e.length)return i;const s=[];for(const o in i)s.push({key:o,values:r(i[o],a)});return s}return t}function Jl(e){ye.call(this,null,e)}const Hge=(e,t)=>e.parent===t.parent?1:2;Be(Jl,ye,{transform(e,t){(!t.source||!t.source.root)&&be(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,a=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(y0(e.sort,s=>s.data)),jge(n,this.params,e),n.separation&&n.separation(e.separation!==!1?Hge:qd);try{this.value=n(i)}catch(s){be(s)}return i.each(s=>qge(s,r,a)),t.reflow(e.modified()).modifies(a).modifies("leaf")}});function jge(e,t,n){for(let r,i=0,a=t.length;i<a;++i)r=t[i],r in n&&e[r](n[r])}function qge(e,t,n){const r=e.data,i=t.length-1;for(let a=0;a<i;++a)r[n[a]]=e[t[a]];r[n[i]]=e.children?e.children.length:0}const R3=["x","y","r","depth","children"];function X6(e){Jl.call(this,e)}X6.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:R3.length,default:R3}]};Be(X6,Jl,{layout:wge,params:["radius","size","padding"],fields:R3});const N3=["x0","y0","x1","y1","depth","children"];function W6(e){Jl.call(this,e)}W6.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:N3.length,default:N3}]};Be(W6,Jl,{layout:Age,params:["size","round","padding"],fields:N3});function Y6(e){ye.call(this,null,e)}Y6.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Be(Y6,ye,{transform(e,t){t.source||be("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),a=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),a&&(n=i.source.length?M3(w$().id(e.key).parentId(e.parentKey)(i.source),e.key,os):M3(w$()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const T$={tidy:$ge,cluster:Xde},$3=["x","y","depth","children"];function K6(e){Jl.call(this,e)}K6.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:$3.length,default:$3}]};Be(K6,Jl,{layout(e){const t=e||"tidy";if(We(T$,t))return T$[t]();be("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:$3});function Q6(e){ye.call(this,[],e)}Q6.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Be(Q6,ye,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),a={};return r||be("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>a[it(s)]=1),r.each(s=>{const o=s.data,u=s.parent&&s.parent.data;u&&a[it(o)]&&a[it(u)]&&i.add.push(Wt({source:u,target:o}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>a[it(s)]=1),n.forEach(s=>{(a[it(s.source)]||a[it(s.target)])&&i.mod.push(s)})),i}});const k$={binary:Ige,dice:jm,slice:qb,slicedice:zge,squarify:hV,resquarify:Bge},L3=["x0","y0","x1","y1","depth","children"];function Z6(e){Jl.call(this,e)}Z6.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:L3.length,default:L3}]};Be(Z6,Jl,{layout(){const e=Lge();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{We(k$,t)?e.tile(k$[t]):be("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:L3});const Gge=Object.freeze(Object.defineProperty({__proto__:null,nest:V6,pack:X6,partition:W6,stratify:Y6,tree:K6,treelinks:Q6,treemap:Z6},Symbol.toStringTag,{value:"Module"})),iT=4278190080;function Vge(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function Xge(e,t,n,r,i){const a=e.width,s=e.height,o=r||i,u=ic(a,s).getContext("2d"),c=ic(a,s).getContext("2d"),h=o&&ic(a,s).getContext("2d");n.forEach(F=>Gv(u,F,!1)),Gv(c,t,!1),o&&Gv(h,t,!0);const d=aT(u,a,s),p=aT(c,a,s),m=o&&aT(h,a,s),y=e.bitmap(),v=o&&e.bitmap();let _,E,w,A,k,D,O,T;for(E=0;E<s;++E)for(_=0;_<a;++_)k=E*a+_,D=d[k]&iT,T=p[k]&iT,O=o&&m[k]&iT,(D||O||T)&&(w=e(_),A=e(E),!i&&(D||T)&&y.set(w,A),o&&(D||O)&&v.set(w,A));return[y,v]}function aT(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function Gv(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(a=>Gv(e,a.items,n))}):Ma[r].draw(e,{items:n?t.map(Wge):t})}function Wge(e){const t=ab(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const bl=5,vi=31,Yp=32,Pu=new Uint32Array(Yp+1),Ds=new Uint32Array(Yp+1);Ds[0]=0;Pu[0]=~Ds[0];for(let e=1;e<=Yp;++e)Ds[e]=Ds[e-1]<<1|1,Pu[e]=~Ds[e];function Yge(e,t){const n=new Uint32Array(~~((e*t+Yp)/Yp));function r(a,s){n[a]|=s}function i(a,s){n[a]&=s}return{array:n,get:(a,s)=>{const o=s*e+a;return n[o>>>bl]&1<<(o&vi)},set:(a,s)=>{const o=s*e+a;r(o>>>bl,1<<(o&vi))},clear:(a,s)=>{const o=s*e+a;i(o>>>bl,~(1<<(o&vi)))},getRange:(a,s,o,u)=>{let c=u,h,d,p,m;for(;c>=s;--c)if(h=c*e+a,d=c*e+o,p=h>>>bl,m=d>>>bl,p===m){if(n[p]&Pu[h&vi]&Ds[(d&vi)+1])return!0}else{if(n[p]&Pu[h&vi]||n[m]&Ds[(d&vi)+1])return!0;for(let y=p+1;y<m;++y)if(n[y])return!0}return!1},setRange:(a,s,o,u)=>{let c,h,d,p,m;for(;s<=u;++s)if(c=s*e+a,h=s*e+o,d=c>>>bl,p=h>>>bl,d===p)r(d,Pu[c&vi]&Ds[(h&vi)+1]);else for(r(d,Pu[c&vi]),r(p,Ds[(h&vi)+1]),m=d+1;m<p;++m)r(m,4294967295)},clearRange:(a,s,o,u)=>{let c,h,d,p,m;for(;s<=u;++s)if(c=s*e+a,h=s*e+o,d=c>>>bl,p=h>>>bl,d===p)i(d,Ds[c&vi]|Pu[(h&vi)+1]);else for(i(d,Ds[c&vi]),i(p,Pu[(h&vi)+1]),m=d+1;m<p;++m)i(m,0)},outOfBounds:(a,s,o,u)=>a<0||s<0||u>=t||o>=e}}function Kge(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),a=~~((t+2*n+r)/r),s=o=>~~((o+n)/r);return s.invert=o=>o*r-n,s.bitmap=()=>Yge(i,a),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function Qge(e,t,n,r){const i=e.width,a=e.height;return function(s){const o=s.datum.datum.items[r].items,u=o.length,c=s.datum.fontSize,h=Ta.width(s.datum,s.datum.text);let d=0,p,m,y,v,_,E,w;for(let A=0;A<u;++A)p=o[A].x,y=o[A].y,m=o[A].x2===void 0?p:o[A].x2,v=o[A].y2===void 0?y:o[A].y2,_=(p+m)/2,E=(y+v)/2,w=Math.abs(m-p+v-y),w>=d&&(d=w,s.x=_,s.y=E);return _=h/2,E=c/2,p=s.x-_,m=s.x+_,y=s.y-E,v=s.y+E,s.align="center",p<0&&m<=i?s.align="left":0<=p&&i<m&&(s.align="right"),s.baseline="middle",y<0&&v<=a?s.baseline="top":0<=y&&a<v&&(s.baseline="bottom"),!0}}function u_(e,t,n,r,i,a){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>a}function Qu(e,t,n,r,i,a,s,o){const u=i*a/(r*2),c=e(t-u),h=e(t+u),d=e(n-(a=a/2)),p=e(n+a);return s.outOfBounds(c,d,h,p)||s.getRange(c,d,h,p)||o&&o.getRange(c,d,h,p)}function Zge(e,t,n,r){const i=e.width,a=e.height,s=t[0],o=t[1];function u(c,h,d,p,m){const y=e.invert(c),v=e.invert(h);let _=d,E=a,w;if(!u_(y,v,p,m,i,a)&&!Qu(e,y,v,m,p,_,s,o)&&!Qu(e,y,v,m,p,m,s,null)){for(;E-_>=1;)w=(_+E)/2,Qu(e,y,v,m,p,w,s,o)?E=w:_=w;if(_>d)return[y,v,_,!0]}}return function(c){const h=c.datum.datum.items[r].items,d=h.length,p=c.datum.fontSize,m=Ta.width(c.datum,c.datum.text);let y=n?p:0,v=!1,_=!1,E=0,w,A,k,D,O,T,F,C,N,L,I,Q,J,H,z,X,re;for(let j=0;j<d;++j){for(w=h[j].x,k=h[j].y,A=h[j].x2===void 0?w:h[j].x2,D=h[j].y2===void 0?k:h[j].y2,w>A&&(re=w,w=A,A=re),k>D&&(re=k,k=D,D=re),N=e(w),I=e(A),L=~~((N+I)/2),Q=e(k),H=e(D),J=~~((Q+H)/2),F=L;F>=N;--F)for(C=J;C>=Q;--C)X=u(F,C,y,m,p),X&&([c.x,c.y,y,v]=X);for(F=L;F<=I;++F)for(C=J;C<=H;++C)X=u(F,C,y,m,p),X&&([c.x,c.y,y,v]=X);!v&&!n&&(z=Math.abs(A-w+D-k),O=(w+A)/2,T=(k+D)/2,z>=E&&!u_(O,T,m,p,i,a)&&!Qu(e,O,T,p,m,p,s,null)&&(E=z,c.x=O,c.y=T,_=!0))}return v||_?(O=m/2,T=p/2,s.setRange(e(c.x-O),e(c.y-T),e(c.x+O),e(c.y+T)),c.align="center",c.baseline="middle",!0):!1}}const Jge=[-1,-1,1,1],e1e=[-1,1,-1,1];function t1e(e,t,n,r){const i=e.width,a=e.height,s=t[0],o=t[1],u=e.bitmap();return function(c){const h=c.datum.datum.items[r].items,d=h.length,p=c.datum.fontSize,m=Ta.width(c.datum,c.datum.text),y=[];let v=n?p:0,_=!1,E=!1,w=0,A,k,D,O,T,F,C,N,L,I,Q,J;for(let H=0;H<d;++H){for(A=h[H].x,D=h[H].y,k=h[H].x2===void 0?A:h[H].x2,O=h[H].y2===void 0?D:h[H].y2,y.push([e((A+k)/2),e((D+O)/2)]);y.length;)if([C,N]=y.pop(),!(s.get(C,N)||o.get(C,N)||u.get(C,N))){u.set(C,N);for(let z=0;z<4;++z)T=C+Jge[z],F=N+e1e[z],u.outOfBounds(T,F,T,F)||y.push([T,F]);if(T=e.invert(C),F=e.invert(N),L=v,I=a,!u_(T,F,m,p,i,a)&&!Qu(e,T,F,p,m,L,s,o)&&!Qu(e,T,F,p,m,p,s,null)){for(;I-L>=1;)Q=(L+I)/2,Qu(e,T,F,p,m,Q,s,o)?I=Q:L=Q;L>v&&(c.x=T,c.y=F,v=L,_=!0)}}!_&&!n&&(J=Math.abs(k-A+O-D),T=(A+k)/2,F=(D+O)/2,J>=w&&!u_(T,F,m,p,i,a)&&!Qu(e,T,F,p,m,p,s,null)&&(w=J,c.x=T,c.y=F,E=!0))}return _||E?(T=m/2,F=p/2,s.setRange(e(c.x-T),e(c.y-F),e(c.x+T),e(c.y+F)),c.align="center",c.baseline="middle",!0):!1}}const n1e=["right","center","left"],r1e=["bottom","middle","top"];function i1e(e,t,n,r){const i=e.width,a=e.height,s=t[0],o=t[1],u=r.length;return function(c){const h=c.boundary,d=c.datum.fontSize;if(h[2]<0||h[5]<0||h[0]>i||h[3]>a)return!1;let p=c.textWidth??0,m,y,v,_,E,w,A,k,D,O,T,F,C,N,L;for(let I=0;I<u;++I){if(m=(n[I]&3)-1,y=(n[I]>>>2&3)-1,v=m===0&&y===0||r[I]<0,_=m&&y?Math.SQRT1_2:1,E=r[I]<0?-1:1,w=h[1+m]+r[I]*m*_,T=h[4+y]+E*d*y/2+r[I]*y*_,k=T-d/2,D=T+d/2,F=e(w),N=e(k),L=e(D),!p)if(C$(F,F,N,L,s,o,w,w,k,D,h,v))p=Ta.width(c.datum,c.datum.text);else continue;if(O=w+E*p*m/2,w=O-p/2,A=O+p/2,F=e(w),C=e(A),C$(F,C,N,L,s,o,w,A,k,D,h,v))return c.x=m?m*E<0?A:w:O,c.y=y?y*E<0?D:k:T,c.align=n1e[m*E+1],c.baseline=r1e[y*E+1],s.setRange(F,N,C,L),!0}return!1}}function C$(e,t,n,r,i,a,s,o,u,c,h,d){return!(i.outOfBounds(e,n,t,r)||(d&&a||i).getRange(e,n,t,r))}const sT=0,oT=4,lT=8,uT=0,cT=1,fT=2,a1e={"top-left":sT+uT,top:sT+cT,"top-right":sT+fT,left:oT+uT,middle:oT+cT,right:oT+fT,"bottom-left":lT+uT,bottom:lT+cT,"bottom-right":lT+fT},s1e={naive:Qge,"reduced-search":Zge,floodfill:t1e};function o1e(e,t,n,r,i,a,s,o,u,c,h){if(!e.length)return e;const d=Math.max(r.length,i.length),p=l1e(r,d),m=u1e(i,d),y=c1e(e[0].datum),v=y==="group"&&e[0].datum.items[u].marktype,_=v==="area",E=f1e(y,v,o,u),w=c===null||c===1/0,A=_&&h==="naive";let k=-1,D=-1;const O=e.map(N=>{const L=w?Ta.width(N,N.text):void 0;return k=Math.max(k,L),D=Math.max(D,N.fontSize),{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:E(N),textWidth:L}});c=c===null||c===1/0?Math.max(k,D)+Math.max(...r):c;const T=Kge(t[0],t[1],c);let F;if(!A){n&&O.sort((I,Q)=>n(I.datum,Q.datum));let N=!1;for(let I=0;I<m.length&&!N;++I)N=m[I]===5||p[I]<0;const L=(y&&s||_)&&e.map(I=>I.datum);F=a.length||L?Xge(T,L||[],a,N,_):Vge(T,s&&O)}const C=_?s1e[h](T,F,s,u):i1e(T,F,m,p);return O.forEach(N=>N.opacity=+C(N)),O}function l1e(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function u1e(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=a1e[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function c1e(e){return e&&e.mark&&e.mark.marktype}function f1e(e,t,n,r){const i=a=>[a.x,a.x,a.x,a.y,a.y,a.y];return e?e==="line"||e==="area"?a=>i(a.datum):t==="line"?a=>{const s=a.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:a=>{const s=a.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const I3=["x","y","opacity","align","baseline"],dV=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function J6(e){ye.call(this,null,e)}J6.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:dV},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:I3.length,default:I3}]};Be(J6,ye,{transform(e,t){function n(a){const s=e[a];return _t(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&be("Size parameter should be specified as a [width, height] array.");const i=e.as||I3;return o1e(t.materialize(t.SOURCE).source||[],e.size,e.sort,Ve(e.offset==null?1:e.offset),Ve(e.anchor||dV),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(a=>{const s=a.datum;s[i[0]]=a.x,s[i[1]]=a.y,s[i[2]]=a.opacity,s[i[3]]=a.align,s[i[4]]=a.baseline}),t.reflow(r).modifies(i)}});const h1e=Object.freeze(Object.defineProperty({__proto__:null,label:J6},Symbol.toStringTag,{value:"Module"}));function gV(e,t){var n=[],r=function(h){return h(o)},i,a,s,o,u,c;if(t==null)n.push(e);else for(i={},a=0,s=e.length;a<s;++a)o=e[a],u=t.map(r),c=i[u],c||(i[u]=c=[],c.dims=u,n.push(c)),c.push(o);return n}function eD(e){ye.call(this,null,e)}eD.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Be(eD,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=gV(r,e.groupby),a=(e.groupby||[]).map(Un),s=a.length,o=e.as||[Un(e.x),Un(e.y)],u=[];i.forEach(c=>{EU(c,e.x,e.y,e.bandwidth||.3).forEach(h=>{const d={};for(let p=0;p<s;++p)d[a[p]]=c.dims[p];d[o[0]]=h[0],d[o[1]]=h[1],u.push(Wt(d))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=u}return n}});const z3={constant:$C,linear:LC,log:yU,exp:vU,pow:_U,quad:IC,poly:bU},d1e=(e,t)=>e==="poly"?t:e==="quad"?2:1;function tD(e){ye.call(this,null,e)}tD.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(z3)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Be(tD,ye,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=gV(r,e.groupby),a=(e.groupby||[]).map(Un),s=e.method||"linear",o=e.order==null?3:e.order,u=d1e(s,o),c=e.as||[Un(e.x),Un(e.y)],h=z3[s],d=[];let p=e.extent;We(z3,s)||be("Invalid regression method: "+s),p!=null&&s==="log"&&p[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),p=null),i.forEach(m=>{if(m.length<=u){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const v=h(m,e.x,e.y,o);if(e.params){d.push(Wt({keys:m.dims,coef:v.coef,rSquared:v.rSquared}));return}const _=p||Do(m,e.x),E=w=>{const A={};for(let k=0;k<a.length;++k)A[a[k]]=m.dims[k];A[c[0]]=w[0],A[c[1]]=w[1],d.push(Wt(A))};s==="linear"||s==="constant"?_.forEach(w=>E([w,v.predict(w)])):hb(v.predict,_,25,200).forEach(E)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=d}return n}});const g1e=Object.freeze(Object.defineProperty({__proto__:null,loess:eD,regression:tD},Symbol.toStringTag,{value:"Module"})),Il=11102230246251565e-32,Qr=134217729,p1e=(3+8*Il)*Il;function hT(e,t,n,r,i){let a,s,o,u,c=t[0],h=r[0],d=0,p=0;h>c==h>-c?(a=c,c=t[++d]):(a=h,h=r[++p]);let m=0;if(d<e&&p<n)for(h>c==h>-c?(s=c+a,o=a-(s-c),c=t[++d]):(s=h+a,o=a-(s-h),h=r[++p]),a=s,o!==0&&(i[m++]=o);d<e&&p<n;)h>c==h>-c?(s=a+c,u=s-a,o=a-(s-u)+(c-u),c=t[++d]):(s=a+h,u=s-a,o=a-(s-u)+(h-u),h=r[++p]),a=s,o!==0&&(i[m++]=o);for(;d<e;)s=a+c,u=s-a,o=a-(s-u)+(c-u),c=t[++d],a=s,o!==0&&(i[m++]=o);for(;p<n;)s=a+h,u=s-a,o=a-(s-u)+(h-u),h=r[++p],a=s,o!==0&&(i[m++]=o);return(a!==0||m===0)&&(i[m++]=a),m}function m1e(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function qm(e){return new Float64Array(e)}const x1e=(3+16*Il)*Il,y1e=(2+12*Il)*Il,v1e=(9+64*Il)*Il*Il,Fh=qm(4),F$=qm(8),D$=qm(12),O$=qm(16),_i=qm(4);function _1e(e,t,n,r,i,a,s){let o,u,c,h,d,p,m,y,v,_,E,w,A,k,D,O,T,F;const C=e-i,N=n-i,L=t-a,I=r-a;k=C*I,p=Qr*C,m=p-(p-C),y=C-m,p=Qr*I,v=p-(p-I),_=I-v,D=y*_-(k-m*v-y*v-m*_),O=L*N,p=Qr*L,m=p-(p-L),y=L-m,p=Qr*N,v=p-(p-N),_=N-v,T=y*_-(O-m*v-y*v-m*_),E=D-T,d=D-E,Fh[0]=D-(E+d)+(d-T),w=k+E,d=w-k,A=k-(w-d)+(E-d),E=A-O,d=A-E,Fh[1]=A-(E+d)+(d-O),F=w+E,d=F-w,Fh[2]=w-(F-d)+(E-d),Fh[3]=F;let Q=m1e(4,Fh),J=y1e*s;if(Q>=J||-Q>=J||(d=e-C,o=e-(C+d)+(d-i),d=n-N,c=n-(N+d)+(d-i),d=t-L,u=t-(L+d)+(d-a),d=r-I,h=r-(I+d)+(d-a),o===0&&u===0&&c===0&&h===0)||(J=v1e*s+p1e*Math.abs(Q),Q+=C*h+I*o-(L*c+N*u),Q>=J||-Q>=J))return Q;k=o*I,p=Qr*o,m=p-(p-o),y=o-m,p=Qr*I,v=p-(p-I),_=I-v,D=y*_-(k-m*v-y*v-m*_),O=u*N,p=Qr*u,m=p-(p-u),y=u-m,p=Qr*N,v=p-(p-N),_=N-v,T=y*_-(O-m*v-y*v-m*_),E=D-T,d=D-E,_i[0]=D-(E+d)+(d-T),w=k+E,d=w-k,A=k-(w-d)+(E-d),E=A-O,d=A-E,_i[1]=A-(E+d)+(d-O),F=w+E,d=F-w,_i[2]=w-(F-d)+(E-d),_i[3]=F;const H=hT(4,Fh,4,_i,F$);k=C*h,p=Qr*C,m=p-(p-C),y=C-m,p=Qr*h,v=p-(p-h),_=h-v,D=y*_-(k-m*v-y*v-m*_),O=L*c,p=Qr*L,m=p-(p-L),y=L-m,p=Qr*c,v=p-(p-c),_=c-v,T=y*_-(O-m*v-y*v-m*_),E=D-T,d=D-E,_i[0]=D-(E+d)+(d-T),w=k+E,d=w-k,A=k-(w-d)+(E-d),E=A-O,d=A-E,_i[1]=A-(E+d)+(d-O),F=w+E,d=F-w,_i[2]=w-(F-d)+(E-d),_i[3]=F;const z=hT(H,F$,4,_i,D$);k=o*h,p=Qr*o,m=p-(p-o),y=o-m,p=Qr*h,v=p-(p-h),_=h-v,D=y*_-(k-m*v-y*v-m*_),O=u*c,p=Qr*u,m=p-(p-u),y=u-m,p=Qr*c,v=p-(p-c),_=c-v,T=y*_-(O-m*v-y*v-m*_),E=D-T,d=D-E,_i[0]=D-(E+d)+(d-T),w=k+E,d=w-k,A=k-(w-d)+(E-d),E=A-O,d=A-E,_i[1]=A-(E+d)+(d-O),F=w+E,d=F-w,_i[2]=w-(F-d)+(E-d),_i[3]=F;const X=hT(z,D$,4,_i,O$);return O$[X-1]}function nv(e,t,n,r,i,a){const s=(t-a)*(n-i),o=(e-i)*(r-a),u=s-o,c=Math.abs(s+o);return Math.abs(u)>=x1e*c?u:-_1e(e,t,n,r,i,a,c)}const M$=Math.pow(2,-52),rv=new Uint32Array(512);class c_{static from(t,n=A1e,r=T1e){const i=t.length,a=new Float64Array(i*2);for(let s=0;s<i;s++){const o=t[s];a[2*s]=n(o),a[2*s+1]=r(o)}return new c_(a)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:a}=this,s=t.length>>1;let o=1/0,u=1/0,c=-1/0,h=-1/0;for(let C=0;C<s;C++){const N=t[2*C],L=t[2*C+1];N<o&&(o=N),L<u&&(u=L),N>c&&(c=N),L>h&&(h=L),this._ids[C]=C}const d=(o+c)/2,p=(u+h)/2;let m,y,v;for(let C=0,N=1/0;C<s;C++){const L=dT(d,p,t[2*C],t[2*C+1]);L<N&&(m=C,N=L)}const _=t[2*m],E=t[2*m+1];for(let C=0,N=1/0;C<s;C++){if(C===m)continue;const L=dT(_,E,t[2*C],t[2*C+1]);L<N&&L>0&&(y=C,N=L)}let w=t[2*y],A=t[2*y+1],k=1/0;for(let C=0;C<s;C++){if(C===m||C===y)continue;const N=S1e(_,E,w,A,t[2*C],t[2*C+1]);N<k&&(v=C,k=N)}let D=t[2*v],O=t[2*v+1];if(k===1/0){for(let L=0;L<s;L++)this._dists[L]=t[2*L]-t[0]||t[2*L+1]-t[1];qh(this._ids,this._dists,0,s-1);const C=new Uint32Array(s);let N=0;for(let L=0,I=-1/0;L<s;L++){const Q=this._ids[L],J=this._dists[Q];J>I&&(C[N++]=Q,I=J)}this.hull=C.subarray(0,N),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(nv(_,E,w,A,D,O)<0){const C=y,N=w,L=A;y=v,w=D,A=O,v=C,D=N,O=L}const T=w1e(_,E,w,A,D,O);this._cx=T.x,this._cy=T.y;for(let C=0;C<s;C++)this._dists[C]=dT(t[2*C],t[2*C+1],T.x,T.y);qh(this._ids,this._dists,0,s-1),this._hullStart=m;let F=3;r[m]=n[v]=y,r[y]=n[m]=v,r[v]=n[y]=m,i[m]=0,i[y]=1,i[v]=2,a.fill(-1),a[this._hashKey(_,E)]=m,a[this._hashKey(w,A)]=y,a[this._hashKey(D,O)]=v,this.trianglesLen=0,this._addTriangle(m,y,v,-1,-1,-1);for(let C=0,N,L;C<this._ids.length;C++){const I=this._ids[C],Q=t[2*I],J=t[2*I+1];if(C>0&&Math.abs(Q-N)<=M$&&Math.abs(J-L)<=M$||(N=Q,L=J,I===m||I===y||I===v))continue;let H=0;for(let le=0,q=this._hashKey(Q,J);le<this._hashSize&&(H=a[(q+le)%this._hashSize],!(H!==-1&&H!==r[H]));le++);H=n[H];let z=H,X;for(;X=r[z],nv(Q,J,t[2*z],t[2*z+1],t[2*X],t[2*X+1])>=0;)if(z=X,z===H){z=-1;break}if(z===-1)continue;let re=this._addTriangle(z,I,r[z],-1,-1,i[z]);i[I]=this._legalize(re+2),i[z]=re,F++;let j=r[z];for(;X=r[j],nv(Q,J,t[2*j],t[2*j+1],t[2*X],t[2*X+1])<0;)re=this._addTriangle(j,I,X,i[I],-1,i[j]),i[I]=this._legalize(re+2),r[j]=j,F--,j=X;if(z===H)for(;X=n[z],nv(Q,J,t[2*X],t[2*X+1],t[2*z],t[2*z+1])<0;)re=this._addTriangle(X,I,z,-1,i[z],i[X]),this._legalize(re+2),i[X]=re,r[z]=z,F--,z=X;this._hullStart=n[I]=z,r[z]=n[j]=I,r[I]=j,a[this._hashKey(Q,J)]=I,a[this._hashKey(t[2*z],t[2*z+1])]=z}this.hull=new Uint32Array(F);for(let C=0,N=this._hullStart;C<F;C++)this.hull[C]=N,N=r[N];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(b1e(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let a=0,s=0;for(;;){const o=r[t],u=t-t%3;if(s=u+(t+2)%3,o===-1){if(a===0)break;t=rv[--a];continue}const c=o-o%3,h=u+(t+1)%3,d=c+(o+2)%3,p=n[s],m=n[t],y=n[h],v=n[d];if(E1e(i[2*p],i[2*p+1],i[2*m],i[2*m+1],i[2*y],i[2*y+1],i[2*v],i[2*v+1])){n[t]=v,n[o]=p;const E=r[d];if(E===-1){let A=this._hullStart;do{if(this._hullTri[A]===d){this._hullTri[A]=t;break}A=this._hullPrev[A]}while(A!==this._hullStart)}this._link(t,E),this._link(o,r[s]),this._link(s,d);const w=c+(o+1)%3;a<rv.length&&(rv[a++]=w)}else{if(a===0)break;t=rv[--a]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,a,s){const o=this.trianglesLen;return this._triangles[o]=t,this._triangles[o+1]=n,this._triangles[o+2]=r,this._link(o,i),this._link(o+1,a),this._link(o+2,s),this.trianglesLen+=3,o}}function b1e(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function dT(e,t,n,r){const i=e-n,a=t-r;return i*i+a*a}function E1e(e,t,n,r,i,a,s,o){const u=e-s,c=t-o,h=n-s,d=r-o,p=i-s,m=a-o,y=u*u+c*c,v=h*h+d*d,_=p*p+m*m;return u*(d*_-v*m)-c*(h*_-v*p)+y*(h*m-d*p)<0}function S1e(e,t,n,r,i,a){const s=n-e,o=r-t,u=i-e,c=a-t,h=s*s+o*o,d=u*u+c*c,p=.5/(s*c-o*u),m=(c*h-o*d)*p,y=(s*d-u*h)*p;return m*m+y*y}function w1e(e,t,n,r,i,a){const s=n-e,o=r-t,u=i-e,c=a-t,h=s*s+o*o,d=u*u+c*c,p=.5/(s*c-o*u),m=e+(c*h-o*d)*p,y=t+(s*d-u*h)*p;return{x:m,y}}function qh(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const a=e[i],s=t[a];let o=i-1;for(;o>=n&&t[e[o]]>s;)e[o+1]=e[o--];e[o+1]=a}else{const i=n+r>>1;let a=n+1,s=r;T1(e,i,a),t[e[n]]>t[e[r]]&&T1(e,n,r),t[e[a]]>t[e[r]]&&T1(e,a,r),t[e[n]]>t[e[a]]&&T1(e,n,a);const o=e[a],u=t[o];for(;;){do a++;while(t[e[a]]<u);do s--;while(t[e[s]]>u);if(s<a)break;T1(e,a,s)}e[n+1]=e[s],e[s]=o,r-a+1>=s-n?(qh(e,t,a,r),qh(e,t,n,s-1)):(qh(e,t,n,s-1),qh(e,t,a,r))}}function T1(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function A1e(e){return e[0]}function T1e(e){return e[1]}const R$=1e-6;class Of{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,a=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${a}`:(Math.abs(this._x1-i)>R$||Math.abs(this._y1-a)>R$)&&(this._+="L"+i+","+a),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=a}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class B3{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let k1e=class{constructor(t,[n,r,i,a]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((a=+a)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=a,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let a,s;const o=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let v=0,_=0,E=r.length,w,A;v<E;v+=3,_+=2){const k=r[v]*2,D=r[v+1]*2,O=r[v+2]*2,T=t[k],F=t[k+1],C=t[D],N=t[D+1],L=t[O],I=t[O+1],Q=C-T,J=N-F,H=L-T,z=I-F,X=(Q*z-J*H)*2;if(Math.abs(X)<1e-9){if(a===void 0){a=s=0;for(const j of n)a+=t[j*2],s+=t[j*2+1];a/=n.length,s/=n.length}const re=1e9*Math.sign((a-T)*z-(s-F)*H);w=(T+L)/2-re*z,A=(F+I)/2+re*H}else{const re=1/X,j=Q*Q+J*J,le=H*H+z*z;w=T+(z*j-J*le)*re,A=F+(Q*le-H*j)*re}o[_]=w,o[_+1]=A}let u=n[n.length-1],c,h=u*4,d,p=t[2*u],m,y=t[2*u+1];i.fill(0);for(let v=0;v<n.length;++v)u=n[v],c=h,d=p,m=y,h=u*4,p=t[2*u],y=t[2*u+1],i[c+2]=i[h]=m-y,i[c+3]=i[h+1]=p-d}render(t){const n=t==null?t=new Of:void 0,{delaunay:{halfedges:r,inedges:i,hull:a},circumcenters:s,vectors:o}=this;if(a.length<=1)return null;for(let h=0,d=r.length;h<d;++h){const p=r[h];if(p<h)continue;const m=Math.floor(h/3)*2,y=Math.floor(p/3)*2,v=s[m],_=s[m+1],E=s[y],w=s[y+1];this._renderSegment(v,_,E,w,t)}let u,c=a[a.length-1];for(let h=0;h<a.length;++h){u=c,c=a[h];const d=Math.floor(i[c]/3)*2,p=s[d],m=s[d+1],y=u*4,v=this._project(p,m,o[y+2],o[y+3]);v&&this._renderSegment(p,m,v[0],v[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new Of:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new Of:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let a=i.length;for(;i[0]===i[a-2]&&i[1]===i[a-1]&&a>1;)a-=2;for(let s=2;s<a;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new B3;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,a){let s;const o=this._regioncode(t,n),u=this._regioncode(r,i);o===0&&u===0?(a.moveTo(t,n),a.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,o,u))&&(a.moveTo(s[0],s[1]),a.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let a=0,s=n.length;a<s;a+=2)for(let o=0,u=i.length;o<u;o+=2)if(n[a]===i[o]&&n[a+1]===i[o+1]&&n[(a+2)%s]===i[(o+u-2)%u]&&n[(a+3)%s]===i[(o+u-1)%u]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:a}}=this,s=r[t];if(s===-1)return null;const o=[];let u=s;do{const c=Math.floor(u/3);if(o.push(n[c*2],n[c*2+1]),u=u%3===2?u-2:u+1,a[u]!==t)break;u=i[u]}while(u!==s&&u!==-1);return o}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,a,s,o=n[r-2],u=n[r-1],c,h=this._regioncode(o,u),d,p=0;for(let m=0;m<r;m+=2)if(a=o,s=u,o=n[m],u=n[m+1],c=h,h=this._regioncode(o,u),c===0&&h===0)d=p,p=0,i?i.push(o,u):i=[o,u];else{let y,v,_,E,w;if(c===0){if((y=this._clipSegment(a,s,o,u,c,h))===null)continue;[v,_,E,w]=y}else{if((y=this._clipSegment(o,u,a,s,h,c))===null)continue;[E,w,v,_]=y,d=p,p=this._edgecode(v,_),d&&p&&this._edge(t,d,p,i,i.length),i?i.push(v,_):i=[v,_]}d=p,p=this._edgecode(E,w),d&&p&&this._edge(t,d,p,i,i.length),i?i.push(E,w):i=[E,w]}if(i)d=p,p=this._edgecode(i[0],i[1]),d&&p&&this._edge(t,d,p,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,a,s){const o=a<s;for(o&&([t,n,r,i,a,s]=[r,i,t,n,s,a]);;){if(a===0&&s===0)return o?[r,i,t,n]:[t,n,r,i];if(a&s)return null;let u,c,h=a||s;h&8?(u=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):h&4?(u=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):h&2?(c=n+(i-n)*(this.xmax-t)/(r-t),u=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),u=this.xmin),a?(t=u,n=c,a=this._regioncode(t,n)):(r=u,i=c,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,a,s){let o=Array.from(n),u;if((u=this._project(o[0],o[1],r,i))&&o.unshift(u[0],u[1]),(u=this._project(o[o.length-2],o[o.length-1],a,s))&&o.push(u[0],u[1]),o=this._clipFinite(t,o))for(let c=0,h=o.length,d,p=this._edgecode(o[h-2],o[h-1]);c<h;c+=2)d=p,p=this._edgecode(o[c],o[c+1]),d&&p&&(c=this._edge(t,d,p,o,c),h=o.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(t,n,r,i,a){for(;n!==r;){let s,o;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,o=this.ymin;break}(i[a]!==s||i[a+1]!==o)&&this.contains(t,s,o)&&(i.splice(a,0,s,o),a+=2)}return a}_project(t,n,r,i){let a=1/0,s,o,u;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<a&&(u=this.ymin,o=t+(a=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<a&&(u=this.ymax,o=t+(a=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<a&&(o=this.xmax,u=n+(a=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<a&&(o=this.xmin,u=n+(a=s)*i)}return[o,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const C1e=2*Math.PI,Dh=Math.pow;function F1e(e){return e[0]}function D1e(e){return e[1]}function O1e(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],a=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function M1e(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class nD{static from(t,n=F1e,r=D1e,i){return new nD("length"in t?R1e(t,n,r,i):Float64Array.from(N1e(t,n,r,i)))}constructor(t){this._delaunator=new c_(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&O1e(t)){this.collinear=Int32Array.from({length:n.length/2},(p,m)=>m).sort((p,m)=>n[2*p]-n[2*m]||n[2*p+1]-n[2*m+1]);const u=this.collinear[0],c=this.collinear[this.collinear.length-1],h=[n[2*u],n[2*u+1],n[2*c],n[2*c+1]],d=1e-8*Math.hypot(h[3]-h[1],h[2]-h[0]);for(let p=0,m=n.length/2;p<m;++p){const y=M1e(n[2*p],n[2*p+1],d);n[2*p]=y[0],n[2*p+1]=y[1]}this._delaunator=new c_(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,a=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let u=0,c=r.length;u<c;++u){const h=a[u%3===2?u-2:u+1];(r[u]===-1||s[h]===-1)&&(s[h]=u)}for(let u=0,c=i.length;u<c;++u)o[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new k1e(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:a,triangles:s,collinear:o}=this;if(o){const d=o.indexOf(t);d>0&&(yield o[d-1]),d<o.length-1&&(yield o[d+1]);return}const u=n[t];if(u===-1)return;let c=u,h=-1;do{if(yield h=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=a[c],c===-1){const d=r[(i[t]+1)%r.length];d!==h&&(yield d);return}}while(c!==u)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let a;for(;(a=this._step(r,t,n))>=0&&a!==r&&a!==i;)r=a;return a}_step(t,n,r){const{inedges:i,hull:a,_hullIndex:s,halfedges:o,triangles:u,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let h=t,d=Dh(n-c[t*2],2)+Dh(r-c[t*2+1],2);const p=i[t];let m=p;do{let y=u[m];const v=Dh(n-c[y*2],2)+Dh(r-c[y*2+1],2);if(v<d&&(d=v,h=y),m=m%3===2?m-2:m+1,u[m]!==t)break;if(m=o[m],m===-1){if(m=a[(s[t]+1)%a.length],m!==y&&Dh(n-c[m*2],2)+Dh(r-c[m*2+1],2)<d)return m;break}}while(m!==p);return h}render(t){const n=t==null?t=new Of:void 0,{points:r,halfedges:i,triangles:a}=this;for(let s=0,o=i.length;s<o;++s){const u=i[s];if(u<s)continue;const c=a[s]*2,h=a[u]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[h],r[h+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new Of:void 0,{points:i}=this;for(let a=0,s=i.length;a<s;a+=2){const o=i[a],u=i[a+1];t.moveTo(o+n,u),t.arc(o,u,n,0,C1e)}return r&&r.value()}renderHull(t){const n=t==null?t=new Of:void 0,{hull:r,points:i}=this,a=r[0]*2,s=r.length;t.moveTo(i[a],i[a+1]);for(let o=1;o<s;++o){const u=2*r[o];t.lineTo(i[u],i[u+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new B3;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new Of:void 0,{points:i,triangles:a}=this,s=a[t*=3]*2,o=a[t+1]*2,u=a[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[o],i[o+1]),n.lineTo(i[u],i[u+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new B3;return this.renderTriangle(t,n),n.value()}}function R1e(e,t,n,r){const i=e.length,a=new Float64Array(i*2);for(let s=0;s<i;++s){const o=e[s];a[s*2]=t.call(r,o,s,e),a[s*2+1]=n.call(r,o,s,e)}return a}function*N1e(e,t,n,r){let i=0;for(const a of e)yield t.call(r,a,i,e),yield n.call(r,a,i,e),++i}function rD(e){ye.call(this,null,e)}rD.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const $1e=[-1e5,-1e5,1e5,1e5];Be(rD,ye,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:$1e;const a=this.value=nD.from(r,e.x,e.y).voronoi(i);for(let s=0,o=r.length;s<o;++s){const u=a.cellPolygon(s);r[s][n]=u&&!I1e(u)?L1e(u):null}return t.reflow(e.modified()).modifies(n)}});function L1e(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}function I1e(e){return e.length===2&&e[0][0]===e[1][0]&&e[0][1]===e[1][1]}const z1e=Object.freeze(Object.defineProperty({__proto__:null,voronoi:rD},Symbol.toStringTag,{value:"Module"}));var gT=Math.PI/180,rp=64,Vv=2048;function B1e(){var e=[256,256],t,n,r,i,a,s,o,u=pV,c=[],h=Math.random,d={};d.layout=function(){for(var y=p(ic()),v=G1e((e[0]>>5)*e[1]),_=null,E=c.length,w=-1,A=[],k=c.map(O=>({text:t(O),font:n(O),style:i(O),weight:a(O),rotate:s(O),size:~~(r(O)+1e-14),padding:o(O),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:O})).sort((O,T)=>T.size-O.size);++w<E;){var D=k[w];D.x=e[0]*(h()+.5)>>1,D.y=e[1]*(h()+.5)>>1,P1e(y,D,k,w),D.hasText&&m(v,D,_)&&(A.push(D),_?H1e(_,D):_=[{x:D.x+D.x0,y:D.y+D.y0},{x:D.x+D.x1,y:D.y+D.y1}],D.x-=e[0]>>1,D.y-=e[1]>>1)}return A};function p(y){y.width=y.height=1;var v=Math.sqrt(y.getContext("2d").getImageData(0,0,1,1).data.length>>2);y.width=(rp<<5)/v,y.height=Vv/v;var _=y.getContext("2d");return _.fillStyle=_.strokeStyle="red",_.textAlign="center",{context:_,ratio:v}}function m(y,v,_){for(var E=v.x,w=v.y,A=Math.hypot(e[0],e[1]),k=u(e),D=h()<.5?1:-1,O=-D,T,F,C;(T=k(O+=D))&&(F=~~T[0],C=~~T[1],!(Math.min(Math.abs(F),Math.abs(C))>=A));)if(v.x=E+F,v.y=w+C,!(v.x+v.x0<0||v.y+v.y0<0||v.x+v.x1>e[0]||v.y+v.y1>e[1])&&(!_||!U1e(v,y,e[0]))&&(!_||j1e(v,_))){for(var N=v.sprite,L=v.width>>5,I=e[0]>>5,Q=v.x-(L<<4),J=Q&127,H=32-J,z=v.y1-v.y0,X=(v.y+v.y0)*I+(Q>>5),re,j=0;j<z;j++){re=0;for(var le=0;le<=L;le++)y[X+le]|=re<<H|(le<L?(re=N[j*L+le])>>>J:0);X+=I}return v.sprite=null,!0}return!1}return d.words=function(y){return arguments.length?(c=y,d):c},d.size=function(y){return arguments.length?(e=[+y[0],+y[1]],d):e},d.font=function(y){return arguments.length?(n=uf(y),d):n},d.fontStyle=function(y){return arguments.length?(i=uf(y),d):i},d.fontWeight=function(y){return arguments.length?(a=uf(y),d):a},d.rotate=function(y){return arguments.length?(s=uf(y),d):s},d.text=function(y){return arguments.length?(t=uf(y),d):t},d.spiral=function(y){return arguments.length?(u=V1e[y]||y,d):u},d.fontSize=function(y){return arguments.length?(r=uf(y),d):r},d.padding=function(y){return arguments.length?(o=uf(y),d):o},d.random=function(y){return arguments.length?(h=y,d):h},d}function P1e(e,t,n,r){if(!t.sprite){var i=e.context,a=e.ratio;i.clearRect(0,0,(rp<<5)/a,Vv/a);var s=0,o=0,u=0,c=n.length,h,d,p,m,y;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/a)+"px "+t.font,h=i.measureText(t.text+"m").width*a,p=t.size<<1,t.rotate){var v=Math.sin(t.rotate*gT),_=Math.cos(t.rotate*gT),E=h*_,w=h*v,A=p*_,k=p*v;h=Math.max(Math.abs(E+k),Math.abs(E-k))+31>>5<<5,p=~~Math.max(Math.abs(w+A),Math.abs(w-A))}else h=h+31>>5<<5;if(p>u&&(u=p),s+h>=rp<<5&&(s=0,o+=u,u=0),o+p>=Vv)break;i.translate((s+(h>>1))/a,(o+(p>>1))/a),t.rotate&&i.rotate(t.rotate*gT),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=h,t.height=p,t.xoff=s,t.yoff=o,t.x1=h>>1,t.y1=p>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=h}for(var D=i.getImageData(0,0,(rp<<5)/a,Vv/a).data,O=[];--r>=0;)if(t=n[r],!!t.hasText){for(h=t.width,d=h>>5,p=t.y1-t.y0,m=0;m<p*d;m++)O[m]=0;if(s=t.xoff,s==null)return;o=t.yoff;var T=0,F=-1;for(y=0;y<p;y++){for(m=0;m<h;m++){var C=d*y+(m>>5),N=D[(o+y)*(rp<<5)+(s+m)<<2]?1<<31-m%32:0;O[C]|=N,T|=N}T?F=y:(t.y0++,p--,y--,o++)}t.y1=t.y0+F,t.sprite=O.slice(0,(t.y1-t.y0)*d)}}}function U1e(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,a=e.x-(i<<4),s=a&127,o=32-s,u=e.y1-e.y0,c=(e.y+e.y0)*n+(a>>5),h,d=0;d<u;d++){h=0;for(var p=0;p<=i;p++)if((h<<o|(p<i?(h=r[d*i+p])>>>s:0))&t[c+p])return!0;c+=n}return!1}function H1e(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function j1e(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function pV(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function q1e(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(a){var s=a<0?-1:1;switch(Math.sqrt(1+4*s*a)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function G1e(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function uf(e){return typeof e=="function"?e:function(){return e}}var V1e={archimedean:pV,rectangular:q1e};const mV=["x","y","font","fontSize","fontStyle","fontWeight","angle"],X1e=["text","font","rotate","fontSize","fontStyle","fontWeight"];function iD(e){ye.call(this,B1e(),e)}iD.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:mV}]};Be(iD,ye,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&be("Wordcloud size dimensions must be non-zero.");function n(y){const v=e[y];return _t(v)&&t.modified(v.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||X1e.some(n)))return;const i=t.materialize(t.SOURCE).source,a=this.value,s=e.as||mV;let o=e.fontSize||14,u;if(_t(o)?u=e.fontSizeRange:o=gi(o),u){const y=o,v=Gt("sqrt")().domain(Do(i,y)).range(u);o=_=>v(y(_))}i.forEach(y=>{y[s[0]]=NaN,y[s[1]]=NaN,y[s[3]]=0});const c=a.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(o).random(us).layout(),h=a.size(),d=h[0]>>1,p=h[1]>>1,m=c.length;for(let y=0,v,_;y<m;++y)v=c[y],_=v.datum,_[s[0]]=v.x+d,_[s[1]]=v.y+p,_[s[2]]=v.font,_[s[3]]=v.size,_[s[4]]=v.style,_[s[5]]=v.weight,_[s[6]]=v.rotate;return t.reflow(r).modifies(s)}});const W1e=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:iD},Symbol.toStringTag,{value:"Module"})),Y1e=e=>new Uint8Array(e),K1e=e=>new Uint16Array(e),vp=e=>new Uint32Array(e);function Q1e(){let e=8,t=[],n=vp(0),r=iv(0,e),i=iv(0,e);return{data:()=>t,seen:()=>n=Z1e(n,t.length),add(a){for(let s=0,o=t.length,u=a.length,c;s<u;++s)c=a[s],c._index=o++,t.push(c)},remove(a,s){const o=t.length,u=Array(o-a),c=t;let h,d,p;for(d=0;!s[d]&&d<o;++d)u[d]=t[d],c[d]=d;for(p=d;d<o;++d)h=t[d],s[d]?c[d]=-1:(c[d]=p,r[p]=r[d],i[p]=i[d],u[p]=h,h._index=p++),r[d]=0;return t=u,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:a=>i[a]=r[a],all:()=>e<257?255:e<65537?65535:4294967295,set(a,s){r[a]|=s},clear(a,s){r[a]&=~s},resize(a,s){const o=r.length;(a>o||s>e)&&(e=Math.max(s,e),r=iv(a,e,r),i=iv(a,e))}}}function Z1e(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function iv(e,t,n){const r=(t<257?Y1e:t<65537?K1e:vp)(e);return n&&r.set(n),r}function N$(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,a){const s=this,o=s.bisect(s.range,i.value),u=i.index,c=o[0],h=o[1],d=u.length;let p;for(p=0;p<c;++p)a[u[p]]|=r;for(p=h;p<d;++p)a[u[p]]|=r;return s}}}function $$(){let e=vp(0),t=[],n=0;function r(o,u,c){if(!u.length)return[];const h=n,d=u.length,p=vp(d);let m=Array(d),y,v,_;for(_=0;_<d;++_)m[_]=o(u[_]),p[_]=_;if(m=J1e(m,p),h)y=t,v=e,t=Array(h+d),e=vp(h+d),epe(c,y,v,h,m,p,d,t,e);else{if(c>0)for(_=0;_<d;++_)p[_]+=c;t=m,e=p}return n=h+d,{index:p,value:m}}function i(o,u){const c=n;let h,d,p;for(d=0;!u[e[d]]&&d<c;++d);for(p=d;d<c;++d)u[h=e[d]]||(e[p]=h,t[p]=t[d],++p);n=c-o}function a(o){for(let u=0,c=n;u<c;++u)e[u]=o[e[u]]}function s(o,u){let c;return u?c=u.length:(u=t,c=n),[ane(u,o[0],0,c),lc(u,o[1],0,c)]}return{insert:r,remove:i,bisect:s,reindex:a,index:()=>e,size:()=>n}}function J1e(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],a=e[r];return i<a?-1:i>a?1:0}),lne(e,t)}function epe(e,t,n,r,i,a,s,o,u){let c=0,h=0,d;for(d=0;c<r&&h<s;++d)t[c]<i[h]?(o[d]=t[c],u[d]=n[c++]):(o[d]=i[h],u[d]=a[h++]+e);for(;c<r;++c,++d)o[d]=t[c],u[d]=n[c];for(;h<s;++h,++d)o[d]=i[h],u[d]=a[h]+e}function aD(e){ye.call(this,Q1e(),e),this._indices=null,this._dims=null}aD.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Be(aD,ye,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},a=this._dims=[],s=r.length;let o=0,u,c;for(;o<s;++o)u=n[o].fname,c=i[u]||(i[u]=$$()),a.push(N$(c,o,r[o]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,a=this._indices,s=this._dims,o=this.value,u=o.curr(),c=o.prev(),h=o.all(),d=n.rem=n.add,p=n.mod,m=i.length,y={};let v,_,E,w,A,k,D,O,T;if(c.set(u),t.rem.length&&(A=this.remove(e,t,n)),t.add.length&&o.add(t.add),t.mod.length)for(k={},w=t.mod,D=0,O=w.length;D<O;++D)k[w[D]._index]=1;for(D=0;D<m;++D)T=r[D],(!s[D]||e.modified("fields",D)||t.modified(T.fields))&&(E=T.fname,(v=y[E])||(a[E]=_=$$(),y[E]=v=_.insert(T,t.source,0)),s[D]=N$(_,D,i[D]).onAdd(v,u));for(D=0,O=o.data().length;D<O;++D)A[D]||(c[D]!==u[D]?d.push(D):k[D]&&u[D]!==h&&p.push(D));return o.mask=(1<<m)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,a=this._dims,s=this._indices,o=e.fields,u={},c=n.add,h=i.size()+r.length,d=a.length;let p=i.size(),m,y,v;i.resize(h,d),i.add(r);const _=i.curr(),E=i.prev(),w=i.all();for(m=0;m<d;++m)y=o[m].fname,v=u[y]||(u[y]=s[y].insert(o[m],r,p)),a[m].onAdd(v,_);for(;p<h;++p)E[p]=w,_[p]!==w&&c.push(p)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),a=r.all(),s=e.mod;let o,u,c;for(o=0,u=s.length;o<u;++o)c=s[o]._index,i[c]!==a&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,a=i.curr(),s=i.prev(),o=i.all(),u={},c=n.rem,h=t.rem;let d,p,m,y;for(d=0,p=h.length;d<p;++d)m=h[d]._index,u[m]=1,s[m]=y=a[m],a[m]=o,y!==o&&c.push(m);for(m in r)r[m].remove(p,u);return this.reindex(t,p,u),u},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const a=i.remove(t,n);for(const s in r)r[s].reindex(a)})},update(e,t,n){const r=this._dims,i=e.query,a=t.stamp,s=r.length;let o=0,u,c;for(n.filters=0,c=0;c<s;++c)e.modified("query",c)&&(u=c,++o);if(o===1)o=r[u].one,this.incrementOne(r[u],i[u],n.add,n.rem);else for(c=0,o=0;c<s;++c)e.modified("query",c)&&(o|=r[c].one,this.incrementAll(r[c],i[c],a,n.add),n.rem=n.add);return o},incrementAll(e,t,n,r){const i=this.value,a=i.seen(),s=i.curr(),o=i.prev(),u=e.index(),c=e.bisect(e.range),h=e.bisect(t),d=h[0],p=h[1],m=c[0],y=c[1],v=e.one;let _,E,w;if(d<m)for(_=d,E=Math.min(m,p);_<E;++_)w=u[_],a[w]!==n&&(o[w]=s[w],a[w]=n,r.push(w)),s[w]^=v;else if(d>m)for(_=m,E=Math.min(d,y);_<E;++_)w=u[_],a[w]!==n&&(o[w]=s[w],a[w]=n,r.push(w)),s[w]^=v;if(p>y)for(_=Math.max(d,y),E=p;_<E;++_)w=u[_],a[w]!==n&&(o[w]=s[w],a[w]=n,r.push(w)),s[w]^=v;else if(p<y)for(_=Math.max(m,p),E=y;_<E;++_)w=u[_],a[w]!==n&&(o[w]=s[w],a[w]=n,r.push(w)),s[w]^=v;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,a=i.curr(),s=e.index(),o=e.bisect(e.range),u=e.bisect(t),c=u[0],h=u[1],d=o[0],p=o[1],m=e.one;let y,v,_;if(c<d)for(y=c,v=Math.min(d,h);y<v;++y)_=s[y],a[_]^=m,n.push(_);else if(c>d)for(y=d,v=Math.min(c,p);y<v;++y)_=s[y],a[_]^=m,r.push(_);if(h>p)for(y=Math.max(c,p),v=h;y<v;++y)_=s[y],a[_]^=m,n.push(_);else if(h<p)for(y=Math.max(d,h),v=p;y<v;++y)_=s[y],a[_]^=m,r.push(_);e.range=t.slice()}});function sD(e){ye.call(this,null,e)}sD.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Be(sD,ye,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if((i&n)===0)return t.StopPropagation;const a=t.fork(t.ALL),s=r.data(),o=r.curr(),u=r.prev(),c=h=>o[h]&n?null:s[h];return a.filter(a.MOD,c),i&i-1?(a.filter(a.ADD,h=>{const d=o[h]&n;return!d&&d^u[h]&n?s[h]:null}),a.filter(a.REM,h=>{const d=o[h]&n;return d&&!(d^(d^u[h]&n))?s[h]:null})):(a.filter(a.ADD,c),a.filter(a.REM,h=>(o[h]&n)===i?s[h]:null)),a.filter(a.SOURCE,h=>c(h._index))}});const tpe=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:aD,resolvefilter:sD},Symbol.toStringTag,{value:"Module"})),npe="RawCode",Jf="Literal",rpe="Property",ipe="Identifier",ape="ArrayExpression",spe="BinaryExpression",xV="CallExpression",ope="ConditionalExpression",lpe="LogicalExpression",upe="MemberExpression",cpe="ObjectExpression",fpe="UnaryExpression";function Ks(e){this.type=e}Ks.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=hpe(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function hpe(e){switch(e.type){case ape:return e.elements;case spe:case lpe:return[e.left,e.right];case xV:return[e.callee].concat(e.arguments);case ope:return[e.test,e.consequent,e.alternate];case upe:return[e.object,e.property];case cpe:return e.properties;case rpe:return[e.key,e.value];case fpe:return[e.argument];case ipe:case Jf:case npe:default:return[]}}var Go,Qe,Se,ci,an,Gb=1,Gm=2,e0=3,Dc=4,Vb=5,E0=6,Qi=7,Vm=8,dpe=9;Go={};Go[Gb]="Boolean";Go[Gm]="<end>";Go[e0]="Identifier";Go[Dc]="Keyword";Go[Vb]="Null";Go[E0]="Numeric";Go[Qi]="Punctuator";Go[Vm]="String";Go[dpe]="RegularExpression";var gpe="ArrayExpression",ppe="BinaryExpression",mpe="CallExpression",xpe="ConditionalExpression",yV="Identifier",ype="Literal",vpe="LogicalExpression",_pe="MemberExpression",bpe="ObjectExpression",Epe="Property",Spe="UnaryExpression",Sr="Unexpected token %0",wpe="Unexpected number",Ape="Unexpected string",Tpe="Unexpected identifier",kpe="Unexpected reserved word",Cpe="Unexpected end of input",P3="Invalid regular expression",pT="Invalid regular expression: missing /",vV="Octal literals are not allowed in strict mode.",Fpe="Duplicate data property in object literal not allowed in strict mode",Ur="ILLEGAL",Kp="Disabled.",Dpe=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Ope=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function Xb(e,t){if(!e)throw new Error("ASSERT: "+t)}function Al(e){return e>=48&&e<=57}function oD(e){return"0123456789abcdefABCDEF".includes(e)}function _p(e){return"01234567".includes(e)}function Mpe(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(e)}function Qp(e){return e===10||e===13||e===8232||e===8233}function Xm(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&Dpe.test(String.fromCharCode(e))}function f_(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Ope.test(String.fromCharCode(e))}const Rpe={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function _V(){for(;Se<ci;){const e=Qe.charCodeAt(Se);if(Mpe(e)||Qp(e))++Se;else break}}function U3(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Se<ci&&oD(Qe[Se])?(r=Qe[Se++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Ht({},Sr,Ur);return String.fromCharCode(i)}function Npe(){var e,t,n,r;for(e=Qe[Se],t=0,e==="}"&&Ht({},Sr,Ur);Se<ci&&(e=Qe[Se++],!!oD(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Ht({},Sr,Ur),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function bV(){var e,t;for(e=Qe.charCodeAt(Se++),t=String.fromCharCode(e),e===92&&(Qe.charCodeAt(Se)!==117&&Ht({},Sr,Ur),++Se,e=U3("u"),(!e||e==="\\"||!Xm(e.charCodeAt(0)))&&Ht({},Sr,Ur),t=e);Se<ci&&(e=Qe.charCodeAt(Se),!!f_(e));)++Se,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),Qe.charCodeAt(Se)!==117&&Ht({},Sr,Ur),++Se,e=U3("u"),(!e||e==="\\"||!f_(e.charCodeAt(0)))&&Ht({},Sr,Ur),t+=e);return t}function $pe(){var e,t;for(e=Se++;Se<ci;){if(t=Qe.charCodeAt(Se),t===92)return Se=e,bV();if(f_(t))++Se;else break}return Qe.slice(e,Se)}function Lpe(){var e,t,n;return e=Se,t=Qe.charCodeAt(Se)===92?bV():$pe(),t.length===1?n=e0:Rpe.hasOwnProperty(t)?n=Dc:t==="null"?n=Vb:t==="true"||t==="false"?n=Gb:n=e0,{type:n,value:t,start:e,end:Se}}function mT(){var e=Se,t=Qe.charCodeAt(Se),n,r=Qe[Se],i,a,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Se,{type:Qi,value:String.fromCharCode(t),start:e,end:Se};default:if(n=Qe.charCodeAt(Se+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Se+=2,{type:Qi,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Se};case 33:case 61:return Se+=2,Qe.charCodeAt(Se)===61&&++Se,{type:Qi,value:Qe.slice(e,Se),start:e,end:Se}}}if(s=Qe.substr(Se,4),s===">>>=")return Se+=4,{type:Qi,value:s,start:e,end:Se};if(a=s.substr(0,3),a===">>>"||a==="<<="||a===">>=")return Se+=3,{type:Qi,value:a,start:e,end:Se};if(i=a.substr(0,2),r===i[1]&&"+-<>&|".includes(r)||i==="=>")return Se+=2,{type:Qi,value:i,start:e,end:Se};if(i==="//"&&Ht({},Sr,Ur),"<>=!+-*%&|^/".includes(r))return++Se,{type:Qi,value:r,start:e,end:Se};Ht({},Sr,Ur)}function Ipe(e){let t="";for(;Se<ci&&oD(Qe[Se]);)t+=Qe[Se++];return t.length===0&&Ht({},Sr,Ur),Xm(Qe.charCodeAt(Se))&&Ht({},Sr,Ur),{type:E0,value:parseInt("0x"+t,16),start:e,end:Se}}function zpe(e){let t="0"+Qe[Se++];for(;Se<ci&&_p(Qe[Se]);)t+=Qe[Se++];return(Xm(Qe.charCodeAt(Se))||Al(Qe.charCodeAt(Se)))&&Ht({},Sr,Ur),{type:E0,value:parseInt(t,8),octal:!0,start:e,end:Se}}function L$(){var e,t,n;if(n=Qe[Se],Xb(Al(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Se,e="",n!=="."){if(e=Qe[Se++],n=Qe[Se],e==="0"){if(n==="x"||n==="X")return++Se,Ipe(t);if(_p(n))return zpe(t);n&&Al(n.charCodeAt(0))&&Ht({},Sr,Ur)}for(;Al(Qe.charCodeAt(Se));)e+=Qe[Se++];n=Qe[Se]}if(n==="."){for(e+=Qe[Se++];Al(Qe.charCodeAt(Se));)e+=Qe[Se++];n=Qe[Se]}if(n==="e"||n==="E")if(e+=Qe[Se++],n=Qe[Se],(n==="+"||n==="-")&&(e+=Qe[Se++]),Al(Qe.charCodeAt(Se)))for(;Al(Qe.charCodeAt(Se));)e+=Qe[Se++];else Ht({},Sr,Ur);return Xm(Qe.charCodeAt(Se))&&Ht({},Sr,Ur),{type:E0,value:parseFloat(e),start:t,end:Se}}function Bpe(){var e="",t,n,r,i,a=!1;for(t=Qe[Se],Xb(t==="'"||t==='"',"String literal must starts with a quote"),n=Se,++Se;Se<ci;)if(r=Qe[Se++],r===t){t="";break}else if(r==="\\")if(r=Qe[Se++],!r||!Qp(r.charCodeAt(0)))switch(r){case"u":case"x":Qe[Se]==="{"?(++Se,e+=Npe()):e+=U3(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:_p(r)?(i="01234567".indexOf(r),i!==0&&(a=!0),Se<ci&&_p(Qe[Se])&&(a=!0,i=i*8+"01234567".indexOf(Qe[Se++]),"0123".includes(r)&&Se<ci&&_p(Qe[Se])&&(i=i*8+"01234567".indexOf(Qe[Se++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&Qe[Se]===`
`&&++Se;else{if(Qp(r.charCodeAt(0)))break;e+=r}return t!==""&&Ht({},Sr,Ur),{type:Vm,value:e,octal:a,start:n,end:Se}}function Ppe(e,t){let n=e;t.includes("u")&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Ht({},P3)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Ht({},P3)}try{return new RegExp(e,t)}catch{return null}}function Upe(){var e,t,n,r,i;for(e=Qe[Se],Xb(e==="/","Regular expression literal must start with a slash"),t=Qe[Se++],n=!1,r=!1;Se<ci;)if(e=Qe[Se++],t+=e,e==="\\")e=Qe[Se++],Qp(e.charCodeAt(0))&&Ht({},pT),t+=e;else if(Qp(e.charCodeAt(0)))Ht({},pT);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Ht({},pT),i=t.substr(1,t.length-2),{value:i,literal:t}}function Hpe(){var e,t,n;for(t="",n="";Se<ci&&(e=Qe[Se],!!f_(e.charCodeAt(0)));)++Se,e==="\\"&&Se<ci?Ht({},Sr,Ur):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Ht({},P3,n),{value:n,literal:t}}function jpe(){var e,t,n,r;return an=null,_V(),e=Se,t=Upe(),n=Hpe(),r=Ppe(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Se}}function qpe(e){return e.type===e0||e.type===Dc||e.type===Gb||e.type===Vb}function EV(){if(_V(),Se>=ci)return{type:Gm,start:Se,end:Se};const e=Qe.charCodeAt(Se);return Xm(e)?Lpe():e===40||e===41||e===59?mT():e===39||e===34?Bpe():e===46?Al(Qe.charCodeAt(Se+1))?L$():mT():Al(e)?L$():mT()}function Ji(){const e=an;return Se=e.end,an=EV(),Se=e.end,e}function SV(){const e=Se;an=EV(),Se=e}function Gpe(e){const t=new Ks(gpe);return t.elements=e,t}function I$(e,t,n){const r=new Ks(e==="||"||e==="&&"?vpe:ppe);return r.operator=e,r.left=t,r.right=n,r}function Vpe(e,t){const n=new Ks(mpe);return n.callee=e,n.arguments=t,n}function Xpe(e,t,n){const r=new Ks(xpe);return r.test=e,r.consequent=t,r.alternate=n,r}function lD(e){const t=new Ks(yV);return t.name=e,t}function ip(e){const t=new Ks(ype);return t.value=e.value,t.raw=Qe.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function z$(e,t,n){const r=new Ks(_pe);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function Wpe(e){const t=new Ks(bpe);return t.properties=e,t}function B$(e,t,n){const r=new Ks(Epe);return r.key=t,r.value=n,r.kind=e,r}function Ype(e,t){const n=new Ks(Spe);return n.operator=e,n.argument=t,n.prefix=!0,n}function Ht(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(a,s)=>(Xb(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Se,n.description=i,n}function Wb(e){e.type===Gm&&Ht(e,Cpe),e.type===E0&&Ht(e,wpe),e.type===Vm&&Ht(e,Ape),e.type===e0&&Ht(e,Tpe),e.type===Dc&&Ht(e,kpe),Ht(e,Sr,e.value)}function fi(e){const t=Ji();(t.type!==Qi||t.value!==e)&&Wb(t)}function bn(e){return an.type===Qi&&an.value===e}function xT(e){return an.type===Dc&&an.value===e}function Kpe(){const e=[];for(Se=an.start,fi("[");!bn("]");)bn(",")?(Ji(),e.push(null)):(e.push(t0()),bn("]")||fi(","));return Ji(),Gpe(e)}function P$(){Se=an.start;const e=Ji();return e.type===Vm||e.type===E0?(e.octal&&Ht(e,vV),ip(e)):lD(e.value)}function Qpe(){var e,t,n,r;if(Se=an.start,e=an,e.type===e0)return n=P$(),fi(":"),r=t0(),B$("init",n,r);if(e.type===Gm||e.type===Qi)Wb(e);else return t=P$(),fi(":"),r=t0(),B$("init",t,r)}function Zpe(){var e=[],t,n,r,i={},a=String;for(Se=an.start,fi("{");!bn("}");)t=Qpe(),t.key.type===yV?n=t.key.name:n=a(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Ht({},Fpe):i[r]=!0,e.push(t),bn("}")||fi(",");return fi("}"),Wpe(e)}function Jpe(){fi("(");const e=uD();return fi(")"),e}const eme={if:1};function tme(){var e,t,n;if(bn("("))return Jpe();if(bn("["))return Kpe();if(bn("{"))return Zpe();if(e=an.type,Se=an.start,e===e0||eme[an.value])n=lD(Ji().value);else if(e===Vm||e===E0)an.octal&&Ht(an,vV),n=ip(Ji());else{if(e===Dc)throw new Error(Kp);e===Gb?(t=Ji(),t.value=t.value==="true",n=ip(t)):e===Vb?(t=Ji(),t.value=null,n=ip(t)):bn("/")||bn("/=")?(n=ip(jpe()),SV()):Wb(Ji())}return n}function nme(){const e=[];if(fi("("),!bn(")"))for(;Se<ci&&(e.push(t0()),!bn(")"));)fi(",");return fi(")"),e}function rme(){Se=an.start;const e=Ji();return qpe(e)||Wb(e),lD(e.value)}function ime(){return fi("."),rme()}function ame(){fi("[");const e=uD();return fi("]"),e}function sme(){var e,t,n;for(e=tme();;)if(bn("."))n=ime(),e=z$(".",e,n);else if(bn("("))t=nme(),e=Vpe(e,t);else if(bn("["))n=ame(),e=z$("[",e,n);else break;return e}function U$(){const e=sme();if(an.type===Qi&&(bn("++")||bn("--")))throw new Error(Kp);return e}function Xv(){var e,t;if(an.type!==Qi&&an.type!==Dc)t=U$();else{if(bn("++")||bn("--"))throw new Error(Kp);if(bn("+")||bn("-")||bn("~")||bn("!"))e=Ji(),t=Xv(),t=Ype(e.value,t);else{if(xT("delete")||xT("void")||xT("typeof"))throw new Error(Kp);t=U$()}}return t}function H$(e){let t=0;if(e.type!==Qi&&e.type!==Dc)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function ome(){var e,t,n,r,i,a,s,o,u,c;if(e=an,u=Xv(),r=an,i=H$(r),i===0)return u;for(r.prec=i,Ji(),t=[e,an],s=Xv(),a=[u,r,s];(i=H$(an))>0;){for(;a.length>2&&i<=a[a.length-2].prec;)s=a.pop(),o=a.pop().value,u=a.pop(),t.pop(),n=I$(o,u,s),a.push(n);r=Ji(),r.prec=i,a.push(r),t.push(an),n=Xv(),a.push(n)}for(c=a.length-1,n=a[c],t.pop();c>1;)t.pop(),n=I$(a[c-1].value,a[c-2],n),c-=2;return n}function t0(){var e,t,n;return e=ome(),bn("?")&&(Ji(),t=t0(),fi(":"),n=t0(),e=Xpe(e,t,n)),e}function uD(){const e=t0();if(bn(","))throw new Error(Kp);return e}function cD(e){Qe=e,Se=0,ci=Qe.length,an=null,SV();const t=uD();if(an.type!==Gm)throw new Error("Unexpect token after expression.");return t}var wV={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function AV(e){function t(s,o,u,c){let h=e(o[0]);return u&&(h=u+"("+h+")",u.lastIndexOf("new ",0)===0&&(h="("+h+")")),h+"."+s+(c<0?"":c===0?"()":"("+o.slice(1).map(e).join(",")+")")}function n(s,o,u){return c=>t(s,c,o,u)}const r="new Date",i="String",a="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&be("Missing arguments to clamp function."),s.length>3&&be("Too many arguments to clamp function.");const o=s.map(e);return"Math.max("+o[1]+", Math.min("+o[2]+","+o[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),btoa:"btoa",atob:"atob",regexp:a,test:n("test",a),if:function(s){s.length<3&&be("Missing arguments to if function."),s.length>3&&be("Too many arguments to if function.");const o=s.map(e);return"("+o[0]+"?"+o[1]+":"+o[2]+")"}}}function lme(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function TV(e){e=e||{};const t=e.allowed?js(e.allowed):{},n=e.forbidden?js(e.forbidden):{},r=e.constants||wV,i=(e.functions||AV)(d),a=e.globalvar,s=e.fieldvar,o=_t(a)?a:y=>`${a}["${y}"]`;[...Object.getOwnPropertyNames(Object.prototype).filter(y=>typeof Object.prototype[y]=="function")];let u={},c={},h=0;function d(y){if(Ge(y))return y;const v=p[y.type];return v==null&&be("Unsupported type: "+y.type),v(y)}const p={Literal:y=>y.raw,Identifier:y=>{const v=y.name;return h>0?v:We(n,v)?be("Illegal identifier: "+v):We(r,v)?r[v]:We(t,v)?v:(u[v]=1,o(v))},MemberExpression:y=>{const v=!y.computed,_=d(y.object);v&&(h+=1);const E=d(y.property);return _===s&&(c[lme(E)]=1),v&&(h-=1),_+(v?"."+E:"["+E+"]")},CallExpression:y=>{y.callee.type!=="Identifier"&&be("Illegal callee type: "+y.callee.type);const v=y.callee.name,_=y.arguments,E=We(i,v)&&i[v];return E||be("Unrecognized function: "+v),_t(E)?E(_):E+"("+_.map(d).join(",")+")"},ArrayExpression:y=>"["+y.elements.map(d).join(",")+"]",BinaryExpression:y=>"("+d(y.left)+" "+y.operator+" "+d(y.right)+")",UnaryExpression:y=>"("+y.operator+d(y.argument)+")",ConditionalExpression:y=>"("+d(y.test)+"?"+d(y.consequent)+":"+d(y.alternate)+")",LogicalExpression:y=>"("+d(y.left)+y.operator+d(y.right)+")",ObjectExpression:y=>{for(const v of y.properties){const _=v.key.name;X4.has(_)&&be("Illegal property: "+_)}return"{"+y.properties.map(d).join(",")+"}"},Property:y=>{h+=1;const v=d(y.key);return h-=1,v+":"+d(y.value)}};function m(y){const v={code:d(y),globals:Object.keys(u),fields:Object.keys(c)};return u={},c={},v}return m.functions=i,m.constants=r,m}const j$=Symbol("vega_selection_getter");function kV(e){return(!e.getter||!e.getter[j$])&&(e.getter=ss(e.field),e.getter[j$]=!0),e.getter}const fD="intersect",q$="union",ume="vlMulti",cme="vlPoint",G$="or",fme="and",yo="_vgsid_",Zp=ss(yo),hme="E",dme="R",gme="R-E",pme="R-LE",mme="R-RE",xme="E-LT",yme="E-LTE",vme="E-GT",_me="E-GTE",bme="E-VALID",Eme="E-ONE",h_="index:unit";function V$(e,t){for(var n=t.fields,r=t.values,i=n.length,a=0,s,o;a<i;++a)if(o=n[a],s=kV(o)(e),tc(s)&&(s=ai(s)),tc(r[a])&&(r[a]=ai(r[a])),Ae(r[a])&&tc(r[a][0])&&(r[a]=r[a].map(ai)),o.type===hme){if(Ae(r[a])?!r[a].includes(s):s!==r[a])return!1}else if(o.type===dme){if(!Ph(s,r[a]))return!1}else if(o.type===mme){if(!Ph(s,r[a],!0,!1))return!1}else if(o.type===gme){if(!Ph(s,r[a],!1,!1))return!1}else if(o.type===pme){if(!Ph(s,r[a],!1,!0))return!1}else if(o.type===xme){if(s>=r[a])return!1}else if(o.type===yme){if(s>r[a])return!1}else if(o.type===vme){if(s<=r[a])return!1}else if(o.type===_me){if(s<r[a])return!1}else if(o.type===bme){if(s===null||isNaN(s))return!1}else if(o.type===Eme&&r[a].indexOf(s)===-1)return!1;return!0}function Sme(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],a=r?r[h_]&&r[h_].value:void 0,s=n===fD,o=i.length,u=0,c,h,d,p,m;u<o;++u)if(c=i[u],a&&s){if(h=h||{},d=h[p=c.unit]||0,d===-1)continue;if(m=V$(t,c),h[p]=m?-1:++d,m&&a.size===1)return!0;if(!m&&d===a.get(p).count)return!1}else if(m=V$(t,c),s^m)return m;return o&&s}const CV=Yd(Zp),wme=CV.left,Ame=CV.right;function Tme(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],a=r?r[h_]&&r[h_].value:void 0,s=n===fD,o=Zp(t),u=wme(i,o);if(u===i.length||Zp(i[u])!==o)return!1;if(a&&s){if(a.size===1)return!0;if(Ame(i,o)-u<a.size)return!1}return!0}function kme(e,t){return Ae(e)||be("First argument to selectionTuples must be an array."),qe(t)||be("Second argument to selectionTuples must be an object."),e.map(n=>vt(t.fields?{values:t.fields.map(r=>kV(r)(n.datum))}:{[yo]:Zp(n.datum)},t))}function Cme(e,t,n,r){for(var i=this.context.data[e],a=i?i.values.value:[],s={},o={},u={},c,h,d,p,m,y,v,_,E,w,A=a.length,k=0,D,O;k<A;++k)if(c=a[k],p=c.unit,h=c.fields,d=c.values,h&&d){for(D=0,O=h.length;D<O;++D)m=h[D],v=s[m.field]||(s[m.field]={}),_=v[p]||(v[p]=[]),u[m.field]=E=m.type.charAt(0),w=yT[`${E}_union`],v[p]=w(_,Ve(d[D]));n&&(_=o[p]||(o[p]=[]),_.push(Ve(d).reduce((T,F,C)=>(T[h[C].field]=F,T),{})))}else m=yo,y=Zp(c),v=s[m]||(s[m]={}),_=v[p]||(v[p]=[]),_.push(y),n&&(_=o[p]||(o[p]=[]),_.push({[yo]:y}));if(t=t||q$,s[yo]?s[yo]=yT[`${yo}_${t}`](...Object.values(s[yo])):Object.keys(s).forEach(T=>{s[T]=Object.keys(s[T]).map(F=>s[T][F]).reduce((F,C)=>F===void 0?C:yT[`${u[T]}_${t}`](F,C))}),a=Object.keys(o),n&&a.length){const T=r?cme:ume;s[T]=t===q$?{[G$]:a.reduce((F,C)=>(F.push(...o[C]),F),[])}:{[fme]:a.map(F=>({[G$]:o[F]}))}}return s}var yT={[`${yo}_union`]:xne,[`${yo}_intersect`]:pne,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.includes(t[n])||e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.includes(n)):t},R_union:function(e,t){var n=ai(t[0]),r=ai(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=ai(t[0]),r=ai(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const Fme=":",Dme="@";function hD(e,t,n,r){t[0].type!==Jf&&be("First argument to selection functions must be a string literal.");const i=t[0].value,a=t.length>=2&&Nt(t).value,s="unit",o=Dme+s,u=Fme+i;a===fD&&!We(r,o)&&(r[o]=n.getData(i).indataRef(n,s)),We(r,u)||(r[u]=n.getData(i).tuplesRef())}function FV(e){const t=this.context.data[e];return t?t.values.value:[]}function Ome(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function Mme(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(os).insert(t)),1}function Rme(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const Wm=e=>function(t,n){const r=this.context.dataflow.locale();return t===null?"null":r[e](n)(t)},Nme=Wm("format"),DV=Wm("timeFormat"),$me=Wm("utcFormat"),Lme=Wm("timeParse"),Ime=Wm("utcParse"),av=new Date(2e3,0,1);function Yb(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(av.setYear(2e3),av.setMonth(e),av.setDate(t),DV.call(this,av,n))}function zme(e){return Yb.call(this,e,1,"%B")}function Bme(e){return Yb.call(this,e,1,"%b")}function Pme(e){return Yb.call(this,0,2+e,"%A")}function Ume(e){return Yb.call(this,0,2+e,"%a")}const Hme=":",jme="@",H3="%",OV="$";function dD(e,t,n,r){t[0].type!==Jf&&be("First argument to data functions must be a string literal.");const i=t[0].value,a=Hme+i;if(!We(a,r))try{r[a]=n.getData(i).tuplesRef()}catch{}}function qme(e,t,n,r){t[0].type!==Jf&&be("First argument to indata must be a string literal."),t[1].type!==Jf&&be("Second argument to indata must be a string literal.");const i=t[0].value,a=t[1].value,s=jme+a;We(s,r)||(r[s]=n.getData(i).indataRef(n,a))}function Ni(e,t,n,r){if(t[0].type===Jf)X$(n,r,t[0].value);else for(e in n.scales)X$(n,r,e)}function X$(e,t,n){const r=H3+n;if(!We(t,r))try{t[r]=e.scaleRef(n)}catch{}}function Vo(e,t){if(Ge(e)){const n=t.scales[e];return n&&K9(n.value)?n.value:void 0}else if(_t(e))return K9(e)?e:void 0}function Gme(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ni,n._range=Ni,n._scale=Ni;const r=i=>"_["+(i.type===Jf?ze(H3+i.value):ze(H3)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function gD(e,t){return function(n,r,i){if(n){const a=Vo(n,(i||this).context);return a&&a.path[e](r)}else return t(r)}}const Vme=gD("area",c0e),Xme=gD("bounds",g0e),Wme=gD("centroid",_0e);function Yme(e,t){const n=Vo(e,(t||this).context);return n&&n.scale()}function Kme(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function pD(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function Qme(){return pD(this.context.dataflow,"warn",arguments)}function Zme(){return pD(this.context.dataflow,"info",arguments)}function Jme(){return pD(this.context.dataflow,"debug",arguments)}function vT(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function j3(e){const t=hc(e),n=vT(t.r),r=vT(t.g),i=vT(t.b);return .2126*n+.7152*r+.0722*i}function exe(e,t){const n=j3(e),r=j3(t),i=Math.max(n,r),a=Math.min(n,r);return(i+.05)/(a+.05)}function txe(){const e=[].slice.call(arguments);return e.unshift({}),vt(...e)}function MV(e,t){return e===t||e!==e&&t!==t?!0:Ae(e)?Ae(t)&&e.length===t.length?nxe(e,t):!1:qe(e)&&qe(t)?RV(e,t):!1}function nxe(e,t){for(let n=0,r=e.length;n<r;++n)if(!MV(e[n],t[n]))return!1;return!0}function RV(e,t){for(const n in e)if(!MV(e[n],t[n]))return!1;return!0}function W$(e){return t=>RV(e,t)}function rxe(e,t,n,r,i,a){const s=this.context.dataflow,o=this.context.data[e],u=o.input,c=s.stamp();let h=o.changes,d,p;if(s._trigger===!1||!(u.value.length||t||r))return 0;if((!h||h.stamp<c)&&(o.changes=h=s.changeset(),h.stamp=c,s.runAfter(()=>{o.modified=!0,s.pulse(u,h).run()},!0,1)),n&&(d=n===!0?os:Ae(n)||ib(n)?n:W$(n),h.remove(d)),t&&h.insert(t),r&&(d=W$(r),u.value.some(d)?h.remove(d):h.insert(r)),i)for(p in a)h.modify(i,p,a[p]);return 1}function ixe(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function axe(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const Y$={};function sxe(e,t){const n=Y$[t]||(Y$[t]=ss(t));return Ae(e)?e.map(n):n(e)}function Kb(e){return Ae(e)||ArrayBuffer.isView(e)?e:null}function mD(e){return Kb(e)||(Ge(e)?e:null)}function oxe(e,...t){return Kb(e).join(...t)}function lxe(e,...t){return mD(e).indexOf(...t)}function uxe(e,...t){return mD(e).lastIndexOf(...t)}function cxe(e,...t){return mD(e).slice(...t)}function fxe(e,t,n){return _t(n)&&be("Function argument passed to replace."),!Ge(t)&&!tC(t)&&be("Please pass a string or RegExp argument to replace."),String(e).replace(t,n)}function hxe(e){return Kb(e).slice().reverse()}function dxe(e){return Kb(e).slice().sort(Xd)}function gxe(e,t,n){return FF(e||0,t||0,n||0)}function pxe(e,t){const n=Vo(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function mxe(e,t){const n=Vo(e,(t||this).context);return n?n.copy():void 0}function xxe(e,t){const n=Vo(e,(t||this).context);return n?n.domain():[]}function yxe(e,t,n){const r=Vo(e,(n||this).context);return r?Ae(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function vxe(e,t){const n=Vo(e,(t||this).context);return n&&n.range?n.range():[]}function _xe(e,t,n){const r=Vo(e,(n||this).context);return r?r(t):void 0}function bxe(e,t,n,r,i){e=Vo(e,(i||this).context);const a=wj(t,n);let s=e.domain(),o=s[0],u=Nt(s),c=di;return u-o?c=hj(e,o,u):e=(e.interpolator?Gt("sequential")().interpolator(e.interpolator()):Gt("linear")().interpolate(e.interpolate()).range(e.range())).domain([o=0,u=1]),e.ticks&&(s=e.ticks(+r||15),o!==s[0]&&s.unshift(o),u!==Nt(s)&&s.push(u)),s.forEach(h=>a.stop(c(h),e(h))),a}function Exe(e,t,n){const r=Vo(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function Sxe(e){let t=null;return function(n){return n?Hp(n,t=t||yd(e)):e}}const NV=e=>e.data;function $V(e,t){const n=FV.call(t,e);return n.root&&n.root.lookup||{}}function wxe(e,t,n){const r=$V(e,this),i=r[t],a=r[n];return i&&a?i.path(a).map(NV):void 0}function Axe(e,t){const n=$V(e,this)[t];return n?n.ancestors().map(NV):void 0}const LV=()=>typeof window<"u"&&window||null;function Txe(){const e=LV();return e?e.screen:{}}function kxe(){const e=LV();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function Cxe(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function IV(e,t,n){if(!e)return[];const[r,i]=e,a=new ar().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return _q(s,a,Fxe(t))}function Fxe(e){let t=null;if(e){const n=Ve(e.marktype),r=Ve(e.markname);t=i=>(!n.length||n.some(a=>i.marktype===a))&&(!r.length||r.some(a=>i.name===a))}return t}function Dxe(e,t,n,r=5){e=Ve(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function Oxe(e){return Ve(e).reduce((t,[n,r],i)=>t+=i==0?`M ${n},${r} `:i===e.length-1?" Z":`L ${n},${r} `,"")}function Mxe(e,t,n){const{x:r,y:i,mark:a}=n,s=new ar().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[u,c]of t)u<s.x1&&(s.x1=u),u>s.x2&&(s.x2=u),c<s.y1&&(s.y1=c),c>s.y2&&(s.y2=c);return s.translate(r,i),IV([[s.x1,s.y1],[s.x2,s.y2]],e,a).filter(u=>Rxe(u.x,u.y,t))}function Rxe(e,t,n){let r=0;for(let i=0,a=n.length-1;i<n.length;a=i++){const[s,o]=n[a],[u,c]=n[i];c>t!=o>t&&e<(s-u)*(t-c)/(o-c)+u&&r++}return r&1}const Jp={random(){return us()},cumulativeNormal:ub,cumulativeLogNormal:FC,cumulativeUniform:RC,densityNormal:wC,densityLogNormal:CC,densityUniform:MC,quantileNormal:cb,quantileLogNormal:DC,quantileUniform:NC,sampleNormal:lb,sampleLogNormal:kC,sampleUniform:OC,isArray:Ae,isBoolean:Ac,isDate:tc,isDefined(e){return e!==void 0},isNumber:jt,isObject:qe,isRegExp:tC,isString:Ge,isTuple:ib,isValid(e){return e!=null&&e===e},toBoolean:rC,toDate(e){return iC(e)},toNumber:ai,toString:aC,indexof:lxe,join:oxe,lastindexof:uxe,replace:fxe,reverse:hxe,sort:dxe,slice:cxe,flush:qB,lerp:VB,merge:txe,pad:YB,peek:Nt,pluck:sxe,span:bm,inrange:Ph,truncate:KB,rgb:hc,lab:y2,hcl:v2,hsl:m2,luminance:j3,contrast:exe,sequence:Sa,format:Nme,utcFormat:$me,utcParse:Ime,utcOffset:FP,utcSequence:MP,timeFormat:DV,timeParse:Lme,timeOffset:CP,timeSequence:OP,timeUnitSpecifier:xP,monthFormat:zme,monthAbbrevFormat:Bme,dayFormat:Pme,dayAbbrevFormat:Ume,quarter:PB,utcquarter:UB,week:vP,utcweek:EP,dayofyear:yP,utcdayofyear:bP,warn:Qme,info:Zme,debug:Jme,extent(e){return Do(e)},inScope:Kme,intersect:IV,clampRange:HB,pinchDistance:ixe,pinchAngle:axe,screen:Txe,containerSize:Cxe,windowSize:kxe,bandspace:gxe,setdata:Mme,pathShape:Sxe,panLinear:LB,panLog:IB,panPow:zB,panSymlog:BB,zoomLinear:K4,zoomLog:Q4,zoomPow:r2,zoomSymlog:Z4,encode:Rme,modify:rxe,lassoAppend:Dxe,lassoPath:Oxe,intersectLasso:Mxe},Nxe=["view","item","group","xy","x","y"],$xe="event.vega.",zV="this.",xD={},BV={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${ze(OV+e)}]`,functions:Lxe,constants:wV,visitors:xD},q3=TV(BV);function Lxe(e){const t=AV(e);Nxe.forEach(n=>t[n]=$xe+n);for(const n in Jp)t[n]=zV+n;return vt(t,Gme(e,Jp,xD)),t}function Yn(e,t,n){return arguments.length===1?Jp[e]:(Jp[e]=t,n&&(xD[e]=n),q3&&(q3.functions[e]=zV+e),this)}Yn("bandwidth",pxe,Ni);Yn("copy",mxe,Ni);Yn("domain",xxe,Ni);Yn("range",vxe,Ni);Yn("invert",yxe,Ni);Yn("scale",_xe,Ni);Yn("gradient",bxe,Ni);Yn("geoArea",Vme,Ni);Yn("geoBounds",Xme,Ni);Yn("geoCentroid",Wme,Ni);Yn("geoShape",Exe,Ni);Yn("geoScale",Yme,Ni);Yn("indata",Ome,qme);Yn("data",FV,dD);Yn("treePath",wxe,dD);Yn("treeAncestors",Axe,dD);Yn("vlSelectionTest",Sme,hD);Yn("vlSelectionIdTest",Tme,hD);Yn("vlSelectionResolve",Cme,hD);Yn("vlSelectionTuples",kme);function $o(e,t){const n={};let r;try{e=Ge(e)?e:ze(e)+"",r=cD(e)}catch{be("Expression parse error: "+e)}r.visit(a=>{if(a.type!==xV)return;const s=a.callee.name,o=BV.visitors[s];o&&o(s,a.arguments,t,n)});const i=q3(r);return i.globals.forEach(a=>{const s=OV+a;!We(n,s)&&t.getSignal(a)&&(n[s]=t.signalRef(a))}),{$expr:vt({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function Ixe(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const zxe=js(["rule"]),K$=js(["group","image","rect"]);function Bxe(e,t){let n="";return zxe[t]||(e.x2&&(e.x?(K$[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(K$[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function yD(e){return(e+"").toLowerCase()}function Pxe(e){return yD(e)==="operator"}function Uxe(e){return yD(e)==="collect"}function k1(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function Hxe(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var jxe={operator:(e,t)=>k1(e,["_"],t.code),parameter:(e,t)=>k1(e,["datum","_"],t.code),event:(e,t)=>k1(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return k1(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const a in r){const s="o["+ze(a)+"]";i+=`$=${r[a].code};if(${s}!==$)${s}=$,m=1;`}return i+=Bxe(r,n),i+="return m;",k1(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(ze).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(a,s)=>{const o=t[s];let u,c;return a.path?(u=`a${a.path}`,c=`b${a.path}`):((n=n||{})["f"+s]=a,u=`this.f${s}(a)`,c=`this.f${s}(b)`),Hxe(u,c,-o,o)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function qxe(e){const t=this;Pxe(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function Gxe(e){const t=this;if(e.params){const n=t.get(e.id);n||be("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function Vxe(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Ae(i)?i.map(a=>Q$(a,n,t)):Q$(i,n,t)}return t}function Q$(e,t,n){if(!e||!qe(e))return e;for(let r=0,i=Z$.length,a;r<i;++r)if(a=Z$[r],We(e,a.key))return a.parse(e,t,n);return e}var Z$=[{key:"$ref",parse:Xxe},{key:"$key",parse:Yxe},{key:"$expr",parse:Wxe},{key:"$field",parse:Kxe},{key:"$encode",parse:Zxe},{key:"$compare",parse:Qxe},{key:"$context",parse:Jxe},{key:"$subflow",parse:eye},{key:"$tupleid",parse:tye}];function Xxe(e,t){return t.get(e.$ref)||be("Operator not defined: "+e.$ref)}function Wxe(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=la(t.parameterExpression(e.$expr),e.$fields))}function Yxe(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=nC(e.$key,e.$flat,t.expr.codegen))}function Kxe(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=ss(e.$field,e.$name,t.expr.codegen))}function Qxe(e,t){const n="c:"+e.$compare+"_"+e.$order,r=Ve(e.$compare).map(i=>i&&i.$tupleid?it:i);return t.fn[n]||(t.fn[n]=J4(r,e.$order,t.expr.codegen))}function Zxe(e,t){const n=e.$encode,r={};for(const i in n){const a=n[i];r[i]=la(t.encodeExpression(a.$expr),a.$fields),r[i].output=a.$output}return r}function Jxe(e,t){return t}function eye(e,t){const n=e.$subflow;return function(r,i,a){const s=t.fork().parse(n),o=s.get(n.operators[0].id),u=s.signals.parent;return u&&u.set(a),o.detachSubflow=()=>t.detach(s),o}}function tye(){return it}function nye(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(a=>t.get(a)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(a=>t.get(a)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&be("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function rye(e){var t=this,n=qe(n=e.source)?n.$ref:n,r=t.get(n),i=null,a=e.update,s=void 0;r||be("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),a&&a.$expr&&(a.$params&&(s=t.parseParameters(a.$params)),a=t.handlerExpression(a.$expr)),t.update(e,r,i,a,s)}const iye={skip:!0};function aye(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(a=>{const s=t.signals[a];e.signals(a,s)&&(r[a]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(a=>{const s=t.data[a];e.data(a,s)&&(i[a]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(a=>a.getState(e))),n}function sye(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(a=>{n.update(t.signals[a],i[a],iye)}),Object.keys(r||{}).forEach(a=>{n.pulse(t.data[a].input,n.changeset().remove(os).insert(r[a]))}),(e.subcontext||[]).forEach((a,s)=>{const o=t.subcontext[s];o&&o.setState(a)})}function PV(e,t,n,r){return new UV(e,t,n,r)}function UV(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||jxe,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function J$(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}UV.prototype=J$.prototype={fork(){const e=new J$(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Uxe(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let a=n.get(e.parent.$ref);a?(r.connect(a,[t]),t.targets().add(a)):(n.unresolved=n.unresolved||[]).push(()=>{a=n.get(e.parent.$ref),r.connect(a,[t]),t.targets().add(a)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const a in e.data){const s=n.data[a]||(n.data[a]={});e.data[a].forEach(o=>s[o]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[yD(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:Ixe,parseOperator:qxe,parseOperatorParameters:Gxe,parseParameters:Vxe,parseStream:nye,parseUpdate:rye,getState:aye,setState:sye};function oye(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),HV(t,e.description()))}function HV(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function lye(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const _T="default";function uye(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:_T,item:null}));e.on(e.events("view","pointermove"),t,(n,r)=>{const i=t.value,a=i?Ge(i)?i:i.user:_T,s=r.item&&r.item.cursor||null;return i&&a===i.user&&s==i.item?i:{user:a,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return Ge(r)||(i=r.item,r=r.user),G3(e,r&&r!==_T?r:i||r),i},{cursor:t})}function G3(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function d_(e,t){var n=e._runtime.data;return We(n,t)||be("Unrecognized data set: "+t),n[t]}function cye(e,t){return arguments.length<2?d_(this,e).values.value:Qb.call(this,e,v0().remove(os).insert(t))}function Qb(e,t){aU(t)||be("Second argument to changes must be a changeset.");const n=d_(this,e);return n.modified=!0,this.pulse(n.input,t)}function fye(e,t){return Qb.call(this,e,v0().insert(t))}function hye(e,t){return Qb.call(this,e,v0().remove(t))}function jV(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function qV(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function Zb(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function dye(e){var t=Zb(e),n=jV(e),r=qV(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(a){e.error(a)}})}function gye(e,t,n){var r=e._renderer,i=r&&r.canvas(),a,s,o;return i&&(o=Zb(e),s=t.changedTouches?t.changedTouches[0]:t,a=Ib(s,i),a[0]-=o[0],a[1]-=o[1]),t.dataflow=e,t.item=n,t.vega=pye(e,n,a),t}function pye(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var o=r,u;if(s){for(u=t;u;u=u.mark.group)if(u.mark.name===s){o=u;break}}return o&&o.mark&&o.mark.interactive?o:{}}function a(s){if(!s)return n;Ge(s)&&(s=i(s));const o=n.slice();for(;s;)o[0]-=s.x||0,o[1]-=s.y||0,s=s.mark&&s.mark.group;return o}return{view:gi(e),item:gi(t||{}),group:i,xy:a,x:s=>a(s)[0],y:s=>a(s)[1]}}const eL="view",mye="timer",xye="window",yye={trap:!1};function vye(e){const t=vt({defaults:{}},e),n=(r,i)=>{i.forEach(a=>{Ae(r[a])&&(r[a]=js(r[a]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function GV(e,t,n,r){e._eventListeners.push({type:n,sources:Ve(t),handler:r})}function _ye(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function sv(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||qe(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function bye(e,t,n){var r=this,i=new ob(n),a=function(c,h){r.runAsync(null,()=>{e===eL&&_ye(r,t)&&c.preventDefault(),i.receive(gye(r,c,h))})},s;if(e===mye)sv(r,"timer",t)&&r.timer(a,t);else if(e===eL)sv(r,"view",t)&&r.addEventListener(t,a,yye);else if(e===xye?sv(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&sv(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var o=0,u=s.length;o<u;++o)s[o].addEventListener(t,a);GV(r,s,t,a)}return i}function tL(e){return e.item}function nL(e){return e.item.mark.source}function rL(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Eye(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","pointerover",tL),nL,rL(e)),this.on(this.events("view","pointerout",tL),nL,rL(t)),this}function Sye(){var e=this._tooltip,t=this._timers,n=this._handler.handlers(),r=this._eventListeners,i,a,s,o,u;for(i=t.length;--i>=0;)t[i].stop();for(i=r.length;--i>=0;)for(s=r[i],a=s.sources.length;--a>=0;)s.sources[a].removeEventListener(s.type,s.handler);for(e&&e.call(this,this._handler,null,null,null),i=n.length;--i>=0;)u=n[i].type,o=n[i].handler,this._handler.off(u,o);return this}function ka(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const wye="vega-bind",Aye="vega-bind-name",Tye="vega-bind-radio";function kye(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=eC(r.debounce,i.update))),(r.input==null&&r.element?Cye:Dye)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function Cye(e,t,n,r){const i=n.event||"input",a=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,a),GV(r,t,i,a),e.set=s=>{t.value=s,t.dispatchEvent(Fye(i))}}function Fye(e){return typeof Event<"u"?new Event(e):{type:e}}function Dye(e,t,n,r){const i=r.signal(n.signal),a=ka("div",{class:wye}),s=n.input==="radio"?a:a.appendChild(ka("label"));s.appendChild(ka("span",{class:Aye},n.name||n.signal)),t.appendChild(a);let o=Oye;switch(n.input){case"checkbox":o=Mye;break;case"select":o=Rye;break;case"radio":o=Nye;break;case"range":o=$ye;break}o(e,s,n,i)}function Oye(e,t,n,r){const i=ka("input");for(const a in n)a!=="signal"&&a!=="element"&&i.setAttribute(a==="input"?"type":a,n[a]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=a=>i.value=a}function Mye(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const a=ka("input",i);t.appendChild(a),a.addEventListener("change",()=>e.update(a.checked)),e.elements=[a],e.set=s=>a.checked=!!s||null}function Rye(e,t,n,r){const i=ka("select",{name:n.signal}),a=n.labels||[];n.options.forEach((s,o)=>{const u={value:s};g_(s,r)&&(u.selected=!0),i.appendChild(ka("option",u,(a[o]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let o=0,u=n.options.length;o<u;++o)if(g_(n.options[o],s)){i.selectedIndex=o;return}}}function Nye(e,t,n,r){const i=ka("span",{class:Tye}),a=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,o)=>{const u={type:"radio",name:n.signal,value:s};g_(s,r)&&(u.checked=!0);const c=ka("input",u);c.addEventListener("change",()=>e.update(s));const h=ka("label",{},(a[o]||s)+"");return h.prepend(c),i.appendChild(h),c}),e.set=s=>{const o=e.elements,u=o.length;for(let c=0;c<u;++c)g_(o[c].value,s)&&(o[c].checked=!0)}}function $ye(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,a=n.min||Math.min(0,i,+r)||0,s=n.step||uc(a,i,100),o=ka("input",{type:"range",name:n.signal,min:a,max:i,step:s});o.value=r;const u=ka("span",{},+r);t.appendChild(o),t.appendChild(u);const c=()=>{u.textContent=o.value,e.update(+o.value)};o.addEventListener("input",c),o.addEventListener("change",c),e.elements=[o],e.set=h=>{o.value=h,u.textContent=h}}function g_(e,t){return e===t||e+""==t+""}function VV(e,t,n,r,i,a){return t=t||new r(e.loader()),t.initialize(n,jV(e),qV(e),Zb(e),i,a).background(e.background())}function vD(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function Lye(e,t,n,r){const i=new r(e.loader(),vD(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,Zb(e),e);return t&&t.handlers().forEach(a=>{i.on(a.type,a.handler)}),i}function Iye(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,a=zb(r);e=n._el=e?bT(n,e,!0):null,oye(n),a||n.error("Unrecognized renderer type: "+r);const s=a.handler||Pm,o=e?a.renderer:a.headless;return n._renderer=o?VV(n,n._renderer,e,o):null,n._handler=Lye(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=bT(n,t,!0):e.appendChild(ka("form",{class:"vega-bindings"})),n._bind.forEach(u=>{u.param.element&&i!=="container"&&(u.element=bT(n,u.param.element,!!u.param.input))}),n._bind.forEach(u=>{kye(n,u.element||t,u)})),n}function bT(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const C1=e=>+e||0,zye=e=>({top:e,bottom:e,left:e,right:e});function iL(e){return qe(e)?{top:C1(e.top),bottom:C1(e.bottom),left:C1(e.left),right:C1(e.right)}:zye(C1(e))}async function _D(e,t,n,r){const i=zb(t),a=i&&i.headless;return a||be("Unrecognized renderer type: "+t),await e.runAsync(),VV(e,null,null,a,n,r).renderAsync(e._scenegraph.root)}async function Bye(e,t){e!==Xu.Canvas&&e!==Xu.SVG&&e!==Xu.PNG&&be("Unrecognized image type: "+e);const n=await _D(this,e,t);return e===Xu.SVG?Pye(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function Pye(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function Uye(e,t){return(await _D(this,Xu.Canvas,e,t)).canvas()}async function Hye(e){return(await _D(this,Xu.SVG,e)).svg()}function jye(e,t,n){return PV(e,hd,Jp,n).parse(t)}function qye(e){var t=this._runtime.scales;return We(t,e)||be("Unrecognized scale or projection: "+e),t[e].value}var XV="width",WV="height",bD="padding",aL={skip:!0};function YV(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===bD?r.left+r.right:0)}function KV(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===bD?r.top+r.bottom:0)}function Gye(e){var t=e._signals,n=t[XV],r=t[WV],i=t[bD];function a(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,o=>{e._width=o.size,e._viewWidth=YV(e,o.size),a()},{size:n}),e._resizeHeight=e.add(null,o=>{e._height=o.size,e._viewHeight=KV(e,o.size),a()},{size:r});const s=e.add(null,a,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function Vye(e,t,n,r,i,a){this.runAfter(s=>{let o=0;s._autosize=0,s.width()!==n&&(o=1,s.signal(XV,n,aL),s._resizeWidth.skip(!0)),s.height()!==r&&(o=1,s.signal(WV,r,aL),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),o&&s.run("enter"),a&&s.runAfter(u=>u.resize())},!1,1)}function Xye(e){return this._runtime.getState(e||{data:Wye,signals:Yye,recurse:!0})}function Wye(e,t){return t.modified&&Ae(t.input.value)&&!e.startsWith("_:vega:_")}function Yye(e,t){return!(e==="parent"||t instanceof hd.proxy)}function Kye(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function Qye(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(bde(n,t))}function Zye(e,t,n,r){const i=e.element();i&&i.setAttribute("title",Jye(r))}function Jye(e){return e==null?"":Ae(e)?QV(e):qe(e)&&!tc(e)?eve(e):e+""}function eve(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Ae(n)?QV(n):ZV(n))}).join(`
`)}function QV(e){return"["+e.map(ZV).join(", ")+"]"}function ZV(e){return Ae(e)?"[]":qe(e)&&!tc(e)?"{}":e}function tve(){if(this.renderer()==="canvas"&&this._renderer._canvas){let e=null;const t=()=>{e?.();const n=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);n.addEventListener("change",t),e=()=>{n.removeEventListener("change",t)},this._renderer._canvas.getContext("2d").pixelRatio=window.devicePixelRatio||1,this._redraw=!0,this._resize=1,this.resize().runAsync()};t()}}function JV(e,t){const n=this;if(t=t||{},Wh.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const a=vt({},e.locale,t.locale);n.locale(YP(a.number,a.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Xu.Canvas,n._scenegraph=new Xj;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||Zye,n._redraw=!0,n._handler=new Pm().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=vye(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=jye(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(a=>({state:null,param:vt({},a)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=YV(n,n._width),n._viewHeight=KV(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,Gye(n),lye(n),uye(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind),t.watchPixelRatio&&n._watchPixelRatio()}function ov(e,t){return We(e._signals,t)?e._signals[t]:be("Unrecognized signal name: "+ze(t))}function eX(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function sL(e,t,n,r){let i=eX(n,r);return i||(i=vD(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function oL(e,t,n){const r=eX(t,n);return r&&t._targets.remove(r),e}Be(JV,Wh,{async evaluate(e,t,n){if(await Wh.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,dye(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&Dv(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&HV(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=ov(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",iL(e)):iL(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(zb(e)||be("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Wh.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(ov(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:Vye,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=vD(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,a;--r>=0;)if(a=n[r].type,i=n[r].handler,e===a&&(t===i||t===i.raw)){this._handler.off(a,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.includes(e)||t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return sL(this,e,ov(this,e),t)},removeSignalListener(e,t){return oL(this,ov(this,e),t)},addDataListener(e,t){return sL(this,e,d_(this,e).values,t)},removeDataListener(e,t){return oL(this,d_(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=G3(this,null);this._globalCursor=!!e,t&&G3(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:Qye,events:bye,finalize:Sye,hover:Eye,data:cye,change:Qb,insert:fye,remove:hye,scale:qye,initialize:Iye,toImageURL:Bye,toCanvas:Uye,toSVG:Hye,getState:Xye,setState:Kye,_watchPixelRatio:tve});const nve="view",p_="[",m_="]",tX="{",nX="}",rve=":",rX=",",ive="@",ave=">",sve=/[[\]{}]/,ove={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let iX,aX;function Oc(e,t,n){return iX=t||nve,aX=n||ove,sX(e.trim()).map(V3)}function lve(e){return aX[e]}function bp(e,t,n,r,i){const a=e.length;let s=0,o;for(;t<a;++t){if(o=e[t],!s&&o===n)return t;i&&i.includes(o)?--s:r&&r.includes(o)&&++s}return t}function sX(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=bp(e,i,rX,p_+tX,m_+nX),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function V3(e){return e[0]==="["?uve(e):cve(e)}function uve(e){const t=e.length;let n=1,r;if(n=bp(e,n,m_,p_,m_),n===t)throw"Empty between selector: "+e;if(r=sX(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==ave)throw"Expected '>' after between selector: "+e;r=r.map(V3);const i=V3(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function cve(e){const t={source:iX},n=[];let r=[0,0],i=0,a=0,s=e.length,o=0,u,c;if(e[s-1]===nX){if(o=e.lastIndexOf(tX),o>=0){try{r=fve(e.substring(o+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,o).trim(),s=e.length}else throw"Unmatched right brace: "+e;o=0}if(!s)throw e;if(e[0]===ive&&(i=++o),u=bp(e,o,rve),u<s&&(n.push(e.substring(a,u).trim()),a=o=++u),o=bp(e,o,p_),o===s)n.push(e.substring(a,s).trim());else if(n.push(e.substring(a,o).trim()),c=[],a=++o,a===s)throw"Unmatched left bracket: "+e;for(;o<s;){if(o=bp(e,o,m_),o===s)throw"Unmatched left bracket: "+e;if(c.push(e.substring(a,o).trim()),o<s-1&&e[++o]!==p_)throw"Expected left bracket: "+e;a=++o}if(!(s=n.length)||sve.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):lve(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function fve(e){const t=e.split(rX);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function hve(e){return qe(e)?e:{type:e||"pad"}}const F1=e=>+e||0,dve=e=>({top:e,bottom:e,left:e,right:e});function gve(e){return qe(e)?e.signal?e:{top:F1(e.top),bottom:F1(e.bottom),left:F1(e.left),right:F1(e.right)}:dve(F1(e))}const wr=e=>qe(e)&&!Ae(e)?vt({},e):{value:e};function lL(e,t,n,r){return n!=null?(qe(n)&&!Ae(n)||Ae(n)&&n.length&&qe(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Gr(e,t,n){for(const r in t)lL(e,r,t[r]);for(const r in n)lL(e,r,n[r],"update")}function ag(e,t,n){for(const r in t)n&&We(n,r)||(e[r]=vt(e[r]||{},t[r]));return e}function Ih(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const ED="mark",SD="frame",wD="scope",pve="axis",mve="axis-domain",xve="axis-grid",yve="axis-label",vve="axis-tick",_ve="axis-title",bve="legend",Eve="legend-band",Sve="legend-entry",wve="legend-gradient",oX="legend-label",Ave="legend-symbol",Tve="legend-title",kve="title",Cve="title-text",Fve="title-subtitle";function Dve(e,t,n,r,i){const a={},s={};let o,u,c,h;u="lineBreak",t==="text"&&i[u]!=null&&!Ih(u,e)&&ET(a,u,i[u]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),h=n===SD?i.group:n===ED?vt({},i.mark,i[t]):null;for(u in h)c=Ih(u,e)||(u==="fill"||u==="stroke")&&(Ih("fill",e)||Ih("stroke",e)),c||ET(a,u,h[u]);Ve(r).forEach(d=>{const p=i.style&&i.style[d];for(const m in p)Ih(m,e)||ET(a,m,p[m])}),e=vt({},e);for(u in a)h=a[u],h.signal?(o=o||{})[u]=h:s[u]=h;return e.enter=vt(s,e.enter),o&&(e.update=vt(o,e.update)),e}function ET(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const lX=e=>Ge(e)?ze(e):e.signal?`(${e.signal})`:uX(e);function Jb(e){if(e.gradient!=null)return Mve(e);let t=e.signal?`(${e.signal})`:e.color?Ove(e.color):e.field!=null?uX(e.field):e.value!==void 0?ze(e.value):void 0;return e.scale!=null&&(t=Rve(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${Wv(e.exponent)})`),e.mult!=null&&(t+=`*${Wv(e.mult)}`),e.offset!=null&&(t+=`+${Wv(e.offset)}`),e.round&&(t=`round(${t})`),t}const lv=(e,t,n,r)=>`(${e}(${[t,n,r].map(Jb).join(",")})+'')`;function Ove(e){return e.c?lv("hcl",e.h,e.c,e.l):e.h||e.s?lv("hsl",e.h,e.s,e.l):e.l||e.a?lv("lab",e.l,e.a,e.b):e.r||e.g||e.b?lv("rgb",e.r,e.g,e.b):null}function Mve(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:ze(n));for(;t.length&&Nt(t)==null;)t.pop();return t.unshift(lX(e.gradient)),`gradient(${t.join(",")})`}function Wv(e){return qe(e)?"("+Jb(e)+")":e}function uX(e){return cX(qe(e)?e:{datum:e})}function cX(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):be("Invalid field reference: "+ze(e));return e.signal||(r=Ge(r)?Po(r).map(ze).join("]["):cX(r)),t+"["+r+"]"}function Rve(e,t){const n=lX(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+Wv(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function Nve(e){let t="";return e.forEach(n=>{const r=Jb(n);t+=n.test?`(${n.test})?${r}:`:r}),Nt(t)===":"&&(t+="null"),t}function fX(e,t,n,r,i,a){const s={};a=a||{},a.encoders={$encode:s},e=Dve(e,t,n,r,i.config);for(const o in e)s[o]=$ve(e[o],t,a,i);return a}function $ve(e,t,n,r){const i={},a={};for(const s in e)e[s]!=null&&(i[s]=Ive(Lve(e[s]),r,n,a));return{$expr:{marktype:t,channels:i},$fields:Object.keys(a),$output:Object.keys(e)}}function Lve(e){return Ae(e)?Nve(e):Jb(e)}function Ive(e,t,n,r){const i=$o(e,t);return i.$fields.forEach(a=>r[a]=1),vt(n,i.$params),i.$expr}const zve="outer",Bve=["value","update","init","react","bind"];function uL(e,t){be(e+' for "outer" push: '+ze(t))}function hX(e,t){const n=e.name;if(e.push===zve)t.signals[n]||uL("No prior signal definition",n),Bve.forEach(r=>{e[r]!==void 0&&uL("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function X3(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function eE(e,t,n,r){return new X3(e,t,n,r)}function x_(e,t){return eE("operator",e,t)}function rt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function em(e,t){return t?{$field:e,$name:t}:{$field:e}}const W3=em("key");function cL(e,t){return{$compare:e,$order:t}}function Pve(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const Uve="ascending",Hve="descending";function jve(e){return qe(e)?(e.order===Hve?"-":"+")+tE(e.op,e.field):""}function tE(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const AD="scope",Y3="view";function dr(e){return e&&e.signal}function qve(e){return e&&e.expr}function Yv(e){if(dr(e))return!0;if(qe(e)){for(const t in e)if(Yv(e[t]))return!0}return!1}function Cs(e,t){return e??t}function If(e){return e&&e.signal||e}const fL="timer";function tm(e,t){return(e.merge?Vve:e.stream?Xve:e.type?Wve:be("Invalid stream specification: "+ze(e)))(e,t)}function Gve(e){return e===AD?Y3:e||Y3}function Vve(e,t){const n=e.merge.map(i=>tm(i,t)),r=TD({merge:n},e,t);return t.addStream(r).id}function Xve(e,t){const n=tm(e.stream,t),r=TD({stream:n},e,t);return t.addStream(r).id}function Wve(e,t){let n;e.type===fL?(n=t.event(fL,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(Gve(e.source),e.type);const r=TD({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function TD(e,t,n){let r=t.between;return r&&(r.length!==2&&be('Stream "between" parameter must have 2 entries: '+ze(t)),e.between=[tm(r[0],n),tm(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(Yve(t.marktype,t.markname,t.markrole)),t.source===AD&&r.push("inScope(event.item)"),r.length&&(e.filter=$o("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function Yve(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const Kve={code:"_.$value",ast:{type:"Identifier",value:"value"}};function Qve(e,t,n){const r=e.encode,i={target:n};let a=e.events,s=e.update,o=[];a||be("Signal update missing events specification."),Ge(a)&&(a=Oc(a,t.isSubscope()?AD:Y3)),a=Ve(a).filter(u=>u.signal||u.scale?(o.push(u),0):1),o.length>1&&(o=[Jve(o)]),a.length&&o.push(a.length>1?{merge:a}:a[0]),r!=null&&(s&&be("Signal encode and update are mutually exclusive."),s="encode(item(),"+ze(r)+")"),i.update=Ge(s)?$o(s,t):s.expr!=null?$o(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:Kve,$params:{$value:t.signalRef(s.signal)}}:be("Invalid signal update specification."),e.force&&(i.options={force:!0}),o.forEach(u=>t.addUpdate(vt(Zve(u,t),i)))}function Zve(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):tm(e,t)}}function Jve(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function e2e(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?be("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=$o(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>Qve(i,t,n.id))}const cn=e=>(t,n,r)=>eE(e,n,t||void 0,r),dX=cn("aggregate"),t2e=cn("axisticks"),gX=cn("bound"),Qs=cn("collect"),hL=cn("compare"),n2e=cn("datajoin"),pX=cn("encode"),r2e=cn("expression"),i2e=cn("facet"),a2e=cn("field"),s2e=cn("key"),o2e=cn("legendentries"),l2e=cn("load"),u2e=cn("mark"),c2e=cn("multiextent"),f2e=cn("multivalues"),h2e=cn("overlap"),d2e=cn("params"),mX=cn("prefacet"),g2e=cn("projection"),p2e=cn("proxy"),m2e=cn("relay"),xX=cn("render"),x2e=cn("scale"),S0=cn("sieve"),y2e=cn("sortitems"),yX=cn("viewlayout"),v2e=cn("values");let _2e=0;const vX={min:"min",max:"max",count:"sum"};function b2e(e,t){const n=e.type||"linear";sj(n)||be("Unrecognized scale type: "+ze(n)),t.addScale(e.name,{type:n,domain:void 0})}function E2e(e,t){const n=t.getScale(e.name).params;let r;n.domain=_X(e.domain,e,t),e.range!=null&&(n.range=EX(e,t,n)),e.interpolate!=null&&M2e(e.interpolate,n),e.nice!=null&&(n.nice=O2e(e.nice,t)),e.bins!=null&&(n.bins=D2e(e.bins,t));for(r in e)We(n,r)||r==="name"||(n[r]=ns(e[r],t))}function ns(e,t){return qe(e)?e.signal?t.signalRef(e.signal):be("Unsupported object: "+ze(e)):e}function Kv(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>ns(n,t))}function nE(e){be("Can not find data set: "+ze(e))}function _X(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&be("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Ae(e)?S2e:e.fields?A2e:w2e)(e,t,n)}function S2e(e,t,n){return e.map(r=>ns(r,n))}function w2e(e,t,n){const r=n.getData(e.data);return r||nE(e.data),xd(t.type)?r.valuesRef(n,e.field,bX(e.sort,!1)):uj(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function A2e(e,t,n){const r=e.data,i=e.fields.reduce((a,s)=>(s=Ge(s)?{data:r,field:s}:Ae(s)||s.signal?T2e(s,n):s,a.push(s),a),[]);return(xd(t.type)?k2e:uj(t.type)?C2e:F2e)(e,n,i)}function T2e(e,t){const n="_:vega:_"+_2e++,r=Qs({});if(Ae(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+ze(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,S0({})]),{data:n,field:"data"}}function k2e(e,t,n){const r=bX(e.sort,!0);let i,a;const s=n.map(c=>{const h=t.getData(c.data);return h||nE(c.data),h.countsRef(t,c.field,r)}),o={groupby:W3,pulse:s};r&&(i=r.op||"count",a=r.field?tE(i,r.field):"count",o.ops=[vX[i]],o.fields=[t.fieldRef(a)],o.as=[a]),i=t.add(dX(o));const u=t.add(Qs({pulse:rt(i)}));return a=t.add(v2e({field:W3,sort:t.sortRef(r),pulse:rt(u)})),rt(a)}function bX(e,t){return e&&(!e.field&&!e.op?qe(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?be("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!vX[e.op]&&be("Multiple domain scales can not be sorted using "+e.op)),e}function C2e(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||nE(i.data),a.domainRef(t,i.field)});return rt(t.add(f2e({values:r})))}function F2e(e,t,n){const r=n.map(i=>{const a=t.getData(i.data);return a||nE(i.data),a.extentRef(t,i.field)});return rt(t.add(c2e({extents:r})))}function D2e(e,t){return e.signal||Ae(e)?Kv(e,t):t.objectProperty(e)}function O2e(e,t){return e.signal?t.signalRef(e.signal):qe(e)?{interval:ns(e.interval),step:ns(e.step)}:ns(e)}function M2e(e,t){t.interpolate=ns(e.type||e),e.gamma!=null&&(t.interpolateGamma=ns(e.gamma))}function EX(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(Ge(i)){if(r&&We(r,i))return e=vt({},e,{range:r[i]}),EX(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=xd(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:be("Unrecognized scale range value: "+ze(i))}else if(i.scheme){n.scheme=Ae(i.scheme)?Kv(i.scheme,t):ns(i.scheme,t),i.extent&&(n.schemeExtent=Kv(i.extent,t)),i.count&&(n.schemeCount=ns(i.count,t));return}else if(i.step){n.rangeStep=ns(i.step,t);return}else{if(xd(e.type)&&!Ae(i))return _X(i,e,t);Ae(i)||be("Unsupported range type: "+ze(i))}return i.map(a=>(Ae(a)?Kv:ns)(a,t))}function R2e(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=K3(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=K3(n[i],i,t));t.addProjection(e.name,r)}function K3(e,t,n){return Ae(e)?e.map(r=>K3(r,t,n)):qe(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:be("Unsupported parameter object: "+ze(e)):e}const Zs="top",sg="left",og="right",xc="bottom",SX="center",N2e="vertical",$2e="start",L2e="middle",I2e="end",Q3="index",kD="label",z2e="offset",Td="perc",B2e="perc2",is="value",Ym="guide-label",CD="guide-title",P2e="group-title",U2e="group-subtitle",dL="symbol",Qv="gradient",Z3="discrete",J3="size",H2e="shape",j2e="fill",q2e="stroke",G2e="strokeWidth",V2e="strokeDash",X2e="opacity",FD=[J3,H2e,j2e,q2e,G2e,V2e,X2e],Km={name:1,style:1,interactive:1},Lt={value:0},as={value:1},rE="group",wX="rect",DD="rule",W2e="symbol",w0="text";function nm(e){return e.type=rE,e.interactive=e.interactive||!1,e}function ua(e,t){const n=(r,i)=>Cs(e[r],Cs(t[r],i));return n.isVertical=r=>N2e===Cs(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>Cs(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>Cs(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>Cs(e.columns,Cs(t.columns,+n.isVertical(!0))),n}function AX(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function Y2e(e,t,n){const r=t.config.style[n];return r&&r[e]}function iE(e,t,n){return`item.anchor === '${$2e}' ? ${e} : item.anchor === '${I2e}' ? ${t} : ${n}`}const OD=iE(ze(sg),ze(og),ze(SX));function K2e(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},qe(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function TX(e,t){return t?e?qe(e)?Object.assign({},e,{offset:TX(e.offset,t)}):{value:e,offset:t}:t:e}function Ra(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=ag(e.encode,t,Km)):e.interactive=!1,e}function Q2e(e,t,n,r){const i=ua(e,n),a=i.isVertical(),s=i.gradientThickness(),o=i.gradientLength();let u,c,h,d,p;a?(c=[0,1],h=[0,0],d=s,p=o):(c=[0,0],h=[1,0],d=o,p=s);const m={enter:u={opacity:Lt,x:Lt,y:Lt,width:wr(d),height:wr(p)},update:vt({},u,{opacity:as,fill:{gradient:t,start:c,stop:h}}),exit:{opacity:Lt}};return Gr(m,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Ra({type:wX,role:wve,encode:m},r)}function Z2e(e,t,n,r,i){const a=ua(e,n),s=a.isVertical(),o=a.gradientThickness(),u=a.gradientLength();let c,h,d,p,m="";s?(c="y",d="y2",h="x",p="width",m="1-"):(c="x",d="x2",h="y",p="height");const y={opacity:Lt,fill:{scale:t,field:is}};y[c]={signal:m+"datum."+Td,mult:u},y[h]=Lt,y[d]={signal:m+"datum."+B2e,mult:u},y[p]=wr(o);const v={enter:y,update:vt({},y,{opacity:as}),exit:{opacity:Lt}};return Gr(v,{stroke:a("gradientStrokeColor"),strokeWidth:a("gradientStrokeWidth")},{opacity:a("gradientOpacity")}),Ra({type:wX,role:Eve,key:is,from:i,encode:v},r)}const J2e=`datum.${Td}<=0?"${sg}":datum.${Td}>=1?"${og}":"${SX}"`,e_e=`datum.${Td}<=0?"${xc}":datum.${Td}>=1?"${Zs}":"${L2e}"`;function gL(e,t,n,r){const i=ua(e,t),a=i.isVertical(),s=wr(i.gradientThickness()),o=i.gradientLength();let u=i("labelOverlap"),c,h,d,p,m="";const y={enter:c={opacity:Lt},update:h={opacity:as,text:{field:kD}},exit:{opacity:Lt}};return Gr(y,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:Cs(e.labelLimit,t.gradientLabelLimit)}),a?(c.align={value:"left"},c.baseline=h.baseline={signal:e_e},d="y",p="x",m="1-"):(c.align=h.align={signal:J2e},c.baseline={value:"top"},d="x",p="y"),c[d]=h[d]={signal:m+"datum."+Td,mult:o},c[p]=h[p]=s,s.offset=Cs(e.labelOffset,t.gradientLabelOffset)||0,u=u?{separation:i("labelSeparation"),method:u,order:"datum."+Q3}:void 0,Ra({type:w0,role:oX,style:Ym,key:is,from:r,encode:y,overlap:u},n)}function t_e(e,t,n,r,i){const a=ua(e,t),s=n.entries,o=!!(s&&s.interactive),u=s?s.name:void 0,c=a("clipHeight"),h=a("symbolOffset"),d={data:"value"},p=`(${i}) ? datum.${z2e} : datum.${J3}`,m=c?wr(c):{field:J3},y=`datum.${Q3}`,v=`max(1, ${i})`;let _,E,w,A,k;m.mult=.5,_={enter:E={opacity:Lt,x:{signal:p,mult:.5,offset:h},y:m},update:w={opacity:as,x:E.x,y:E.y},exit:{opacity:Lt}};let D=null,O=null;e.fill||(D=t.symbolBaseFillColor,O=t.symbolBaseStrokeColor),Gr(_,{fill:a("symbolFillColor",D),shape:a("symbolType"),size:a("symbolSize"),stroke:a("symbolStrokeColor",O),strokeDash:a("symbolDash"),strokeDashOffset:a("symbolDashOffset"),strokeWidth:a("symbolStrokeWidth")},{opacity:a("symbolOpacity")}),FD.forEach(N=>{e[N]&&(w[N]=E[N]={scale:e[N],field:is})});const T=Ra({type:W2e,role:Ave,key:is,from:d,clip:c?!0:void 0,encode:_},n.symbols),F=wr(h);F.offset=a("labelOffset"),_={enter:E={opacity:Lt,x:{signal:p,offset:F},y:m},update:w={opacity:as,text:{field:kD},x:E.x,y:E.y},exit:{opacity:Lt}},Gr(_,{align:a("labelAlign"),baseline:a("labelBaseline"),fill:a("labelColor"),fillOpacity:a("labelOpacity"),font:a("labelFont"),fontSize:a("labelFontSize"),fontStyle:a("labelFontStyle"),fontWeight:a("labelFontWeight"),limit:a("labelLimit")});const C=Ra({type:w0,role:oX,style:Ym,key:is,from:d,encode:_},n.labels);return _={enter:{noBound:{value:!c},width:Lt,height:c?wr(c):Lt,opacity:Lt},exit:{opacity:Lt},update:w={opacity:as,row:{signal:null},column:{signal:null}}},a.isVertical(!0)?(A=`ceil(item.mark.items.length / ${v})`,w.row.signal=`${y}%${A}`,w.column.signal=`floor(${y} / ${A})`,k={field:["row",y]}):(w.row.signal=`floor(${y} / ${v})`,w.column.signal=`${y} % ${v}`,k={field:y}),w.column.signal=`(${i})?${w.column.signal}:${y}`,r={facet:{data:r,name:"value",groupby:Q3}},nm({role:wD,from:r,encode:ag(_,s,Km),marks:[T,C],name:u,interactive:o,sort:k})}function n_e(e,t){const n=ua(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const MD='item.orient === "left"',RD='item.orient === "right"',aE=`(${MD} || ${RD})`,r_e=`datum.vgrad && ${aE}`,i_e=iE('"top"','"bottom"','"middle"'),a_e=iE('"right"','"left"','"center"'),s_e=`datum.vgrad && ${RD} ? (${a_e}) : (${aE} && !(datum.vgrad && ${MD})) ? "left" : ${OD}`,o_e=`item._anchor || (${aE} ? "middle" : "start")`,l_e=`${r_e} ? (${MD} ? -90 : 90) : 0`,u_e=`${aE} ? (datum.vgrad ? (${RD} ? "bottom" : "top") : ${i_e}) : "top"`;function c_e(e,t,n,r){const i=ua(e,t),a={enter:{opacity:Lt},update:{opacity:as,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:Lt}};return Gr(a,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:o_e},angle:{signal:l_e},align:{signal:s_e},baseline:{signal:u_e},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Ra({type:w0,role:Tve,style:CD,from:r,encode:a},n)}function f_e(e,t){let n;return qe(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+pL(e.path)+")":e.sphere&&(n="geoShape("+pL(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function pL(e){return qe(e)&&e.signal?e.signal:ze(e)}function kX(e){const t=e.role||"";return t.startsWith("axis")||t.startsWith("legend")||t.startsWith("title")?t:e.type===rE?wD:t||ED}function h_e(e){return{marktype:e.type,name:e.name||void 0,role:e.role||kX(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function d_e(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function ND(e,t){const n=lU(e.type);n||be("Unrecognized transform type: "+ze(e.type));const r=eE(n.type.toLowerCase(),null,CX(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function CX(e,t,n){const r={},i=e.params.length;for(let a=0;a<i;++a){const s=e.params[a];r[s.name]=g_e(s,t,n)}return r}function g_e(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return p_e(e,t,n);if(i===void 0){e.required&&be("Missing required "+ze(t.type)+" parameter: "+ze(e.name));return}else{if(r==="param")return m_e(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!dr(i)?i.map(a=>mL(e,a,n)):mL(e,i,n)}function mL(e,t,n){const r=e.type;if(dr(t))return yL(r)?be("Expression references can not be signals."):ST(r)?n.fieldRef(t):vL(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||ST(r);return i&&x_e(t)?n.exprRef(t.expr,t.as):i&&y_e(t)?em(t.field,t.as):yL(r)?$o(t,n):v_e(r)?rt(n.getData(t).values):ST(r)?em(t):vL(r)?n.compareRef(t):t}}function p_e(e,t,n){return Ge(t.from)||be('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function m_e(e,t,n){const r=t[e.name];return e.array?(Ae(r)||be("Expected an array of sub-parameters. Instead: "+ze(r)),r.map(i=>xL(e,i,n))):xL(e,r,n)}function xL(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const o in i.key)if(i.key[o]!==t[o]){i=null;break}if(i)break}i||be("Unsupported parameter: "+ze(t));const a=vt(CX(i,t,n),i.key);return rt(n.add(d2e(a)))}const x_e=e=>e&&e.expr,y_e=e=>e&&e.field,v_e=e=>e==="data",yL=e=>e==="expr",ST=e=>e==="field",vL=e=>e==="compare";function __e(e,t,n){let r,i,a,s,o;return e?(r=e.facet)&&(t||be("Only group marks can be faceted."),r.field!=null?s=o=Zv(r,n):(e.data?o=rt(n.getData(e.data).aggregate):(a=ND(vt({type:"aggregate",groupby:Ve(r.groupby)},r.aggregate),n),a.params.key=n.keyRef(r.groupby),a.params.pulse=Zv(r,n),s=o=rt(n.add(a))),i=n.keyRef(r.groupby,!0))):s=rt(n.add(Qs(null,[{}]))),s||(s=Zv(e,n)),{key:i,pulse:s,parent:o}}function Zv(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:rt(t.getData(e.data).output)}function n0(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}n0.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let a=t[0],s=null,o=1;for(a&&a.type==="load"&&(a=t[1]),e.add(t[0]);o<n;++o)t[o].params.pulse=rt(t[o-1]),e.add(t[o]),t[o].type==="aggregate"&&(s=t[o]);return new n0(e,a,i,r,s)};function FX(e){return Ge(e)?e:null}function _L(e,t,n){const r=tE(n.op,n.field);let i;if(t.ops){for(let a=0,s=t.as.length;a<s;++a)if(t.as[a]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function D1(e,t,n,r,i,a,s){const o=t[n]||(t[n]={}),u=jve(a);let c=FX(i),h,d;if(c!=null&&(e=t.scope,c=c+(u?"|"+u:""),h=o[c]),!h){const p=a?{field:W3,pulse:t.countsRef(e,i,a)}:{field:e.fieldRef(i),pulse:rt(t.output)};u&&(p.sort=e.sortRef(a)),d=e.add(eE(r,void 0,p)),s&&(t.index[i]=d),h=rt(d),c!=null&&(o[c]=h)}return h}n0.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),a=FX(t);let s,o,u;return a!=null&&(e=r.scope,s=i[a]),s?n&&n.field&&_L(e,s.agg.params,n):(u={groupby:e.fieldRef(t,"key"),pulse:rt(r.output)},n&&n.field&&_L(e,u,n),o=e.add(dX(u)),s=e.add(Qs({pulse:rt(o)})),s={agg:o,ref:rt(s)},a!=null&&(i[a]=s)),s.ref},tuplesRef(){return rt(this.values)},extentRef(e,t){return D1(e,this,"extent","extent",t,!1)},domainRef(e,t){return D1(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return D1(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return D1(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return D1(e,this,"indata","tupleindex",t,!0,!0)}};function b_e(e,t,n){const r=e.from.facet,i=r.name,a=Zv(r,t);let s;r.name||be("Facet must have a name: "+ze(r)),r.data||be("Facet must reference a data set: "+ze(r)),r.field?s=t.add(mX({field:t.fieldRef(r.field),pulse:a})):r.groupby?s=t.add(i2e({key:t.keyRef(r.groupby),group:rt(t.proxy(n.parent)),pulse:a})):be("Facet must specify groupby or field: "+ze(r));const o=t.fork(),u=o.add(Qs()),c=o.add(S0({pulse:rt(u)}));o.addData(i,new n0(o,u,u,c)),o.addSignal("parent",null),s.params.subflow={$subflow:o.parse(e).toRuntime()}}function E_e(e,t,n){const r=t.add(mX({pulse:n.pulse})),i=t.fork();i.add(S0()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function DX(e,t,n){const r=e.remove,i=e.insert,a=e.toggle,s=e.modify,o=e.values,u=t.add(x_()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,a,s,o].map(d=>d??"null").join(",")+"),0)",h=$o(c,t);u.update=h.$expr,u.params=h.$params}function sE(e,t){const n=kX(e),r=e.type===rE,i=e.from&&e.from.facet,a=e.overlap;let s=e.layout||n===wD||n===SD,o,u,c,h,d,p,m;const y=n===ED||s||i,v=__e(e.from,r,t);u=t.add(n2e({key:v.key||(e.key?em(e.key):void 0),pulse:v.pulse,clean:!r}));const _=rt(u);u=c=t.add(Qs({pulse:_})),u=t.add(u2e({markdef:h_e(e),interactive:d_e(e.interactive,t),clip:f_e(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:rt(u)}));const E=rt(u);u=h=t.add(pX(fX(e.encode,e.type,n,e.style,t,{mod:!1,pulse:E}))),u.params.parent=t.encode(),e.transform&&e.transform.forEach(O=>{const T=ND(O,t),F=T.metadata;(F.generates||F.changes)&&be("Mark transforms should not generate new data."),F.nomod||(h.params.mod=!0),T.params.pulse=rt(u),t.add(u=T)}),e.sort&&(u=t.add(y2e({sort:t.compareRef(e.sort),pulse:rt(u)})));const w=rt(u);(i||s)&&(s=t.add(yX({layout:t.objectProperty(e.layout),legends:t.legends,mark:E,pulse:w})),p=rt(s));const A=t.add(gX({mark:E,pulse:p||w}));m=rt(A),r&&(y&&(o=t.operators,o.pop(),s&&o.pop()),t.pushState(w,p||m,_),i?b_e(e,t,v):y?E_e(e,t,v):t.parse(e),t.popState(),y&&(s&&o.push(s),o.push(A))),a&&(m=S_e(a,m,t));const k=t.add(xX({pulse:m})),D=t.add(S0({pulse:rt(k)},void 0,t.parent()));e.name!=null&&(d=e.name,t.addData(d,new n0(t,c,k,D)),e.on&&e.on.forEach(O=>{(O.insert||O.remove||O.toggle)&&be("Marks only support modify triggers."),DX(O,t,d)}))}function S_e(e,t,n){const r=e.method,i=e.bound,a=e.separation,s={separation:dr(a)?n.signalRef(a.signal):a,method:dr(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const o=i.tolerance;s.boundTolerance=dr(o)?n.signalRef(o.signal):+o,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return rt(n.add(h2e(s)))}function w_e(e,t){const n=t.config.legend,r=e.encode||{},i=ua(e,n),a=r.legend||{},s=a.name||void 0,o=a.interactive,u=a.style,c={};let h=0,d,p,m;FD.forEach(A=>e[A]?(c[A]=e[A],h=h||e[A]):0),h||be("Missing valid scale for legend.");const y=A_e(e,t.scaleType(h)),v={title:e.title!=null,scales:c,type:y,vgrad:y!=="symbol"&&i.isVertical()},_=rt(t.add(Qs(null,[v]))),E={enter:{x:{value:0},y:{value:0}}},w=rt(t.add(o2e(p={type:y,scale:t.scaleRef(h),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return y===Qv?(m=[Q2e(e,h,n,r.gradient),gL(e,n,r.labels,w)],p.count=p.count||t.signalRef(`max(2,2*floor((${If(i.gradientLength())})/100))`)):y===Z3?m=[Z2e(e,h,n,r.gradient,w),gL(e,n,r.labels,w)]:(d=n_e(e,n),m=[t_e(e,n,r,w,If(d.columns))],p.size=C_e(e,t,m[0].marks)),m=[nm({role:Sve,from:_,encode:E,marks:m,layout:d,interactive:o})],v.title&&m.push(c_e(e,n,r.title,_)),sE(nm({role:bve,from:_,encode:ag(k_e(i,e,n),a,Km),marks:m,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:o,style:u}),t)}function A_e(e,t){let n=e.type||dL;return!e.type&&T_e(e)===1&&(e.fill||e.stroke)&&(n=NF(t)?Qv:qk(t)?Z3:dL),n!==Qv?n:qk(t)?Z3:Qv}function T_e(e){return FD.reduce((t,n)=>t+(e[n]?1:0),0)}function k_e(e,t,n){const r={enter:{},update:{}};return Gr(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function C_e(e,t,n){const r=If(bL("size",e,n)),i=If(bL("strokeWidth",e,n)),a=If(F_e(n[1].encode,t,Ym));return $o(`max(ceil(sqrt(${r})+${i}),${a})`,t)}function bL(e,t,n){return t[e]?`scale("${t[e]}",datum)`:AX(e,n[0].encode)}function F_e(e,t,n){return AX("fontSize",e)||Y2e("fontSize",t,n)}const D_e=`item.orient==="${sg}"?-90:item.orient==="${og}"?90:0`;function O_e(e,t){e=Ge(e)?{text:e}:e;const n=ua(e,t.config.title),r=e.encode||{},i=r.group||{},a=i.name||void 0,s=i.interactive,o=i.style,u=[],c={},h=rt(t.add(Qs(null,[c])));return u.push(N_e(e,n,M_e(e),h)),e.subtitle&&u.push($_e(e,n,r.subtitle,h)),sE(nm({role:kve,from:h,encode:R_e(n,i),marks:u,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:a,interactive:s,style:o}),t)}function M_e(e){const t=e.encode;return t&&t.title||vt({name:e.name,interactive:e.interactive,style:e.style},t)}function R_e(e,t){const n={enter:{},update:{}};return Gr(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:OD},angle:{signal:D_e},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),ag(n,t,Km)}function N_e(e,t,n,r){const i={value:0},a=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Gr(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ra({type:w0,role:Cve,style:P2e,from:r,encode:s},n)}function $_e(e,t,n,r){const i={value:0},a=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Gr(s,{text:a,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Ra({type:w0,role:Fve,style:U2e,from:r,encode:s},n)}function L_e(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(ND(r,t))}),e.on&&e.on.forEach(r=>{DX(r,t,e.name)}),t.addDataPipeline(e.name,I_e(e,t,n))}function I_e(e,t,n){const r=[];let i=null,a=!1,s=!1,o,u,c,h,d;for(e.values?dr(e.values)||Yv(e.format)?(r.push(EL(t,e)),r.push(i=cf())):r.push(i=cf({$ingest:e.values,$format:e.format})):e.url?Yv(e.url)||Yv(e.format)?(r.push(EL(t,e)),r.push(i=cf())):r.push(i=cf({$request:e.url,$format:e.format})):e.source&&(i=o=Ve(e.source).map(p=>rt(t.getData(p).output)),r.push(null)),u=0,c=n.length;u<c;++u)h=n[u],d=h.metadata,!i&&!d.source&&r.push(i=cf()),r.push(h),d.generates&&(s=!0),d.modifies&&!s&&(a=!0),d.source?i=h:d.changes&&(i=null);return o&&(c=o.length-1,r[0]=m2e({derive:a,pulse:c?o:o[0]}),(a||c)&&r.splice(1,0,cf())),i||r.push(cf()),r.push(S0({})),r}function cf(e){const t=Qs({},e);return t.metadata={source:!0},t}function EL(e,t){return l2e({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const OX=e=>e===xc||e===Zs,oE=(e,t,n)=>dr(e)?U_e(e.signal,t,n):e===sg||e===Zs?t:n,Ar=(e,t,n)=>dr(e)?B_e(e.signal,t,n):OX(e)?t:n,Ps=(e,t,n)=>dr(e)?P_e(e.signal,t,n):OX(e)?n:t,MX=(e,t,n)=>dr(e)?H_e(e.signal,t,n):e===Zs?{value:t}:{value:n},z_e=(e,t,n)=>dr(e)?j_e(e.signal,t,n):e===og?{value:t}:{value:n},B_e=(e,t,n)=>RX(`${e} === '${Zs}' || ${e} === '${xc}'`,t,n),P_e=(e,t,n)=>RX(`${e} !== '${Zs}' && ${e} !== '${xc}'`,t,n),U_e=(e,t,n)=>$D(`${e} === '${sg}' || ${e} === '${Zs}'`,t,n),H_e=(e,t,n)=>$D(`${e} === '${Zs}'`,t,n),j_e=(e,t,n)=>$D(`${e} === '${og}'`,t,n),RX=(e,t,n)=>(t=t!=null?wr(t):t,n=n!=null?wr(n):n,SL(t)&&SL(n)?(t=t?t.signal||ze(t.value):null,n=n?n.signal||ze(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[vt({test:e},t)].concat(n||[])),SL=e=>e==null||Object.keys(e).length===1,$D=(e,t,n)=>({signal:`${e} ? (${Gh(t)}) : (${Gh(n)})`}),q_e=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${sg}' ? (${Gh(r)}) : `:"")+(n!=null?`${e} === '${xc}' ? (${Gh(n)}) : `:"")+(i!=null?`${e} === '${og}' ? (${Gh(i)}) : `:"")+(t!=null?`${e} === '${Zs}' ? (${Gh(t)}) : `:"")+"(null)"}),Gh=e=>dr(e)?e.signal:e==null?null:ze(e),G_e=(e,t)=>t===0?0:dr(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Zh=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function Oh(e,t,n,r){let i;if(t&&We(t,e))return t[e];if(We(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[CD][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[Ym][i]}return null}function wL(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function V_e(e,t){var n=t.config,r=n.style,i=n.axis,a=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,o,u,c;if(dr(s)){const d=wL([n.axisX,n.axisY]),p=wL([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);o={};for(c of d)o[c]=Ar(s,Oh(c,n.axisX,i,r),Oh(c,n.axisY,i,r));u={};for(c of p)u[c]=q_e(s.signal,Oh(c,n.axisTop,i,r),Oh(c,n.axisBottom,i,r),Oh(c,n.axisLeft,i,r),Oh(c,n.axisRight,i,r))}else o=s===Zs||s===xc?n.axisX:n.axisY,u=n["axis"+s[0].toUpperCase()+s.slice(1)];return o||u||a?vt({},i,o,u,a):i}function X_e(e,t,n,r){const i=ua(e,t),a=e.orient;let s,o;const u={enter:s={opacity:Lt},update:o={opacity:as},exit:{opacity:Lt}};Gr(u,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=AL(e,0),h=AL(e,1);return s.x=o.x=Ar(a,c,Lt),s.x2=o.x2=Ar(a,h),s.y=o.y=Ps(a,c,Lt),s.y2=o.y2=Ps(a,h),Ra({type:DD,role:mve,from:r,encode:u},n)}function AL(e,t){return{scale:e.scale,range:t}}function W_e(e,t,n,r,i){const a=ua(e,t),s=e.orient,o=e.gridScale,u=oE(s,1,-1),c=Y_e(e.offset,u);let h,d,p;const m={enter:h={opacity:Lt},update:p={opacity:as},exit:d={opacity:Lt}};Gr(m,{stroke:a("gridColor"),strokeCap:a("gridCap"),strokeDash:a("gridDash"),strokeDashOffset:a("gridDashOffset"),strokeOpacity:a("gridOpacity"),strokeWidth:a("gridWidth")});const y={scale:e.scale,field:is,band:i.band,extra:i.extra,offset:i.offset,round:a("tickRound")},v=Ar(s,{signal:"height"},{signal:"width"}),_=o?{scale:o,range:0,mult:u,offset:c}:{value:0,offset:c},E=o?{scale:o,range:1,mult:u,offset:c}:vt(v,{mult:u,offset:c});return h.x=p.x=Ar(s,y,_),h.y=p.y=Ps(s,y,_),h.x2=p.x2=Ps(s,E),h.y2=p.y2=Ar(s,E),d.x=Ar(s,y),d.y=Ps(s,y),Ra({type:DD,role:xve,key:is,from:r,encode:m},n)}function Y_e(e,t){if(t!==1)if(!qe(e))e=dr(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=vt({},e);for(;n.mult!=null;)if(qe(n.mult))n=n.mult=vt({},n.mult);else return n.mult=dr(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function K_e(e,t,n,r,i,a){const s=ua(e,t),o=e.orient,u=oE(o,-1,1);let c,h,d;const p={enter:c={opacity:Lt},update:d={opacity:as},exit:h={opacity:Lt}};Gr(p,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const m=wr(i);m.mult=u;const y={scale:e.scale,field:is,band:a.band,extra:a.extra,offset:a.offset,round:s("tickRound")};return d.y=c.y=Ar(o,Lt,y),d.y2=c.y2=Ar(o,m),h.x=Ar(o,y),d.x=c.x=Ps(o,Lt,y),d.x2=c.x2=Ps(o,m),h.y=Ps(o,y),Ra({type:DD,role:vve,key:is,from:r,encode:p},n)}function wT(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function Q_e(e,t,n,r,i,a){const s=ua(e,t),o=e.orient,u=e.scale,c=oE(o,-1,1),h=If(s("labelFlush")),d=If(s("labelFlushOffset")),p=s("labelAlign"),m=s("labelBaseline");let y=h===0||!!h,v;const _=wr(i);_.mult=c,_.offset=wr(s("labelPadding")||0),_.offset.mult=c;const E={scale:u,field:is,band:.5,offset:TX(a.offset,s("labelOffset"))},w=Ar(o,y?wT(u,h,'"left"','"right"','"center"'):{value:"center"},z_e(o,"left","right")),A=Ar(o,MX(o,"bottom","top"),y?wT(u,h,'"top"','"bottom"','"middle"'):{value:"middle"}),k=wT(u,h,`-(${d})`,d,0);y=y&&d;const D={opacity:Lt,x:Ar(o,E,_),y:Ps(o,E,_)},O={enter:D,update:v={opacity:as,text:{field:kD},x:D.x,y:D.y,align:w,baseline:A},exit:{opacity:Lt,x:D.x,y:D.y}};Gr(O,{dx:!p&&y?Ar(o,k):null,dy:!m&&y?Ps(o,k):null}),Gr(O,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:p,baseline:m});const T=s("labelBound");let F=s("labelOverlap");return F=F||T?{separation:s("labelSeparation"),method:F,order:"datum.index",bound:T?{scale:u,orient:o,tolerance:T}:null}:void 0,v.align!==w&&(v.align=Zh(v.align,w)),v.baseline!==A&&(v.baseline=Zh(v.baseline,A)),Ra({type:w0,role:yve,style:Ym,key:is,from:r,encode:O,overlap:F},n)}function Z_e(e,t,n,r){const i=ua(e,t),a=e.orient,s=oE(a,-1,1);let o,u;const c={enter:o={opacity:Lt,anchor:wr(i("titleAnchor",null)),align:{signal:OD}},update:u=vt({},o,{opacity:as,text:wr(e.title)}),exit:{opacity:Lt}},h={signal:`lerp(range("${e.scale}"), ${iE(0,1,.5)})`};return u.x=Ar(a,h),u.y=Ps(a,h),o.angle=Ar(a,Lt,G_e(s,90)),o.baseline=Ar(a,MX(a,xc,Zs),{value:xc}),u.angle=o.angle,u.baseline=o.baseline,Gr(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),J_e(i,a,c,n),c.update.align=Zh(c.update.align,o.align),c.update.angle=Zh(c.update.angle,o.angle),c.update.baseline=Zh(c.update.baseline,o.baseline),Ra({type:w0,role:_ve,style:CD,from:r,encode:c},n)}function J_e(e,t,n,r){const i=(o,u)=>o!=null?(n.update[u]=Zh(wr(o),n.update[u]),!1):!Ih(u,r),a=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===a?wr(s):Ar(t,wr(s),wr(a))}function ebe(e,t){const n=V_e(e,t),r=e.encode||{},i=r.axis||{},a=i.name||void 0,s=i.interactive,o=i.style,u=ua(e,n),c=K2e(u),h={scale:e.scale,ticks:!!u("ticks"),labels:!!u("labels"),grid:!!u("grid"),domain:!!u("domain"),title:e.title!=null},d=rt(t.add(Qs({},[h]))),p=rt(t.add(t2e({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),m=[];let y;return h.grid&&m.push(W_e(e,n,r.grid,p,c)),h.ticks&&(y=u("tickSize"),m.push(K_e(e,n,r.ticks,p,y,c))),h.labels&&(y=h.ticks?y:0,m.push(Q_e(e,n,r.labels,p,y,c))),h.domain&&m.push(X_e(e,n,r.domain,d)),h.title&&m.push(Z_e(e,n,r.title,d)),sE(nm({role:pve,from:d,encode:ag(tbe(u,e),i,Km),marks:m,aria:u("aria"),description:u("description"),zindex:u("zindex"),name:a,interactive:s,style:o}),t)}function tbe(e,t){const n={enter:{},update:{}};return Gr(n,{orient:e("orient"),offset:e("offset")||0,position:Cs(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function NX(e,t,n){const r=Ve(e.signals),i=Ve(e.scales);return n||r.forEach(a=>hX(a,t)),Ve(e.projections).forEach(a=>R2e(a,t)),i.forEach(a=>b2e(a,t)),Ve(e.data).forEach(a=>L_e(a,t)),i.forEach(a=>E2e(a,t)),(n||r).forEach(a=>e2e(a,t)),Ve(e.axes).forEach(a=>ebe(a,t)),Ve(e.marks).forEach(a=>sE(a,t)),Ve(e.legends).forEach(a=>w_e(a,t)),e.title&&O_e(e.title,t),t.parseLambdas(),t}const nbe=e=>ag({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function rbe(e,t){const n=t.config,r=rt(t.root=t.add(x_())),i=ibe(e,n);i.forEach(c=>hX(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const a=t.add(Qs()),s=t.add(pX(fX(nbe(e.encode),rE,SD,e.style,t,{pulse:rt(a)}))),o=t.add(yX({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:rt(s)}));t.operators.pop(),t.pushState(rt(s),rt(o),null),NX(e,t,i),t.operators.push(o);let u=t.add(gX({mark:r,pulse:rt(o)}));return u=t.add(xX({pulse:rt(u)})),u=t.add(S0({pulse:rt(u)})),t.addData("root",new n0(t,a,a,u)),t}function O1(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function ibe(e,t){const n=s=>Cs(e[s],t[s]),r=[O1("background",n("background")),O1("autosize",hve(n("autosize"))),O1("padding",gve(n("padding"))),O1("width",n("width")||0),O1("height",n("height")||0)],i=r.reduce((s,o)=>(s[o.name]=o,s),{}),a={};return Ve(e.signals).forEach(s=>{We(i,s.name)?s=vt(i[s.name],s):r.push(s),a[s.name]=s}),Ve(t.signals).forEach(s=>{!We(a,s.name)&&!We(i,s.name)&&r.push(s)}),r}function $X(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function TL(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}$X.prototype=TL.prototype={parse(e){return NX(e,this)},fork(){return new TL(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof X3?rt(e):e;return this.add(p2e({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,a){let s,o;r&&(s=r.data||(r.data={}),o=s[i]||(s[i]=[]),o.push(a))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(rt(this.add(S0({pulse:e})))),this._parent.push(t),this._lookup.push(n?rt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return Nt(this._parent)},encode(){return Nt(this._encode)},lookup(){return Nt(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(Ge(e))return em(e,t);e.signal||be("Unsupported field reference: "+ze(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=rt(this.add(a2e(i)))}return r},compareRef(e){let t=!1;const n=a=>dr(a)?(t=!0,this.signalRef(a.signal)):qve(a)?(t=!0,this.exprRef(a.expr)):a,r=Ve(e.field).map(n),i=Ve(e.order).map(n);return t?rt(this.add(hL({fields:r,orders:i}))):cL(r,i)},keyRef(e,t){let n=!1;const r=a=>dr(a)?(n=!0,rt(i[a.signal])):a,i=this.signals;return e=Ve(e).map(r),n?rt(this.add(s2e({fields:e,flat:t}))):Pve(e,t)},sortRef(e){if(!e)return e;const t=tE(e.op,e.field),n=e.order||Uve;return n.signal?rt(this.add(hL({fields:t,orders:this.signalRef(n.signal)}))):cL(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return We(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&be("Duplicate signal name: "+ze(e));const n=t instanceof X3?t:this.add(x_(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||be("Unrecognized signal name: "+ze(e)),this.signals[e]},signalRef(e){return this.signals[e]?rt(this.signals[e]):(We(this.lambdas,e)||(this.lambdas[e]=this.add(x_(null))),rt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=$o(r,this),a=this.lambdas[r];a.params=i.$params,a.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!qe(e)?e:this.signalRef(e.signal||LD(e))},exprRef(e,t){const n={expr:$o(e,this)};return t&&(n.expr.$name=t),rt(this.add(r2e(n)))},addBinding(e,t){this.bindings||be("Nested signals do not support binding: "+ze(e)),this.bindings.push(vt({signal:e},t))},addScaleProj(e,t){We(this.scales,e)&&be("Duplicate scale or projection name: "+ze(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,x2e(t))},addProjection(e,t){this.addScaleProj(e,g2e(t))},getScale(e){return this.scales[e]||be("Unrecognized scale name: "+ze(e)),this.scales[e]},scaleRef(e){return rt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return We(this.data,e)&&be("Duplicate data set name: "+ze(e)),this.data[e]=t},getData(e){return this.data[e]||be("Undefined data set name: "+ze(e)),this.data[e]},addDataPipeline(e,t){return We(this.data,e)&&be("Duplicate data set name: "+ze(e)),this.addData(e,n0.fromEntries(this,t))}};function LD(e){return(Ae(e)?abe:sbe)(e)}function abe(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(qe(i)?i.signal||LD(i):ze(i))}return n+"]"}function sbe(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+ze(r)+":"+(qe(i)?i.signal||LD(i):ze(i));return t+"}"}function obe(){const e="sans-serif",r="#4c78a8",i="#000",a="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:a,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:a,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:a,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function lbe(e,t,n){return qe(e)||be("Input Vega specification must be an object."),t=Gd(obe(),t,e.config),rbe(e,new $X(t,n)).toRuntime()}var ube="6.2.0";vt(hd,Qae,Cfe,s0e,Ghe,Bde,h1e,Gge,g1e,z1e,W1e,tpe);const cbe=ube,fbe=Object.freeze(Object.defineProperty({__proto__:null,Bounds:ar,CanvasHandler:Pm,CanvasRenderer:O2,DATE:ra,DAY:ri,DAYOFYEAR:Ro,Dataflow:Wh,Debug:OB,DisallowedObjectProperties:X4,Error:W4,EventStream:ob,Gradient:wj,GroupItem:Db,HOURS:Da,Handler:a6,HybridHandler:gq,HybridRenderer:t3,Info:DB,Item:Fb,MILLISECONDS:qs,MINUTES:Oa,MONTH:ui,Marks:Ma,MultiPulse:vC,None:FB,Operator:hn,Parameters:sb,Pulse:rc,QUARTER:na,RenderType:Xu,Renderer:Bm,ResourceLoader:Dj,SECONDS:ls,SVGHandler:tq,SVGRenderer:f6,SVGStringRenderer:dq,Scenegraph:Xj,TIME_UNITS:uC,Transform:ye,View:JV,WEEK:cr,Warn:Y4,YEAR:Hr,accessor:la,accessorFields:li,accessorName:Un,array:Ve,ascending:Xd,bandwidthNRD:SC,bin:fU,bootstrapCI:hU,boundClip:wq,boundContext:$m,boundItem:Kk,boundMark:jj,boundStroke:Zl,changeset:v0,clampRange:HB,codegenExpression:TV,compare:J4,constant:gi,cumulativeLogNormal:FC,cumulativeNormal:ub,cumulativeUniform:RC,dayofyear:yP,debounce:eC,defaultLocale:gC,definition:lU,densityLogNormal:CC,densityNormal:wC,densityUniform:MC,domChild:ur,domClear:Za,domCreate:Gu,domFind:i6,dotbin:dU,error:be,expressionFunction:Yn,extend:vt,extent:Do,extentIndex:jB,falsy:Nu,fastmap:Wd,field:ss,flush:qB,font:$b,fontFamily:zm,fontSize:jo,format:Fv,formatLocale:u2,formats:xC,hasOwnProperty:We,id:_m,identity:di,inferType:QP,inferTypes:ZP,ingest:Wt,inherits:Be,inrange:Ph,interpolate:$F,interpolateColors:kb,interpolateRange:cj,intersect:_q,intersectBoxLine:Uh,intersectPath:jF,intersectPoint:qF,intersectRule:Mj,isArray:Ae,isBoolean:Ac,isDate:tc,isFunction:_t,isIterable:GB,isNumber:jt,isObject:qe,isRegExp:tC,isString:Ge,isTuple:ib,key:nC,lerp:VB,lineHeight:gc,loader:nb,locale:YP,logger:X_,lruCache:XB,markup:c6,merge:WB,mergeConfig:Gd,multiLineOffset:t6,one:qd,pad:YB,panLinear:LB,panLog:IB,panPow:zB,panSymlog:BB,parse:lbe,parseExpression:cD,parseSelector:Oc,path:gb,pathCurves:PF,pathEqual:Aq,pathParse:yd,pathRectangle:kj,pathRender:Hp,pathSymbols:Tj,pathTrail:Cj,peek:Nt,point:Ib,projection:D6,quantileLogNormal:DC,quantileNormal:cb,quantileUniform:NC,quantiles:bC,quantizeInterpolator:fj,quarter:PB,quartiles:EC,get random(){return us},randomInteger:tae,randomKDE:TC,randomLCG:eae,randomLogNormal:pU,randomMixture:mU,randomNormal:AC,randomUniform:xU,read:tU,regressionConstant:$C,regressionExp:vU,regressionLinear:LC,regressionLoess:EU,regressionLog:yU,regressionPoly:bU,regressionPow:_U,regressionQuad:IC,renderModule:zb,repeat:z1,resetDefaultLocale:Zre,resetSVGDefIds:Vce,responseType:eU,runtimeContext:PV,sampleCurve:hb,sampleLogNormal:kC,sampleNormal:lb,sampleUniform:OC,scale:Gt,sceneEqual:h6,sceneFromJSON:Gj,scenePickVisit:S2,sceneToJSON:qj,sceneVisit:Gs,sceneZOrder:GF,scheme:LF,serializeXML:uq,setHybridRendererOptions:Hce,setRandom:Zie,span:bm,splitAccessPath:Po,stringValue:ze,textMetrics:Ta,timeBin:$P,timeFloor:AP,timeFormatLocale:Lp,timeInterval:Zd,timeOffset:CP,timeSequence:OP,timeUnitSpecifier:xP,timeUnits:cC,toBoolean:rC,toDate:iC,toNumber:ai,toSet:js,toString:aC,transform:uU,transforms:hd,truncate:KB,truthy:os,tupleid:it,typeParsers:Mk,utcFloor:TP,utcInterval:Jd,utcOffset:FP,utcSequence:MP,utcdayofyear:bP,utcquarter:UB,utcweek:EP,version:cbe,visitArray:Iu,week:vP,writeConfig:Vd,zero:Hu,zoomLinear:K4,zoomLog:Q4,zoomPow:r2,zoomSymlog:Z4},Symbol.toStringTag,{value:"Module"}));function hbe(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var dbe={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},gbe={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},pbe={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const mbe=Array.prototype.slice,ff=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,mbe.call(t,1))},xbe=(e,t=0,n=1,r=0,i=0,a=0,s=0)=>Ge(e)?new Date(e):new Date(e,t,n,r,i,a,s);var ybe={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:xbe,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return ff("join",arguments)},indexof:function(){return ff("indexOf",arguments)},lastindexof:function(){return ff("lastIndexOf",arguments)},slice:function(){return ff("slice",arguments)},reverse:e=>e.slice().reverse(),sort:e=>e.slice().sort(Xd),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return ff("substring",arguments,String)},split:function(){return ff("split",arguments,String)},replace:function(){return ff("replace",arguments,String)},trim:e=>String(e).trim(),btoa:e=>btoa(e),atob:e=>atob(e),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const vbe=["view","item","group","xy","x","y"],e4=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&e4.add(setImmediate);const _be={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:dbe[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),e4.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||ybe[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>gbe[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>pbe[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);e.memberDepth-=1;const a=e(r.value);return X4.has(i)?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):e4.has(a)?console.error(`Prevented interpretation of method "${i}" which could lead to insecure code execution`):n[i]=a,n},{})};function M1(e,t,n,r,i,a){const s=o=>_be[o.type](s,o);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=a,vbe.forEach(o=>s.fn[o]=(...u)=>i.vega[o](...u)),s(e)}var bbe={operator(e,t){const n=t.ast,r=e.functions;return i=>M1(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,a)=>M1(n,r,a,i)},event(e,t){const n=t.ast,r=e.functions;return i=>M1(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,a)=>{const s=a.item&&a.item.datum;return M1(n,r,i,s,a)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,a=n==="group"||n==="image"||n==="rect";return(s,o)=>{const u=s.datum;let c=0,h;for(const d in r)h=M1(r[d].ast,i,o,u,void 0,s),s[d]!==h&&(s[d]=h,c=1);return n!=="rule"&&hbe(s,r,a),c}}},Ebe="6.4.1",Sbe={version:Ebe};function ID(e){return Oe(e,"or")}function zD(e){return Oe(e,"and")}function BD(e){return Oe(e,"not")}function Jv(e,t){if(BD(e))Jv(e.not,t);else if(zD(e))for(const n of e.and)Jv(n,t);else if(ID(e))for(const n of e.or)Jv(n,t);else t(e)}function Jh(e,t){return BD(e)?{not:Jh(e.not,t)}:zD(e)?{and:e.and.map(n=>Jh(n,t))}:ID(e)?{or:e.or.map(n=>Jh(n,t))}:t(e)}const ft=structuredClone;function LX(e){throw new Error(e)}function kd(e,t){const n={};for(const r of t)We(e,r)&&(n[r]=e[r]);return n}function Ca(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>en(e)).join(",")})`};function Dt(e){if(jt(e))return e;const t=Ge(e)?e:en(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function t4(e){return e===!1||e===null}function At(e,t){return e.includes(t)}function Cd(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function PD(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function IX(e,...t){for(const n of t)wbe(e,n??{});return e}function wbe(e,t){for(const n of De(t))Vd(e,n,t[n],!0)}function Eo(e,t){const n=[],r={};let i;for(const a of e)i=t(a),!(i in r)&&(r[i]=1,n.push(a));return n}function Abe(e,t){const n=De(e),r=De(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function zX(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function UD(e,t){for(const n of e)if(t.has(n))return!0;return!1}function n4(e){const t=new Set;for(const n of e){const i=Po(n).map((s,o)=>o===0?s:`[${s}]`),a=i.map((s,o)=>i.slice(0,o+1).join(""));for(const s of a)t.add(s)}return t}function HD(e,t){return e===void 0||t===void 0?!0:UD(n4(e),n4(t))}function dn(e){return De(e).length===0}const De=Object.keys,ir=Object.values,yc=Object.entries;function rm(e){return e===!0||e===!1}function Cn(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Ep(e,t){return BD(e)?`!(${Ep(e.not,t)})`:zD(e)?`(${e.and.map(n=>Ep(n,t)).join(") && (")})`:ID(e)?`(${e.or.map(n=>Ep(n,t)).join(") || (")})`:t(e)}function y_(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&y_(e[n],t)&&delete e[n],dn(e)}function Qm(e){return e.charAt(0).toUpperCase()+e.substr(1)}function jD(e,t="datum"){const n=Po(e),r=[];for(let i=1;i<=n.length;i++){const a=`[${n.slice(0,i).map(ze).join("][")}]`;r.push(`${t}${a}`)}return r.join(" && ")}function BX(e,t="datum"){return`${t}[${ze(Po(e).join("."))}]`}function rn(e){return`datum['${e.replaceAll("'","\\'")}']`}function PX(e){return e.replaceAll("\\'","'").replaceAll("\\.",".")}function Tbe(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function fs(e){return`${Po(e).map(Tbe).join("\\.")}`}function r0(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function lg(e){return`${Po(e).join(".")}`}function Fd(e){return e?Po(e).length:0}function Xn(...e){return e.find(t=>t!==void 0)}let UX=42;function HX(e){const t=++UX;return e?String(e)+t:t}function kbe(){UX=42}function jX(e){return qX(e)?e:`__${e}`}function qX(e){return e.startsWith("__")}function im(e){if(e!==void 0)return(e%360+360)%360}function lE(e){return jt(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const kL=Object.getPrototypeOf(structuredClone({}));function wa(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!wa(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;for(const a of e.entries())if(!wa(a[1],t.get(a[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const a of e.entries())if(!t.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==kL.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==kL.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const a=i[r];if(!wa(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function en(e){const t=[];return(function n(r){if(r?.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?`${r}`:"null";if(typeof r!="object")return JSON.stringify(r);let i,a;if(Array.isArray(r)){for(a="[",i=0;i<r.length;i++)i&&(a+=","),a+=n(r[i])||"null";return`${a}]`}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,o=Object.keys(r).sort();for(a="",i=0;i<o.length;i++){const u=o[i],c=n(r[u]);c&&(a&&(a+=","),a+=`${JSON.stringify(u)}:${c}`)}return t.splice(s,1),`{${a}}`})(e)}function Oe(e,t){return qe(e)&&We(e,t)&&e[t]!==void 0}const zl="row",Bl="column",uE="facet",Fn="x",Dr="y",Js="x2",Xo="y2",Mc="xOffset",ug="yOffset",eo="radius",eu="radius2",ps="theta",tu="theta2",to="latitude",no="longitude",ro="latitude2",hs="longitude2",Rc="time",aa="color",Wo="fill",Yo="stroke",sa="shape",nu="size",A0="angle",ru="opacity",Nc="fillOpacity",$c="strokeOpacity",Lc="strokeWidth",Ic="strokeDash",Zm="text",Dd="order",Jm="detail",cE="key",i0="tooltip",fE="href",hE="url",dE="description",Cbe={x:1,y:1,x2:1,y2:1},GX={theta:1,theta2:1,radius:1,radius2:1};function VX(e){return We(GX,e)}const qD={longitude:1,longitude2:1,latitude:1,latitude2:1};function XX(e){switch(e){case to:return"y";case ro:return"y2";case no:return"x";case hs:return"x2"}}function WX(e){return We(qD,e)}const Fbe=De(qD),GD={...Cbe,...GX,...qD,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,time:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function ed(e){return e===aa||e===Wo||e===Yo}const YX={row:1,column:1,facet:1},rs=De(YX),VD={...GD,...YX},Dbe=De(VD),{order:e7e,detail:t7e,tooltip:n7e,...Obe}=VD,{row:r7e,column:i7e,facet:a7e,...Mbe}=Obe;function Rbe(e){return We(Mbe,e)}function KX(e){return We(VD,e)}const Nbe=[Js,Xo,ro,hs,tu,eu];function QX(e){return T0(e)!==e}function T0(e){switch(e){case Js:return Fn;case Xo:return Dr;case ro:return to;case hs:return no;case tu:return ps;case eu:return eo}return e}function vc(e){if(VX(e))switch(e){case ps:return"startAngle";case tu:return"endAngle";case eo:return"outerRadius";case eu:return"innerRadius"}return e}function Ko(e){switch(e){case Fn:return Js;case Dr:return Xo;case to:return ro;case no:return hs;case ps:return tu;case eo:return eu}}function oa(e){switch(e){case Fn:case Js:return"width";case Dr:case Xo:return"height"}}function ZX(e){switch(e){case Fn:return"xOffset";case Dr:return"yOffset";case Js:return"x2Offset";case Xo:return"y2Offset";case ps:return"thetaOffset";case eo:return"radiusOffset";case tu:return"theta2Offset";case eu:return"radius2Offset"}}function XD(e){switch(e){case Fn:return"xOffset";case Dr:return"yOffset"}}function $be(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const Lbe=De(GD),{x:s7e,y:o7e,x2:l7e,y2:u7e,xOffset:c7e,yOffset:f7e,latitude:h7e,longitude:d7e,latitude2:g7e,longitude2:p7e,theta:m7e,theta2:x7e,radius:y7e,radius2:v7e,...WD}=GD,Ibe=De(WD),YD={x:1,y:1},iu=De(YD);function Wn(e){return We(YD,e)}const KD={theta:1,radius:1},zbe=De(KD);function gE(e){return e==="width"?Fn:Dr}const JX={xOffset:1,yOffset:1};function ex(e){return We(JX,e)}const Bbe={time:1};function AT(e){return e in Bbe}const{text:_7e,tooltip:b7e,href:E7e,url:S7e,description:w7e,detail:A7e,key:T7e,order:k7e,...eW}=WD,Pbe=De(eW);function Ube(e){return We(WD,e)}function Hbe(e){switch(e){case aa:case Wo:case Yo:case nu:case sa:case ru:case Lc:case Ic:return!0;case Nc:case $c:case A0:case Rc:return!1}}const tW={...YD,...KD,...JX,...eW},QD=De(tW);function Qo(e){return We(tW,e)}function jbe(e,t){return Gbe(e)[t]}const nW={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:C7e,...qbe}=nW;function Gbe(e){switch(e){case aa:case Wo:case Yo:case dE:case Jm:case cE:case i0:case fE:case Dd:case ru:case Nc:case $c:case Lc:case uE:case zl:case Bl:return nW;case Fn:case Dr:case Mc:case ug:case to:case no:case Rc:return qbe;case Js:case Xo:case ro:case hs:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case nu:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case Ic:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case sa:return{point:"always",geoshape:"always"};case Zm:return{text:"always"};case A0:return{point:"always",square:"always",text:"always"};case hE:return{image:"always"};case ps:return{text:"always",arc:"always"};case eo:return{text:"always",arc:"always"};case tu:case eu:return{arc:"always"}}}function TT(e){switch(e){case Fn:case Dr:case ps:case eo:case Mc:case ug:case nu:case A0:case Lc:case ru:case Nc:case $c:case Rc:case Js:case Xo:case tu:case eu:return;case uE:case zl:case Bl:case sa:case Ic:case Zm:case i0:case fE:case hE:case dE:return"discrete";case aa:case Wo:case Yo:return"flexible";case to:case no:case ro:case hs:case Jm:case cE:case Dd:return}}const Vbe={argmax:1,argmin:1,average:1,count:1,distinct:1,exponential:1,exponentialb:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},Xbe={count:1,min:1,max:1};function Wl(e){return Oe(e,"argmin")}function zc(e){return Oe(e,"argmax")}function ZD(e){return Ge(e)&&We(Vbe,e)}const Wbe=new Set(["count","valid","missing","distinct"]);function pE(e){return Ge(e)&&Wbe.has(e)}function Ybe(e){return Ge(e)&&At(["min","max"],e)}const Kbe=new Set(["count","sum","distinct","valid","missing"]),Qbe=new Set(["mean","average","median","q1","q3","min","max"]);function rW(e){return Ac(e)&&(e=kE(e,void 0)),`bin${De(e).map(t=>mE(e[t])?Cn(`_${t}_${yc(e[t])}`):Cn(`_${t}_${e[t]}`)).join("")}`}function xn(e){return e===!0||k0(e)&&!e.binned}function $r(e){return e==="binned"||k0(e)&&e.binned===!0}function k0(e){return qe(e)}function mE(e){return Oe(e,"param")}function CL(e){switch(e){case zl:case Bl:case nu:case aa:case Wo:case Yo:case Lc:case ru:case Nc:case $c:case sa:return 6;case Ic:return 4;default:return 10}}function tx(e){return Oe(e,"expr")}function Lr(e,{level:t}={level:0}){const n=De(e||{}),r={};for(const i of n)r[i]=t===0?ba(e[i]):Lr(e[i],{level:t-1});return r}function iW(e){const{anchor:t,frame:n,offset:r,orient:i,angle:a,limit:s,color:o,subtitleColor:u,subtitleFont:c,subtitleFontSize:h,subtitleFontStyle:d,subtitleFontWeight:p,subtitleLineHeight:m,subtitlePadding:y,...v}=e,_={...v,...o?{fill:o}:{}},E={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...a!==void 0?{angle:a}:{},...s!==void 0?{limit:s}:{}},w={...u?{subtitleColor:u}:{},...c?{subtitleFont:c}:{},...h?{subtitleFontSize:h}:{},...d?{subtitleFontStyle:d}:{},...p?{subtitleFontWeight:p}:{},...m?{subtitleLineHeight:m}:{},...y?{subtitlePadding:y}:{}},A=kd(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:_,subtitleMarkConfig:A,nonMarkTitleProperties:E,subtitle:w}}function Uu(e){return Ge(e)||Ae(e)&&Ge(e[0])}function et(e){return Oe(e,"signal")}function C0(e){return Oe(e,"step")}function Zbe(e){return Ae(e)?!1:Oe(e,"fields")&&!Oe(e,"data")}function Jbe(e){return Ae(e)?!1:Oe(e,"fields")&&Oe(e,"data")}function Rl(e){return Ae(e)?!1:Oe(e,"field")&&Oe(e,"data")}const eEe={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},tEe=De(eEe),nEe={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},r4=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"],rEe="  ";function aW(e){const t=Ae(e.condition)?e.condition.map(FL):FL(e.condition);return{...ba(e),condition:t}}function ba(e){if(tx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function FL(e){if(tx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function En(e){if(tx(e)){const{expr:t,...n}=e;return{signal:t,...n}}return et(e)?e:e!==void 0?{value:e}:void 0}function iEe(e){return et(e)?e.signal:ze(e)}function DL(e){return et(e)?e.signal:ze(e.value)}function Ls(e){return et(e)?e.signal:e==null?null:ze(e)}function aEe(e,t,n){for(const r of n){const i=Lo(r,t.markDef,t.config);i!==void 0&&(e[r]=En(i))}return e}function sW(e){return[].concat(e.type,e.style??[])}function Jt(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:a}=r;return i&&Oe(t,i)?t[i]:t[e]!==void 0?t[e]:a&&(!i||i===e)?void 0:Lo(e,t,n,r)}function Lo(e,t,n,{vgChannel:r}={}){const i=i4(e,t,n.style);return Xn(r?i:void 0,i,r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function i4(e,t,n){return oW(e,sW(t),n)}function oW(e,t,n){t=Ve(t);let r;for(const i of t){const a=n[i];Oe(a,e)&&(r=a[e])}return r}function lW(e,t){return Ve(e).reduce((n,r)=>(n.field.push(Ue(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function uW(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if(wa(i,r))return;n.push(r)}),n}function cW(e,t){return wa(e,t)||!t?e:e?[...Ve(e),...Ve(t)].join(", "):t}function fW(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if((Uu(n)||et(n))&&(Uu(r)||et(r)))return{explicit:e.explicit,value:cW(n,r)};if(Uu(n)||et(n))return{explicit:e.explicit,value:n};if(Uu(r)||et(r))return{explicit:e.explicit,value:r};if(!Uu(n)&&!et(n)&&!Uu(r)&&!et(r))return{explicit:e.explicit,value:uW(n,r)};throw new Error("It should never reach here")}function JD(e){return`Invalid specification ${en(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const sEe='Autosize "fit" only works for single views and layered views.';function OL(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function ML(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function RL(e){return e?`Dropping "fit-${e}" because spec has discrete ${oa(e)}.`:'Dropping "fit" because spec has discrete size.'}function e5(e){return`Unknown field for ${e}. Cannot calculate view size.`}function NL(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function oEe(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function lEe(e){return`The "nearest" transform is not supported for ${e} marks.`}function hW(e){return`Selection not supported for ${e} yet.`}function uEe(e){return`Cannot find a selection named "${e}".`}const cEe="Scale bindings are currently only supported for scales with unbinned, continuous domains.",fEe="Sequntial scales are deprecated. The available quantitative scale type values are linear, log, pow, sqrt, symlog, time and utc",hEe="Legend bindings are only supported for selections over an individual field or encoding channel.";function dEe(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function gEe(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const pEe="The same selection must be used to override scale domains in a layered view.",mEe='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function xEe(e){return`Unknown repeated value "${e}".`}function $L(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const yEe="Multiple timer selections in one unit spec are not supported. Ignoring all but the first.",t5="Animation involving facet, layer, or concat is currently unsupported.";function vEe(e){return`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${ze(e)}.`}function _Ee(e,t,n,r){return`${e.length?"Multiple ":"No "}matching ${ze(t)} encoding found for selection ${ze(n.param)}. Using "field": ${ze(r)}.`}const bEe="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function EEe(e){return`Unrecognized parse "${e}".`}function LL(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const SEe="Attempt to add the same child twice.";function wEe(e){return`Ignoring an invalid transform: ${en(e)}.`}const AEe='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function IL(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function TEe(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${en(t)} is overridden by a child projection ${en(n)}.`}const kEe="Arc marks uses theta channel rather than angle, replacing angle with theta.";function CEe(e){return`${e}Offset dropped because ${e} is continuous`}function FEe(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${en(n)}}.`}function dW(e){return`Invalid field type "${e}".`}function DEe(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function OEe(e){return`Invalid aggregation operator "${e}".`}function gW(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function MEe(e){return`Position range does not support relative band size for ${e}.`}function a4(e,t){return`Dropping ${en(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const REe="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function xE(e,t,n){return`${e} dropped as it is incompatible with "${t}".`}function NEe(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function $Ee(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function LEe(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function IEe(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function kT(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function zEe(e){return`The ${e} for range marks cannot be an expression`}function BEe(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function PEe(e,t){return`Specified orient "${e}" overridden with "${t}".`}function UEe(e){return`Cannot use the scale property "${e}" with non-color channel.`}function HEe(e){return`Cannot use the relative band size with ${e} scale.`}function jEe(e){return`Using unaggregated domain with raw field has no effect (${en(e)}).`}function qEe(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function GEe(e){return`Unaggregated domain is currently unsupported for log scale (${en(e)}).`}function VEe(e){return`Cannot apply size to non-oriented mark "${e}".`}function XEe(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function WEe(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function pW(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function mW(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function YEe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${en(n)} and ${en(r)}). Using ${en(n)}.`}function KEe(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${en(n)} and ${en(r)}). Using the union of the two domains.`}function QEe(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function ZEe(e){return`Dropping sort property ${en(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const zL="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",JEe="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",eSe="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",tSe="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function nSe(e){return`Cannot stack "${e}" if there is already "${e}2".`}function rSe(e){return`Stack is applied to a non-linear scale (${e}).`}function iSe(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function v_(e,t){return`Invalid ${e}: ${en(t)}.`}function aSe(e){return`Dropping day from datetime ${en(e)} as day cannot be combined with other units.`}function sSe(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function oSe(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function lSe(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function BL(e){return`1D error band does not support ${e}.`}function xW(e){return`Channel ${e} is required for "binned" bin.`}function uSe(e){return`Channel ${e} should not be used with "binned" bin.`}function cSe(e){return`Domain for ${e} is required for threshold scale.`}const yW=X_(Y4);let a0=yW;function fSe(e){return a0=e,a0}function hSe(){return a0=yW,a0}function n5(...e){a0.error(...e)}function $e(...e){a0.warn(...e)}function dSe(...e){a0.debug(...e)}function F0(e){if(e&&qe(e)){for(const t of i5)if(Oe(e,t))return!0}return!1}const vW=["january","february","march","april","may","june","july","august","september","october","november","december"],gSe=vW.map(e=>e.substr(0,3)),_W=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],pSe=_W.map(e=>e.substr(0,3));function mSe(e){if(lE(e)&&(e=+e),jt(e))return e>4&&$e(v_("quarter",e)),e-1;throw new Error(v_("quarter",e))}function xSe(e){if(lE(e)&&(e=+e),jt(e))return e-1;{const t=e.toLowerCase(),n=vW.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=gSe.indexOf(r);if(i!==-1)return i;throw new Error(v_("month",e))}}function ySe(e){if(lE(e)&&(e=+e),jt(e))return e%7;{const t=e.toLowerCase(),n=_W.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=pSe.indexOf(r);if(i!==-1)return i;throw new Error(v_("day",e))}}function r5(e,t){const n=[];if(t&&e.day!==void 0&&De(e).length>1&&($e(aSe(e)),e=ft(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?xSe(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?mSe(e.quarter):e.quarter;n.push(jt(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?ySe(e.day):e.day;n.push(jt(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function s0(e){const n=r5(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function vSe(e){const n=r5(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function _Se(e){const t=r5(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const bW={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},i5=De(bW);function bSe(e){return We(bW,e)}function D0(e){return qe(e)?e.binned:EW(e)}function EW(e){return e?.startsWith("binned")}function a5(e){return e.startsWith("utc")}function ESe(e){return e.substring(3)}const SSe={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function yE(e){return i5.filter(t=>wW(e,t))}function SW(e){const t=yE(e);return t[t.length-1]}function wW(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function wSe(e,t,{end:n}={end:!1}){const r=jD(t),i=a5(e)?"utc":"";function a(u){return u==="quarter"?`(${i}quarter(${r})-1)`:`${i}${u}(${r})`}let s;const o={};for(const u of i5)wW(e,u)&&(o[u]=a(u),s=u);return n&&(o[s]+="+1"),vSe(o)}function AW(e){if(!e)return;const t=yE(e);return`timeUnitSpecifier(${en(t)}, ${en(SSe)})`}function ASe(e,t,n){if(!e)return;const r=AW(e);return`${n||a5(e)?"utc":"time"}Format(${t}, ${r})`}function Tr(e){if(!e)return;let t;return Ge(e)?EW(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:qe(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),a5(t.unit)&&(t.utc=!0,t.unit=ESe(t.unit)),t}function TSe(e){const{utc:t,...n}=Tr(e);return n.unit?(t?"utc":"")+De(n).map(r=>Cn(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):`${t?"utc":""}timeunit${De(n).map(r=>Cn(`_${r}_${n[r]}`)).join("")}`}function TW(e,t=n=>n){const n=Tr(e),r=SW(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:a,part:s}=kW(r,n.step),o={...i,[s]:+i[s]+a};return`${t(s0(o))} - ${t(s0(i))}`}}const kSe={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function CSe(e){return We(kSe,e)}function kW(e,t=1){if(CSe(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function FSe(e){return Oe(e,"param")}function s5(e){return!!e?.field&&e.equal!==void 0}function o5(e){return!!e?.field&&e.lt!==void 0}function l5(e){return!!e?.field&&e.lte!==void 0}function u5(e){return!!e?.field&&e.gt!==void 0}function c5(e){return!!e?.field&&e.gte!==void 0}function f5(e){if(e?.field){if(Ae(e.range)&&e.range.length===2)return!0;if(et(e.range))return!0}return!1}function h5(e){return!!e?.field&&(Ae(e.oneOf)||Ae(e.in))}function DSe(e){return!!e?.field&&e.valid!==void 0}function CW(e){return h5(e)||s5(e)||f5(e)||o5(e)||u5(e)||l5(e)||c5(e)}function ho(e,t){return CE(e,{timeUnit:t,wrapTime:!0})}function OSe(e,t){return e.map(n=>ho(n,t))}function FW(e,t=!0){const{field:n}=e,r=Tr(e.timeUnit),{unit:i,binned:a}=r||{},s=Ue(e,{expr:"datum"}),o=i?`time(${a?s:wSe(i,n)})`:s;if(s5(e))return`${o}===${ho(e.equal,i)}`;if(o5(e)){const u=e.lt;return`${o}<${ho(u,i)}`}else if(u5(e)){const u=e.gt;return`${o}>${ho(u,i)}`}else if(l5(e)){const u=e.lte;return`${o}<=${ho(u,i)}`}else if(c5(e)){const u=e.gte;return`${o}>=${ho(u,i)}`}else{if(h5(e))return`indexof([${OSe(e.oneOf,i).join(",")}], ${o}) !== -1`;if(DSe(e))return vE(o,e.valid);if(f5(e)){const{range:u}=Lr(e),c=et(u)?{signal:`${u.signal}[0]`}:u[0],h=et(u)?{signal:`${u.signal}[1]`}:u[1];if(c!==null&&h!==null&&t)return`inrange(${o}, [${ho(c,i)}, ${ho(h,i)}])`;const d=[];return c!==null&&d.push(`${o} >= ${ho(c,i)}`),h!==null&&d.push(`${o} <= ${ho(h,i)}`),d.length>0?d.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${en(e)}`)}function vE(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function MSe(e){return CW(e)&&e.timeUnit?{...e,timeUnit:Tr(e.timeUnit)}:e}const nx={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function RSe(e){return e==="quantitative"||e==="temporal"}function d5(e){return e==="ordinal"||e==="nominal"}const o0=nx.quantitative,g5=nx.ordinal,Od=nx.temporal,p5=nx.nominal,cg=nx.geojson;function NSe(e){if(e)switch(e=e.toLowerCase(),e){case"q":case o0:return"quantitative";case"t":case Od:return"temporal";case"o":case g5:return"ordinal";case"n":case p5:return"nominal";case cg:return"geojson"}}const zr={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",TIME:"time",UTC:"utc",POINT:"point",BAND:"band"},s4={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function $Se(e,t){const n=s4[e],r=s4[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const LSe={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function PL(e){return LSe[e]}const DW=new Set(["linear","log","pow","sqrt","symlog"]),OW=new Set([...DW,"time","utc"]);function MW(e){return DW.has(e)}const RW=new Set(["quantile","quantize","threshold"]),ISe=new Set([...OW,...RW,"sequential","identity"]),zSe=new Set(["ordinal","bin-ordinal","point","band"]);function Cr(e){return zSe.has(e)}function Vs(e){return ISe.has(e)}function So(e){return OW.has(e)}function Md(e){return RW.has(e)}const BSe={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,tickBandPaddingInner:.25,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:4,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0,framesPerSecond:2,animationDuration:5};function PSe(e){return!Ge(e)&&Oe(e,"name")}function NW(e){return Oe(e,"param")}function USe(e){return Oe(e,"unionWith")}function HSe(e){return qe(e)&&"field"in e}const jSe={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:F7e,domain:D7e,range:O7e,rangeMax:M7e,rangeMin:R7e,scheme:N7e,...qSe}=jSe,GSe=De(qSe);function o4(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return So(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return So(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return So(e);case"nice":return So(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Vs(e)&&!At(["log","time","utc","threshold","quantile"],e)}}function $W(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return ed(e)?void 0:UEe(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function VSe(e,t){return At([g5,p5],t)?e===void 0||Cr(e):t===Od?At([zr.TIME,zr.UTC,void 0],e):t===o0?MW(e)||Md(e)||e===void 0:!0}function XSe(e,t,n=!1){if(!Qo(e))return!1;switch(e){case Fn:case Dr:case Mc:case ug:case ps:case eo:return So(t)||t==="band"?!0:t==="point"?!n:!1;case Rc:return At(["linear","band"],t);case nu:case Lc:case ru:case Nc:case $c:case A0:return So(t)||Md(t)||At(["band","point","ordinal"],t);case aa:case Wo:case Yo:return t!=="band";case Ic:case sa:return t==="ordinal"||Md(t)}}function WSe(e){return qe(e)&&"value"in e}const Ui={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},LW=Ui.arc,_E=Ui.area,bE=Ui.bar,YSe=Ui.image,EE=Ui.line,SE=Ui.point,KSe=Ui.rect,__=Ui.rule,IW=Ui.text,m5=Ui.tick,QSe=Ui.trail,x5=Ui.circle,y5=Ui.square,zW=Ui.geoshape;function Bc(e){return["line","area","trail"].includes(e)}function am(e){return["rect","bar","image","arc","tick"].includes(e)}const ZSe=new Set(De(Ui));function Io(e){return Oe(e,"type")}const JSe=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],ewe=["fill","fillOpacity"],twe=[...JSe,...ewe],nwe={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},UL=De(nwe),CT=["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rwe={area:["line","point"],bar:CT,rect:CT,line:["point"],tick:["bandSize","thickness",...CT]},iwe={color:"#4c78a8",invalid:"break-paths-show-path-domains",timeUnitBandSize:1},awe={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},BW=De(awe);function l0(e){return Oe(e,"band")}const swe={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},owe=5,v5={binSpacing:0,continuousBandSize:owe,minBandSize:.25,timeUnitBandPosition:.5},lwe={...v5,binSpacing:1},uwe={...v5,thickness:1};function cwe(e){return Io(e)?e.type:e}function PW(e,{isPath:t}){return e===void 0||e==="break-paths-show-path-domains"?t?"break-paths-show-domains":"filter":e===null?"show":e}function _5({markDef:e,config:t,scaleChannel:n,scaleType:r,isCountAggregate:i}){if(!r||!Vs(r)||i)return"always-valid";const a=PW(Jt("invalid",e,t),{isPath:Bc(e.type)});return t.scale?.invalid?.[n]!==void 0?"show":a}function fwe(e){return e==="break-paths-filter-domains"||e==="break-paths-show-domains"}function UW({scaleName:e,scale:t,mode:n}){const r=`domain('${e}')`;if(!t||!e)return;const i=`${r}[0]`,a=`peek(${r})`,s=t.domainHasZero();return s==="definitely"?{scale:e,value:0}:s==="maybe"?{signal:`scale('${e}', inrange(0, ${r}) ? 0 : ${n==="zeroOrMin"?i:a})`}:{signal:`scale('${e}', ${n==="zeroOrMin"?i:a})`}}function HW({scaleChannel:e,channelDef:t,scale:n,scaleName:r,markDef:i,config:a}){const s=n?.get("type"),o=Ws(t),u=pE(o?.aggregate),c=_5({scaleChannel:e,markDef:i,config:a,scaleType:s,isCountAggregate:u});if(o&&c==="show"){const h=a.scale.invalid?.[e]??"zero-or-min";return{test:vE(Ue(o,{expr:"datum"}),!1),...hwe(h,n,r)}}}function hwe(e,t,n){if(WSe(e)){const{value:r}=e;return et(r)?{signal:r.signal}:{value:r}}return UW({scale:t,scaleName:n,mode:"zeroOrMin"})}function b5(e){const{channel:t,channelDef:n,markDef:r,scale:i,scaleName:a,config:s}=e,o=T0(t),u=E5(e),c=HW({scaleChannel:o,channelDef:n,scale:i,scaleName:a,markDef:r,config:s});return c!==void 0?[c,u]:u}function dwe(e){const{datum:t}=e;return F0(t)?s0(t):`${en(t)}`}function zf(e,t,n,r){const i={};if(t&&(i.scale=t),Zo(e)){const{datum:a}=e;F0(a)?i.signal=s0(a):et(a)?i.signal=a.signal:tx(a)?i.signal=a.expr:i.value=a}else i.field=Ue(e,n);if(r){const{offset:a,band:s}=r;a&&(i.offset=a),s&&(i.band=s)}return i}function b_({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:a="end",bandPosition:s=.5}){const o=!et(s)&&0<s&&s<1?"datum":void 0,u=Ue(t,{expr:o,suffix:i}),c=n!==void 0?Ue(n,{expr:o}):Ue(t,{suffix:a,expr:o}),h={};if(s===0||s===1){h.scale=e;const d=s===0?u:c;h.field=d}else{const d=et(s)?`(1-${s.signal}) * ${u} + ${s.signal} * ${c}`:`${1-s} * ${u} + ${s} * ${c}`;h.signal=`scale("${e}", ${d})`}return r&&(h.offset=r),h}function gwe({scaleName:e,fieldDef:t}){const n=Ue(t,{expr:"datum"}),r=Ue(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function E5({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:s,stack:o,offset:u,defaultRef:c,bandPosition:h}){if(t){if(ht(t)){const d=s?.get("type");if(zi(t)){h??=_c({fieldDef:t,fieldDef2:n,markDef:r,config:i});const{bin:p,timeUnit:m,type:y}=t;if(xn(p)||h&&m&&y===Od)return o?.impute?zf(t,a,{binSuffix:"mid"},{offset:u}):h&&!Cr(d)?b_({scaleName:a,fieldOrDatumDef:t,bandPosition:h,offset:u}):zf(t,a,ox(t,e)?{binSuffix:"range"}:{},{offset:u});if($r(p)){if(Ne(n))return b_({scaleName:a,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:h,offset:u});$e(xW(e===Fn?Js:Xo))}}return zf(t,a,Cr(d)?{binSuffix:"range"}:{},{offset:u,band:d==="band"?h??t.bandPosition??.5:void 0})}else if(Xs(t)){const d=t.value,p=u?{offset:u}:{};return{...Sp(e,d),...p}}}return _t(c)&&(c=c()),c&&{...c,...u?{offset:u}:{}}}function Sp(e,t){return At(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:At(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:En(t)}function u0(e){return e&&e!=="number"&&e!=="time"}function jW(e,t,n){return`${e}(${t}${n?`, ${en(n)}`:""})`}function S5({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a}){if(u0(n))return Is({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:a});const s=qW(e,r,i),o=Rd(e);if(t===void 0&&n===void 0&&a.customFormatTypes){if(o==="quantitative"){if(i&&a.normalizedNumberFormatType)return Is({fieldOrDatumDef:e,format:a.normalizedNumberFormat,formatType:a.normalizedNumberFormatType,expr:r,config:a});if(a.numberFormatType)return Is({fieldOrDatumDef:e,format:a.numberFormat,formatType:a.numberFormatType,expr:r,config:a})}if(o==="temporal"&&a.timeFormatType&&Ne(e)&&e.timeUnit===void 0)return Is({fieldOrDatumDef:e,format:a.timeFormat,formatType:a.timeFormatType,expr:r,config:a})}function u(c){return Ne(c)?Tr(c.timeUnit)||{}:{unit:void 0,utc:void 0}}if($d(e)){const{unit:c,utc:h}=u(e),d=mwe({field:s,timeUnit:c,format:t,formatType:a.timeFormatType,rawTimeFormat:a.timeFormat,isUTCScale:h||O0(e)&&e.scale?.type===zr.UTC});return d?{signal:d}:void 0}if(t=l4({type:o,specifiedFormat:t,config:a,normalizeStack:i}),Ne(e)&&xn(e.bin)){const c=Ue(e,{expr:r,binSuffix:"end"});return{signal:rx(s,c,t,n,a)}}else return t||Rd(e)==="quantitative"?{signal:`${XW(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function qW(e,t,n){return Ne(e)?n?`${Ue(e,{expr:t,suffix:"end"})}-${Ue(e,{expr:t,suffix:"start"})}`:Ue(e,{expr:t}):dwe(e)}function Is({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:a,field:s}){if(s??=qW(e,r,i),s!=="datum.value"&&Ne(e)&&xn(e.bin)){const o=Ue(e,{expr:r,binSuffix:"end"});return{signal:rx(s,o,t,n,a)}}return{signal:jW(n,s,t)}}function GW(e,t,n,r,i,a){if(!(Ge(r)&&u0(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&Rd(e)==="quantitative"&&(i.normalizedNumberFormatType&&Nd(e)&&e.stack==="normalize"||i.numberFormatType))){if(Nd(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return l4({type:"quantitative",config:i,normalizeStack:!0});if($d(e)){const s=Ne(e)?Tr(e.timeUnit)?.unit:void 0;return s===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:pwe({specifiedFormat:n,timeUnit:s,config:i,omitTimeFormatConfig:a})}return l4({type:t,specifiedFormat:n,config:i})}}function VW(e,t,n){if(e&&(et(e)||e==="number"||e==="time"))return e;if($d(t)&&n!=="time"&&n!=="utc")return Ne(t)&&Tr(t?.timeUnit)?.utc?"utc":"time"}function l4({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(Ge(t))return t;if(e===o0)return r?n.normalizedNumberFormat:n.numberFormat}function pwe({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:AW(t)}:r?void 0:n.timeFormat)}function XW(e,t){return`format(${e}, "${t||""}")`}function HL(e,t,n,r){return u0(n)?jW(n,e,t):XW(e,(Ge(t)?t:void 0)??r.numberFormat)}function rx(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return rx(e,t,i.numberFormat,i.numberFormatType,i);const a=HL(e,n,r,i),s=HL(t,n,r,i);return`${vE(e,!1)} ? "null" : ${a} + "${rEe}" + ${s}`}function mwe({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:a}){return!t||n?!t&&r?`${r}(${e}, ${en(n)})`:(n=Ge(n)?n:i,`${a?"utc":"time"}Format(${e}, ${en(n)})`):ASe(t,e,a)}const wE="min",xwe={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function jL(e){return We(xwe,e)}function ywe(e){return Oe(e,"encoding")}function Pl(e){return e&&(e.op==="count"||Oe(e,"field"))}function WW(e){return e&&Ae(e)}function ix(e){return Oe(e,"row")||Oe(e,"column")}function w5(e){return Oe(e,"header")}function AE(e){return Oe(e,"facet")}function vwe(e){return Oe(e,"param")}function _we(e){return!Ge(e)&&Oe(e,"repeat")}function qL(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function A5(e){return Oe(e,"sort")}function _c({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(ht(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Ne(e)){const{timeUnit:i,bin:a}=e;if(i&&!t)return Lo("timeUnitBandPosition",n,r);if(xn(a))return .5}}function YW({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:a,useVlSizeChannel:s}){const o=oa(e),u=Jt(s?"size":o,r,i,{vgChannel:o});if(u!==void 0)return u;if(Ne(t)){const{timeUnit:c,bin:h}=t;if(c&&!n)return{band:Lo("timeUnitBandSize",r,i)};if(xn(h)&&!Cr(a))return{band:1}}if(am(r.type))return a?Cr(a)?i[r.type]?.discreteBandSize||{band:1}:i[r.type]?.continuousBandSize:i[r.type]?.discreteBandSize}function KW(e,t,n,r){return xn(e.bin)||e.timeUnit&&zi(e)&&e.type==="temporal"?_c({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function QW(e){return Oe(e,"sort")&&!Oe(e,"field")}function ax(e){return Oe(e,"condition")}function TE(e){const t=e?.condition;return!!t&&!Ae(t)&&Ne(t)}function sx(e){const t=e?.condition;return!!t&&!Ae(t)&&ht(t)}function bwe(e){const t=e?.condition;return!!t&&(Ae(t)||Xs(t))}function Ne(e){return Oe(e,"field")||e?.aggregate==="count"}function Rd(e){return e?.type}function Zo(e){return Oe(e,"datum")}function Zu(e){return zi(e)&&!S_(e)||E_(e)}function GL(e){return zi(e)&&e.type==="quantitative"&&!e.bin||E_(e)}function E_(e){return Zo(e)&&jt(e.datum)}function ht(e){return Ne(e)||Zo(e)}function zi(e){return e&&(Oe(e,"field")||e.aggregate==="count")&&Oe(e,"type")}function Xs(e){return Oe(e,"value")}function O0(e){return Oe(e,"scale")||Oe(e,"sort")}function Nd(e){return Oe(e,"axis")||Oe(e,"stack")||Oe(e,"impute")}function ZW(e){return Oe(e,"legend")}function JW(e){return Oe(e,"format")||Oe(e,"formatType")}function Ewe(e){return Ca(e,["legend","axis","header","scale"])}function Swe(e){return Oe(e,"op")}function Ue(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,a="";if(Awe(e))n=jX("count");else{let s;if(!t.nofn)if(Swe(e))s=e.op;else{const{bin:o,aggregate:u,timeUnit:c}=e;xn(o)?(s=rW(o),i=(t.binSuffix??"")+(t.suffix??"")):u?zc(u)?(a=`["${n}"]`,n=`argmax_${u.argmax}`):Wl(u)?(a=`["${n}"]`,n=`argmin_${u.argmin}`):s=String(u):c&&!D0(c)&&(s=TSe(c),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?lg(n):t.expr?BX(n,t.expr)+a:fs(n)+a}function S_(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Ne(e)&&!!e.bin;case"temporal":return!1}throw new Error(dW(e.type))}function wwe(e){return O0(e)&&Md(e.scale?.type)}function Awe(e){return e.aggregate==="count"}function Twe(e,t){const{field:n,bin:r,timeUnit:i,aggregate:a}=e;if(a==="count")return t.countTitle;if(xn(r))return`${n} (binned)`;if(i&&!D0(i)){const s=Tr(i)?.unit;if(s)return`${n} (${yE(s).join("-")})`}else if(a)return zc(a)?`${n} for max ${a.argmax}`:Wl(a)?`${n} for min ${a.argmin}`:`${Qm(a)} of ${n}`;return n}function kwe(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(zc(t))return`${i} for argmax(${t.argmax})`;if(Wl(t))return`${i} for argmin(${t.argmin})`;const a=r&&!D0(r)?Tr(r):void 0,s=t||a?.unit||a?.maxbins&&"timeunit"||xn(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const eY=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return kwe(e);default:return Twe(e,t)}};let tY=eY;function nY(e){tY=e}function Cwe(){nY(eY)}function td(e,t,{allowDisabling:n,includeDefault:r=!0}){const i=T5(e)?.title;if(!Ne(e))return i??e.title;const a=e,s=r?k5(a,t):void 0;return n?Xn(i,a.title,s):i??a.title??s}function T5(e){if(Nd(e)&&e.axis)return e.axis;if(ZW(e)&&e.legend)return e.legend;if(w5(e)&&e.header)return e.header}function k5(e,t){return tY(e,t)}function w_(e){if(JW(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=T5(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function Fwe(e,t){switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(A5(e)&&Ae(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!zc(n)&&!Wl(n))return"quantitative";if(O0(e)&&e.scale?.type)switch(s4[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Ws(e){if(Ne(e))return e;if(TE(e))return e.condition}function fr(e){if(ht(e))return e;if(sx(e))return e.condition}function rY(e,t,n,r={}){if(Ge(e)||jt(e)||Ac(e)){const i=Ge(e)?"string":jt(e)?"number":"boolean";return $e(FEe(t,i,e)),{value:e}}return ht(e)?A_(e,t,n,r):sx(e)?{...e,condition:A_(e.condition,t,n,r)}:e}function A_(e,t,n,r){if(JW(e)){const{format:i,formatType:a,...s}=e;if(u0(a)&&!n.customFormatTypes)return $e(IL(t)),A_(s,t,n,r)}else{const i=Nd(e)?"axis":ZW(e)?"legend":w5(e)?"header":null;if(i&&e[i]){const{format:a,formatType:s,...o}=e[i];if(u0(s)&&!n.customFormatTypes)return $e(IL(t)),A_({...e,[i]:o},t,n,r)}}return Ne(e)?C5(e,t,r):Dwe(e)}function Dwe(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=jt(n)?"quantitative":Ge(n)?"nominal":F0(n)?"temporal":void 0,{...e,type:t}}function C5(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:a,field:s}=e,o={...e};if(!n&&r&&!ZD(r)&&!zc(r)&&!Wl(r)&&($e(OEe(r)),delete o.aggregate),i&&(o.timeUnit=Tr(i)),s&&(o.field=`${s}`),xn(a)&&(o.bin=kE(a,t)),$r(a)&&!Wn(t)&&$e(uSe(t)),zi(o)){const{type:u}=o,c=NSe(u);u!==c&&(o.type=c),u!=="quantitative"&&pE(r)&&($e(DEe(u,r)),o.type="quantitative")}else if(!QX(t)){const u=Fwe(o,t);o.type=u}if(zi(o)){const{compatible:u,warning:c}=Owe(o,t)||{};u===!1&&$e(c)}if(A5(o)&&Ge(o.sort)){const{sort:u}=o;if(jL(u))return{...o,sort:{encoding:u}};const c=u.substring(1);if(u.charAt(0)==="-"&&jL(c))return{...o,sort:{encoding:c,order:"descending"}}}if(w5(o)){const{header:u}=o;if(u){const{orient:c,...h}=u;if(c)return{...o,header:{...h,labelOrient:u.labelOrient||c,titleOrient:u.titleOrient||c}}}}return o}function kE(e,t){return Ac(e)?{maxbins:CL(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:CL(t)}:e}const Mh={compatible:!0};function Owe(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case zl:case Bl:case uE:return S_(e)?Mh:{compatible:!1,warning:$Ee(t)};case Fn:case Dr:case Mc:case ug:case aa:case Wo:case Yo:case Zm:case Jm:case cE:case i0:case fE:case hE:case A0:case ps:case eo:case dE:return Mh;case no:case hs:case to:case ro:return n!==o0?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:Mh;case ru:case Nc:case $c:case Lc:case nu:case tu:case eu:case Js:case Xo:case Rc:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:Mh;case sa:case Ic:return!S_(e)&&!wwe(e)?{compatible:!1,warning:LEe(t)}:Mh;case Dd:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:Mh}}function $d(e){const{formatType:t}=w_(e);return t==="time"||!t&&Mwe(e)}function Mwe(e){return e&&(e.type==="temporal"||Ne(e)&&!!e.timeUnit)}function CE(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){const a=t&&Tr(t)?.unit;let s=a||n==="temporal",o;return tx(e)?o=e.expr:et(e)?o=e.signal:F0(e)?(s=!0,o=s0(e)):(Ge(e)||jt(e))&&s&&(o=`datetime(${en(e)})`,bSe(a)&&(jt(e)&&e<1e4||Ge(e)&&isNaN(Date.parse(e)))&&(o=s0({[a]:e}))),o?r&&s?`time(${o})`:o:i?void 0:en(e)}function iY(e,t){const{type:n}=e;return t.map(r=>{const i=Ne(e)&&!D0(e.timeUnit)?e.timeUnit:void 0,a=CE(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return a!==void 0?{signal:a}:r})}function ox(e,t){return xn(e.bin)?Qo(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const VL={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function lx(e){return e?.condition}const aY=["domain","grid","labels","ticks","title"],Rwe={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},sY={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Nwe={...sY,style:1,labelExpr:1,encoding:1};function XL(e){return We(Nwe,e)}const $we={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},oY=De($we);function au(e){return Oe(e,"mark")}class FE{name;run;constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return au(t)?cwe(t.mark)===this.name:!1}}function Bf(e,t){const n=e?.[t];return n?Ae(n)?Cd(n,r=>!!r.field):Ne(n)||TE(n):!1}function lY(e,t){const n=e?.[t];return n?Ae(n)?Cd(n,r=>!!r.field):Ne(n)||Zo(n)||sx(n):!1}function uY(e,t){if(Wn(t)){const n=e[t];if((Ne(n)||Zo(n))&&(d5(n.type)||Ne(n)&&n.timeUnit)){const r=XD(t);return lY(e,r)}}return!1}function cY(e){return Cd(Dbe,t=>{if(Bf(e,t)){const n=e[t];if(Ae(n))return Cd(n,r=>!!r.aggregate);{const r=Ws(n);return r&&!!r.aggregate}}return!1})}function fY(e,t){const n=[],r=[],i=[],a=[],s={};return F5(e,(o,u)=>{if(Ne(o)){const{field:c,aggregate:h,bin:d,timeUnit:p,...m}=o;if(h||p||d){const v=T5(o)?.title;let _=Ue(o,{forAs:!0});const E={...v?[]:{title:td(o,t,{allowDisabling:!0})},...m,field:_};if(h){let w;if(zc(h)?(w="argmax",_=Ue({op:"argmax",field:h.argmax},{forAs:!0}),E.field=`${_}.${c}`):Wl(h)?(w="argmin",_=Ue({op:"argmin",field:h.argmin},{forAs:!0}),E.field=`${_}.${c}`):h!=="boxplot"&&h!=="errorbar"&&h!=="errorband"&&(w=h),w){const A={op:w,as:_};c&&(A.field=c),a.push(A)}}else if(n.push(_),zi(o)&&xn(d)){if(r.push({bin:d,field:c,as:_}),n.push(Ue(o,{binSuffix:"end"})),ox(o,u)&&n.push(Ue(o,{binSuffix:"range"})),Wn(u)){const w={field:`${_}_end`};s[`${u}2`]=w}E.bin="binned",QX(u)||(E.type=o0)}else if(p&&!D0(p)){i.push({timeUnit:p,field:c,as:_});const w=zi(o)&&o.type!==Od&&"time";w&&(u===Zm||u===i0?E.formatType=w:Ube(u)?E.legend={formatType:w,...E.legend}:Wn(u)&&(E.axis={formatType:w,...E.axis}))}s[u]=E}else n.push(c),s[u]=e[u]}else s[u]=e[u]}),{bins:r,timeUnits:i,aggregate:a,groupby:n,encoding:s}}function Lwe(e,t,n){const r=jbe(t,n);if(r){if(r==="binned"){const i=e[t===Js?Fn:Dr];return!!(Ne(i)&&Ne(e[t])&&$r(i.bin))}}else return!1;return!0}function Iwe(e,t,n,r){const i={};for(const a of De(e))KX(a)||$e(NEe(a));for(let a of Lbe){if(!e[a])continue;const s=e[a];if(ex(a)){const o=$be(a),u=i[o];if(Ne(u)&&RSe(u.type)&&Ne(s)&&!u.timeUnit){$e(CEe(o));continue}}if(a==="angle"&&t==="arc"&&!e.theta&&($e(kEe),a=ps),!Lwe(e,a,t)){$e(xE(a,t));continue}if(a===nu&&t==="line"&&Ws(e[a])?.aggregate){$e(REe);continue}if(a===aa&&(n?"fill"in e:"stroke"in e)){$e(gW("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(a===Jm||a===Dd&&!Ae(s)&&!Xs(s)||a===i0&&Ae(s)){if(s){if(a===Dd){const o=e[a];if(QW(o)){i[a]=o;continue}}i[a]=Ve(s).reduce((o,u)=>(Ne(u)?o.push(C5(u,a)):$e(a4(u,a)),o),[])}}else{if(a===i0&&s===null)i[a]=null;else if(!Ne(s)&&!Zo(s)&&!Xs(s)&&!ax(s)&&!et(s)){$e(a4(s,a));continue}i[a]=rY(s,a,r)}}return i}function DE(e,t){const n={};for(const r of De(e)){const i=rY(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function zwe(e){const t=[];for(const n of De(e))if(Bf(e,n)){const r=e[n],i=Ve(r);for(const a of i)Ne(a)?t.push(a):TE(a)&&t.push(a.condition)}return t}function F5(e,t,n){if(e)for(const r of De(e)){const i=e[r];if(Ae(i))for(const a of i)t.call(n,a,r);else t.call(n,i,r)}}function Bwe(e,t,n,r){return e?De(e).reduce((i,a)=>{const s=e[a];return Ae(s)?s.reduce((o,u)=>t.call(r,o,u,a),i):t.call(r,i,s,a)},n):n}function hY(e,t){return De(t).reduce((n,r)=>{switch(r){case Fn:case Dr:case fE:case dE:case hE:case Js:case Xo:case Mc:case ug:case ps:case tu:case eo:case eu:case Rc:case to:case no:case ro:case hs:case Zm:case sa:case A0:case i0:return n;case Dd:if(e==="line"||e==="trail")return n;case Jm:case cE:{const i=t[r];if(Ae(i)||Ne(i))for(const a of Ve(i))a.aggregate||n.push(Ue(a,{}));return n}case nu:if(e==="trail")return n;case aa:case Wo:case Yo:case ru:case Nc:case $c:case Ic:case Lc:{const i=Ws(t[r]);return i&&!i.aggregate&&n.push(Ue(i,{})),n}}},[])}function Pwe(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Ae(t)){for(const a of t)a.aggregate?(r||(r=[]),r.push(a)):(i||(i=[]),i.push(a));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Ae(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function u4(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:o})=>{const u=r?` of ${D5(t)}`:"";return{field:s+t.field,type:t.type,title:et(o)?{signal:`${o}"${escape(u)}"`}:o+u}}),a=zwe(n).map(Ewe);return{tooltip:[...i,...Eo(a,Dt)]}}function D5(e){const{title:t,field:n}=e;return Xn(t,n)}function O5(e,t,n,r,i){const{scale:a,axis:s}=n;return({partName:o,mark:u,positionPrefix:c,endPositionPrefix:h=void 0,extraEncoding:d={}})=>{const p=D5(n);return dY(e,o,i,{mark:u,encoding:{[t]:{field:`${c}_${n.field}`,type:n.type,...p!==void 0?{title:p}:{},...a!==void 0?{scale:a}:{},...s!==void 0?{axis:s}:{}},...Ge(h)?{[`${t}2`]:{field:`${h}_${n.field}`}}:{},...r,...d}})}}function dY(e,t,n,r){const{clip:i,color:a,opacity:s}=e,o=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...a?{color:a}:{},...s?{opacity:s}:{},...Io(r.mark)?r.mark:{type:r.mark},style:`${o}-${String(t)}`,...Ac(e[t])?{}:e[t]}}]:[]}function gY(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",a=r[i],s=r[`${i}2`],o=r[`${i}Error`],u=r[`${i}Error2`];return{continuousAxisChannelDef:uv(a,n),continuousAxisChannelDef2:uv(s,n),continuousAxisChannelDefError:uv(o,n),continuousAxisChannelDefError2:uv(u,n),continuousAxis:i}}function uv(e,t){if(e?.aggregate){const{aggregate:n,...r}=e;return n!==t&&$e(lSe(n,t)),r}else return e}function pY(e,t){const{mark:n,encoding:r}=e,{x:i,y:a}=r;if(Io(n)&&n.orient)return n.orient;if(Zu(i)){if(Zu(a)){const s=Ne(i)&&i.aggregate,o=Ne(a)&&a.aggregate;if(!s&&o===t)return"vertical";if(!o&&s===t)return"horizontal";if(s===t&&o===t)throw new Error("Both x and y cannot have aggregate");return $d(a)&&!$d(i)?"horizontal":"vertical"}return"horizontal"}else{if(Zu(a))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const T_="boxplot",Uwe=["box","median","outliers","rule","ticks"],Hwe=new FE(T_,xY);function mY(e){return jt(e)?"tukey":e}function xY(e,{config:t}){e={...e,encoding:DE(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:a,...s}=e,o=Io(n)?n:{type:n};i&&$e(hW("boxplot"));const u=o.extent??t.boxplot.extent,c=Jt("size",o,t),h=o.invalid,d=mY(u),{bins:p,timeUnits:m,transform:y,continuousAxisChannelDef:v,continuousAxis:_,groupby:E,aggregate:w,encodingWithoutContinuousAxis:A,ticksOrient:k,boxOrient:D,customTooltipWithoutAggregatedField:O}=jwe(e,u,t),T=lg(v.field),{color:F,size:C,...N}=A,L=Fe=>O5(o,_,v,Fe,t.boxplot),I=L(N),Q=L(A),J=(qe(t.boxplot.box)?t.boxplot.box.color:t.mark.color)||"#4c78a8",H=L({...N,...C?{size:C}:{},color:{condition:{test:`${rn(`lower_box_${v.field}`)} >= ${rn(`upper_box_${v.field}`)}`,...F||{value:J}}}}),z=u4([{fieldPrefix:d==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:d==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],v,A),X={type:"tick",color:"black",opacity:1,orient:k,invalid:h,aria:!1},re=d==="min-max"?z:u4([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],v,A),j=[...I({partName:"rule",mark:{type:"rule",invalid:h,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:re}),...I({partName:"rule",mark:{type:"rule",invalid:h,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:re}),...I({partName:"ticks",mark:X,positionPrefix:"lower_whisker",extraEncoding:re}),...I({partName:"ticks",mark:X,positionPrefix:"upper_whisker",extraEncoding:re})],le=[...d!=="tukey"?j:[],...Q({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:D,invalid:h,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:z}),...H({partName:"median",mark:{type:"tick",invalid:h,...qe(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:k,aria:!1},positionPrefix:"mid_box",extraEncoding:z})];if(d==="min-max")return{...s,transform:(s.transform??[]).concat(y),layer:le};const q=rn(`lower_box_${v.field}`),R=rn(`upper_box_${v.field}`),G=`(${R} - ${q})`,K=`${q} - ${u} * ${G}`,Y=`${R} + ${u} * ${G}`,se=rn(v.field),ve={joinaggregate:yY(v.field),groupby:E},_e={transform:[{filter:`(${K} <= ${se}) && (${se} <= ${Y})`},{aggregate:[{op:"min",field:v.field,as:`lower_whisker_${T}`},{op:"max",field:v.field,as:`upper_whisker_${T}`},{op:"min",field:`lower_box_${v.field}`,as:`lower_box_${T}`},{op:"max",field:`upper_box_${v.field}`,as:`upper_box_${T}`},...w],groupby:E}],layer:j},{tooltip:ae,...ue}=N,{scale:ke,axis:P}=v,Ze=D5(v),Le=dY(o,"outliers",t.boxplot,{transform:[{filter:`(${se} < ${K}) || (${se} > ${Y})`}],mark:"point",encoding:{[_]:{field:v.field,type:v.type,...Ze!==void 0?{title:Ze}:{},...ke!==void 0?{scale:ke}:{},...P!==void 0?{axis:P}:{}},...ue,...F?{color:F}:{},...O?{tooltip:O}:{}}})[0];let He;const Re=[...p,...m,ve];return Le?He={transform:Re,layer:[Le,_e]}:(He=_e,He.transform.unshift(...Re)),{...s,layer:[He,{transform:y,layer:le}]}}function yY(e){const t=lg(e);return[{op:"q1",field:e,as:`lower_box_${t}`},{op:"q3",field:e,as:`upper_box_${t}`}]}function jwe(e,t,n){const r=pY(e,T_),{continuousAxisChannelDef:i,continuousAxis:a}=gY(e,r,T_),s=i.field,o=lg(s),u=mY(t),c=[...yY(s),{op:"median",field:s,as:`mid_box_${o}`},{op:"min",field:s,as:(u==="min-max"?"lower_whisker_":"min_")+o},{op:"max",field:s,as:(u==="min-max"?"upper_whisker_":"max_")+o}],h=u==="min-max"||u==="tukey"?[]:[{calculate:`${rn(`upper_box_${o}`)} - ${rn(`lower_box_${o}`)}`,as:`iqr_${o}`},{calculate:`min(${rn(`upper_box_${o}`)} + ${rn(`iqr_${o}`)} * ${t}, ${rn(`max_${o}`)})`,as:`upper_whisker_${o}`},{calculate:`max(${rn(`lower_box_${o}`)} - ${rn(`iqr_${o}`)} * ${t}, ${rn(`min_${o}`)})`,as:`lower_whisker_${o}`}],{[a]:d,...p}=e.encoding,{customTooltipWithoutAggregatedField:m,filteredEncoding:y}=Pwe(p),{bins:v,timeUnits:_,aggregate:E,groupby:w,encoding:A}=fY(y,n),k=r==="vertical"?"horizontal":"vertical",D=r,O=[...v,..._,{aggregate:[...E,...c],groupby:w},...h];return{bins:v,timeUnits:_,transform:O,groupby:w,aggregate:E,continuousAxisChannelDef:i,continuousAxis:a,encodingWithoutContinuousAxis:A,ticksOrient:k,boxOrient:D,customTooltipWithoutAggregatedField:m}}const M5="errorbar",qwe=["ticks","rule"],Gwe=new FE(M5,vY);function vY(e,{config:t}){e={...e,encoding:DE(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,ticksOrient:s,markDef:o,outerSpec:u,tooltipEncoding:c}=_Y(e,M5,t);delete a.size;const h=O5(o,i,r,a,t.errorbar),d=o.thickness,p=o.size,m={type:"tick",orient:s,aria:!1,...d!==void 0?{thickness:d}:{},...p!==void 0?{size:p}:{}},y=[...h({partName:"ticks",mark:m,positionPrefix:"lower",extraEncoding:c}),...h({partName:"ticks",mark:m,positionPrefix:"upper",extraEncoding:c}),...h({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...d!==void 0?{size:d}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...u,transform:n,...y.length>1?{layer:y}:{...y[0]}}}function Vwe(e,t){const{encoding:n}=e;if(Xwe(n))return{orient:pY(e,t),inputType:"raw"};const r=Wwe(n),i=Ywe(n),a=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const o=n.x2,u=n.y2;if(ht(o)&&ht(u))throw new Error(`${t} cannot have both x2 and y2`);if(ht(o)){if(Zu(a))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(ht(u)){if(Zu(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const o=n.xError,u=n.xError2,c=n.yError,h=n.yError2;if(ht(u)&&!ht(o))throw new Error(`${t} cannot have xError2 without xError`);if(ht(h)&&!ht(c))throw new Error(`${t} cannot have yError2 without yError`);if(ht(o)&&ht(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(ht(o)){if(Zu(a))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(ht(c)){if(Zu(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Xwe(e){return(ht(e.x)||ht(e.y))&&!ht(e.x2)&&!ht(e.y2)&&!ht(e.xError)&&!ht(e.xError2)&&!ht(e.yError)&&!ht(e.yError2)}function Wwe(e){return ht(e.x2)||ht(e.y2)}function Ywe(e){return ht(e.xError)||ht(e.xError2)||ht(e.yError)||ht(e.yError2)}function _Y(e,t,n){const{mark:r,encoding:i,params:a,projection:s,...o}=e,u=Io(r)?r:{type:r};a&&$e(hW(t));const{orient:c,inputType:h}=Vwe(e,t),{continuousAxisChannelDef:d,continuousAxisChannelDef2:p,continuousAxisChannelDefError:m,continuousAxisChannelDefError2:y,continuousAxis:v}=gY(e,c,t),{errorBarSpecificAggregate:_,postAggregateCalculates:E,tooltipSummary:w,tooltipTitleWithFieldName:A}=Kwe(u,d,p,m,y,h,t,n),{[v]:k,[v==="x"?"x2":"y2"]:D,[v==="x"?"xError":"yError"]:O,[v==="x"?"xError2":"yError2"]:T,...F}=i,{bins:C,timeUnits:N,aggregate:L,groupby:I,encoding:Q}=fY(F,n),J=[...L,..._],H=h!=="raw"?[]:I,z=u4(w,d,Q,A);return{transform:[...o.transform??[],...C,...N,...J.length===0?[]:[{aggregate:J,groupby:H}],...E],groupby:H,continuousAxisChannelDef:d,continuousAxis:v,encodingWithoutContinuousAxis:Q,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:u,outerSpec:o,tooltipEncoding:z}}function Kwe(e,t,n,r,i,a,s,o){let u=[],c=[];const h=t.field;let d,p=!1;if(a==="raw"){const m=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":o.errorbar.center,y=e.extent?e.extent:m==="mean"?"stderr":"iqr";if(m==="median"!=(y==="iqr")&&$e(oSe(m,y,s)),y==="stderr"||y==="stdev")u=[{op:y,field:h,as:`extent_${h}`},{op:m,field:h,as:`center_${h}`}],c=[{calculate:`${rn(`center_${h}`)} + ${rn(`extent_${h}`)}`,as:`upper_${h}`},{calculate:`${rn(`center_${h}`)} - ${rn(`extent_${h}`)}`,as:`lower_${h}`}],d=[{fieldPrefix:"center_",titlePrefix:Qm(m)},{fieldPrefix:"upper_",titlePrefix:WL(m,y,"+")},{fieldPrefix:"lower_",titlePrefix:WL(m,y,"-")}],p=!0;else{let v,_,E;y==="ci"?(v="mean",_="ci0",E="ci1"):(v="median",_="q1",E="q3"),u=[{op:_,field:h,as:`lower_${h}`},{op:E,field:h,as:`upper_${h}`},{op:v,field:h,as:`center_${h}`}],d=[{fieldPrefix:"upper_",titlePrefix:td({field:h,aggregate:E,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:td({field:h,aggregate:_,type:"quantitative"},o,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:td({field:h,aggregate:v,type:"quantitative"},o,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&$e(sSe(e.center,e.extent)),a==="aggregated-upper-lower"?(d=[],c=[{calculate:rn(n.field),as:`upper_${h}`},{calculate:rn(h),as:`lower_${h}`}]):a==="aggregated-error"&&(d=[{fieldPrefix:"",titlePrefix:h}],c=[{calculate:`${rn(h)} + ${rn(r.field)}`,as:`upper_${h}`}],i?c.push({calculate:`${rn(h)} + ${rn(i.field)}`,as:`lower_${h}`}):c.push({calculate:`${rn(h)} - ${rn(r.field)}`,as:`lower_${h}`}));for(const m of c)d.push({fieldPrefix:m.as.substring(0,6),titlePrefix:r0(r0(m.calculate,"datum['",""),"']","")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:u,tooltipSummary:d,tooltipTitleWithFieldName:p}}function WL(e,t,n){return`${Qm(e)} ${n} ${t}`}const R5="errorband",Qwe=["band","borders"],Zwe=new FE(R5,bY);function bY(e,{config:t}){e={...e,encoding:DE(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:a,markDef:s,outerSpec:o,tooltipEncoding:u}=_Y(e,R5,t),c=s,h=O5(c,i,r,a,t.errorband),d=e.encoding.x!==void 0&&e.encoding.y!==void 0;let p={type:d?"area":"rect"},m={type:d?"line":"rule"};const y={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return d?(p={...p,...y,ariaRoleDescription:"errorband"},m={...m,...y,aria:!1}):c.interpolate?$e(BL("interpolate")):c.tension&&$e(BL("tension")),{...o,transform:n,layer:[...h({partName:"band",mark:p,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:u}),...h({partName:"borders",mark:m,positionPrefix:"lower",extraEncoding:u}),...h({partName:"borders",mark:m,positionPrefix:"upper",extraEncoding:u})]}}const EY={};function N5(e,t,n){const r=new FE(e,t);EY[e]={normalizer:r,parts:n}}function Jwe(){return De(EY)}N5(T_,xY,Uwe);N5(M5,vY,qwe);N5(R5,bY,Qwe);const eAe=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],SY={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},wY={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},tAe=De(SY),nAe=De(wY),rAe={header:1,headerRow:1,headerColumn:1,headerFacet:1},AY=De(rAe),TY=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],iAe={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},aAe={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},Ys="_vgsid_",sAe={point:{on:"click",fields:[Ys],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function $5(e){return e==="legend"||!!e?.legend}function FT(e){return $5(e)&&qe(e)}function L5(e){return!!e?.select}function kY(e){const t=[];for(const n of e||[]){if(L5(n))continue;const{expr:r,bind:i,...a}=n;if(i&&r){const s={...a,bind:i,init:r};t.push(s)}else{const s={...a,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function oAe(e){return OE(e)||z5(e)||I5(e)}function I5(e){return Oe(e,"concat")}function OE(e){return Oe(e,"vconcat")}function z5(e){return Oe(e,"hconcat")}function CY({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function zo(e){return Oe(e,"step")}function YL(e){return Oe(e,"view")||Oe(e,"width")||Oe(e,"height")}const KL=20,lAe={align:1,bounds:1,center:1,columns:1,spacing:1},uAe=De(lAe);function cAe(e,t,n){const r=n[t],i={},{spacing:a,columns:s}=r;a!==void 0&&(i.spacing=a),s!==void 0&&(AE(e)&&!ix(e.facet)||I5(e))&&(i.columns=s),OE(e)&&(i.columns=1);for(const o of uAe)if(e[o]!==void 0)if(o==="spacing"){const u=e[o];i[o]=jt(u)?u:{row:u.row??a,column:u.column??a}}else i[o]=e[o];return i}function c4(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function f4(e,t){const n=k_(e,t);return zo(n)?n.step:FY}function k_(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return Xn(n,{step:e.step})}const FY=20,fAe={continuousWidth:300,continuousHeight:300,step:FY},hAe={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:fAe,mark:iwe,arc:{},area:{},bar:lwe,circle:{},geoshape:{},image:{},line:{},point:{},rect:v5,rule:{color:"black"},square:{},text:{color:"black"},tick:uwe,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:BSe,projection:{},legend:iAe,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:sAe,style:{},title:{},facet:{spacing:KL},concat:{spacing:KL},normalizedNumberFormat:".0%"},El=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],QL={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},ZL={blue:El[0],orange:El[1],red:El[2],teal:El[3],green:El[4],yellow:El[5],purple:El[6],pink:El[7],brown:El[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function dAe(e={}){return{signals:[{name:"color",value:qe(e)?{...ZL,...e}:ZL}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function gAe(e){return{signals:[{name:"fontSize",value:qe(e)?{...QL,...e}:QL}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function pAe(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function DY(e){const t=De(e||{}),n={};for(const r of t){const i=e[r];n[r]=lx(i)?aW(i):ba(i)}return n}function mAe(e){const t=De(e),n={};for(const r of t)n[r]=DY(e[r]);return n}const xAe=[...BW,...oY,...AY,"background","padding","legend","lineBreak","scale","style","title","view"];function OY(e={}){const{color:t,font:n,fontSize:r,selection:i,...a}=e,s=Gd({},ft(hAe),n?pAe(n):{},t?dAe(t):{},r?gAe(r):{},a||{});i&&Vd(s,"selection",i,!0);const o=Ca(s,xAe);for(const u of["background","lineBreak","padding"])s[u]&&(o[u]=ba(s[u]));for(const u of BW)s[u]&&(o[u]=Lr(s[u]));for(const u of oY)s[u]&&(o[u]=DY(s[u]));for(const u of AY)s[u]&&(o[u]=Lr(s[u]));if(s.legend&&(o.legend=Lr(s.legend)),s.scale){const{invalid:u,...c}=s.scale,h=Lr(u,{level:1});o.scale={...Lr(c),...De(h).length>0?{invalid:h}:{}}}return s.style&&(o.style=mAe(s.style)),s.title&&(o.title=Lr(s.title)),s.view&&(o.view=Lr(s.view)),o}const yAe=new Set(["view",...ZSe]),vAe=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],_Ae={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...rwe};function bAe(e){e=ft(e);for(const t of vAe)delete e[t];if(e.axis)for(const t in e.axis)lx(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of eAe)delete e.legend[t];if(e.mark){for(const t of UL)delete e.mark[t];e.mark.tooltip&&qe(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(kY(e.params)),delete e.params);for(const t of yAe){for(const r of UL)delete e[t][r];const n=_Ae[t];if(n)for(const r of n)delete e[t][r];SAe(e,t)}for(const t of Jwe())delete e[t];EAe(e);for(const t in e)qe(e[t])&&dn(e[t])&&delete e[t];return dn(e)?void 0:e}function EAe(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=iW(e.title);dn(t)||(e.style["group-title"]={...e.style["group-title"],...t}),dn(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),dn(r)?delete e.title:e.title=r}function SAe(e,t,n,r){const i=e[t];t==="view"&&(n="cell");const a={...i,...e.style[n??t]};dn(a)||(e.style[n??t]=a),delete e[t]}function ME(e){return Oe(e,"layer")}function wAe(e){return Oe(e,"repeat")}function AAe(e){return!Ae(e.repeat)&&Oe(e.repeat,"layer")}class B5{map(t,n){return AE(t)?this.mapFacet(t,n):wAe(t)?this.mapRepeat(t,n):z5(t)?this.mapHConcat(t,n):OE(t)?this.mapVConcat(t,n):I5(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(ME(t))return this.mapLayer(t,n);if(au(t))return this.mapUnit(t,n);throw new Error(JD(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(a=>this.map(a,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const TAe={zero:1,center:1,normalize:1};function kAe(e){return We(TAe,e)}const CAe=new Set([LW,bE,_E,__,SE,x5,y5,EE,IW,m5]),FAe=new Set([bE,_E,LW]);function Rh(e){return Ne(e)&&Rd(e)==="quantitative"&&!e.bin}function JL(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",a=t==="x"&&["bar","area"].includes(r),s=e[t],o=e[i];if(Ne(s)&&Ne(o))if(Rh(s)&&Rh(o)){if(s.stack)return t;if(o.stack)return i;const u=Ne(s)&&!!s.aggregate,c=Ne(o)&&!!o.aggregate;if(u!==c)return u?t:i;if(a){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(Rh(s))return t;if(Rh(o))return i}else{if(Rh(s))return a&&n==="vertical"?void 0:t;if(Rh(o))return a&&n==="horizontal"?void 0:i}}function DAe(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function MY(e,t){const n=Io(e)?e:{type:e},r=n.type;if(!CAe.has(r))return null;const i=JL(t,"x",n)||JL(t,"theta",n);if(!i)return null;const a=t[i],s=Ne(a)?Ue(a,{}):void 0,o=DAe(i),u=[],c=new Set;if(t[o]){const v=t[o],_=Ne(v)?Ue(v,{}):void 0;_&&_!==s&&(u.push(o),c.add(_))}const h=o==="x"?"xOffset":"yOffset",d=t[h],p=Ne(d)?Ue(d,{}):void 0;p&&p!==s&&(u.push(h),c.add(p));const m=Ibe.reduce((v,_)=>{if(_!=="tooltip"&&Bf(t,_)){const E=t[_];for(const w of Ve(E)){const A=Ws(w);if(A.aggregate)continue;const k=Ue(A,{});(!k||!c.has(k))&&v.push({channel:_,fieldDef:A})}}return v},[]);let y;return a.stack!==void 0?Ac(a.stack)?y=a.stack?"zero":null:y=a.stack:FAe.has(r)&&(y="zero"),!y||!kAe(y)||cY(t)&&m.length===0?null:(a?.scale?.type&&a?.scale?.type!==zr.LINEAR&&a?.stack&&$e(rSe(a.scale.type)),ht(t[Ko(i)])?(a.stack!==void 0&&$e(nSe(i)),null):(Ne(a)&&a.aggregate&&!Kbe.has(a.aggregate)&&$e(iSe(a.aggregate)),{groupbyChannels:u,groupbyFields:c,fieldChannel:i,impute:a.impute===null?!1:Bc(r),stackBy:m,offset:y}))}function RY(e,t,n){const r=Lr(e),i=Jt("orient",r,n);if(r.orient=NAe(r.type,t,i),i!==void 0&&i!==r.orient&&$e(PEe(r.orient,i)),r.type==="bar"&&r.orient){const u=Jt("cornerRadiusEnd",r,n);if(u!==void 0){const c=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:swe[r.orient];for(const h of c)r[h]=u;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}const a=Jt("opacity",r,n),s=Jt("fillOpacity",r,n);return a===void 0&&s===void 0&&(r.opacity=MAe(r.type,t)),Jt("cursor",r,n)===void 0&&(r.cursor=OAe(r,t,n)),r}function OAe(e,t,n){return t.href||e.href||Jt("href",e,n)?"pointer":e.cursor}const NY=.7;function MAe(e,t){if(At([SE,m5,x5,y5],e)&&!cY(t))return NY}function RAe(e,t,{graticule:n}){if(n)return!1;const r=Lo("filled",e,t),i=e.type;return Xn(r,i!==SE&&i!==EE&&i!==__)}function NAe(e,t,n){switch(e){case SE:case x5:case y5:case KSe:case YSe:return}const{x:r,y:i,x2:a,y2:s}=t;switch(e){case IW:case bE:if(Ne(r)&&($r(r.bin)||Ne(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Ne(i)&&($r(i.bin)||Ne(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||a){if(n)return n;if(!a)return(Ne(r)&&r.type===o0&&!xn(r.bin)||E_(r))&&Ne(i)&&$r(i.bin)?"horizontal":"vertical";if(!s)return(Ne(i)&&i.type===o0&&!xn(i.bin)||E_(i))&&Ne(r)&&$r(r.bin)?"vertical":"horizontal"}case __:if(a&&!(Ne(r)&&$r(r.bin))&&s&&!(Ne(i)&&$r(i.bin)))return;case _E:if(s)return Ne(i)&&$r(i.bin)?"horizontal":"vertical";if(a)return Ne(r)&&$r(r.bin)?"vertical":"horizontal";if(e===__){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case EE:case m5:{const o=GL(r),u=GL(i);if(n)return n;if(o&&!u)return e!=="tick"?"horizontal":"vertical";if(!o&&u)return e!=="tick"?"vertical":"horizontal";if(o&&u)return"vertical";{const c=zi(r)&&r.type===Od,h=zi(i)&&i.type===Od;if(c&&!h)return"vertical";if(!c&&h)return"horizontal"}return}}return"vertical"}function $Ae(e){const{point:t,line:n,...r}=e;return De(r).length>1?r:r.type}function LAe(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Ca(e[t],["point","line"])});return e}function DT(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?qe(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?qe(t.point)?t.point:{}:void 0}function eI(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class IAe{name="path-overlay";hasMatchingType(t,n){if(au(t)){const{mark:r,encoding:i}=t,a=Io(r)?r:{type:r};switch(a.type){case"line":case"rule":case"trail":return!!DT(a,n[a.type],i);case"area":return!!DT(a,n[a.type],i)||!!eI(a,n[a.type])}}return!1}run(t,n,r){const{config:i}=n,{params:a,projection:s,mark:o,name:u,encoding:c,...h}=t,d=DE(c,i),p=Io(o)?o:{type:o},m=DT(p,i[p.type],d),y=p.type==="area"&&eI(p,i[p.type]),v=[{name:u,...a?{params:a}:{},mark:$Ae({...p.type==="area"&&Jt("opacity",p,i)==null&&Jt("fillOpacity",p,i)==null?{opacity:NY}:{},...p}),encoding:Ca(d,["shape"])}],_=MY(RY(p,d,i),d);let E=d;if(_){const{fieldChannel:w,offset:A}=_;E={...d,[w]:{...d[w],...A?{stack:A}:{}}}}return E=Ca(E,["y2","x2"]),y&&v.push({...s?{projection:s}:{},mark:{type:"line",...kd(p,["clip","interpolate","tension","tooltip"]),...y},encoding:E}),m&&v.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...kd(p,["clip","tooltip"]),...m},encoding:E}),r({...h,layer:v},{...n,config:LAe(i)})}}function zAe(e,t){return t?ix(e)?LY(e,t):$Y(e,t):e}function OT(e,t){return t?LY(e,t):e}function h4(e,t,n){const r=t[e];if(_we(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};$e(xEe(r.repeat));return}return t}function $Y(e,t){if(e=h4("field",e,t),e!==void 0){if(e===null)return null;if(A5(e)&&Pl(e.sort)){const n=h4("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function tI(e,t){if(Ne(e))return $Y(e,t);{const n=h4("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function nI(e,t){if(ht(e)){const n=tI(e,t);if(n)return n;if(ax(e))return{condition:e.condition}}else{if(sx(e)){const n=tI(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function LY(e,t){const n={};for(const r in e)if(Oe(e,r)){const i=e[r];if(Ae(i))n[r]=i.map(a=>nI(a,t)).filter(a=>a);else{const a=nI(i,t);a!==void 0&&(n[r]=a)}}return n}class BAe{name="RuleForRangedLine";hasMatchingType(t){if(au(t)){const{encoding:n,mark:r}=t;if(r==="line"||Io(r)&&r.type==="line")for(const i of Nbe){const a=T0(i),s=n[a];if(n[i]&&(Ne(s)&&!$r(s.bin)||Zo(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:a}=t;return $e(BEe(!!i.x2,!!i.y2)),r({...t,mark:qe(a)?{...a,type:"rule"}:"rule"},n)}}class PAe extends B5{nonFacetUnitNormalizers=[Hwe,Gwe,Zwe,new IAe,new BAe];map(t,n){if(au(t)){const r=Bf(t.encoding,zl),i=Bf(t.encoding,Bl),a=Bf(t.encoding,uE);if(r||i||a)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,a=OT(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(u=>u).join("_")}:{},...a?{encoding:a}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const o=this.mapLayerOrUnit.bind(this);for(const u of this.nonFacetUnitNormalizers)if(u.hasMatchingType(s,n.config))return u.run(s,n,o);return s}mapRepeat(t,n){return AAe(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...a}=t,{row:s,column:o,layer:u}=r,{repeater:c={},repeaterPrefix:h=""}=n;return s||o?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...o?{column:o}:{}},spec:{repeat:{layer:u},spec:i}},n):{...a,layer:u.map(d=>{const p={...c,layer:d},m=`${(i.name?`${i.name}_`:"")+h}child__layer_${Cn(d)}`,y=this.mapLayerOrUnit(i,{...n,repeater:p,repeaterPrefix:m});return y.name=m,y})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:a,...s}=t;!Ae(r)&&t.columns&&(t=Ca(t,["columns"]),$e($L("repeat")));const o=[],{repeater:u={},repeaterPrefix:c=""}=n,h=!Ae(r)&&r.row||[u?u.row:null],d=!Ae(r)&&r.column||[u?u.column:null],p=Ae(r)&&r||[u?u.repeat:null];for(const y of p)for(const v of h)for(const _ of d){const E={repeat:y,row:v,column:_,layer:u.layer},w=`${(i.name?`${i.name}_`:"")+c}child__${Ae(r)?`${Cn(y)}`:(r.row?`row_${Cn(v)}`:"")+(r.column?`column_${Cn(_)}`:"")}`,A=this.map(i,{...n,repeater:E,repeaterPrefix:w});A.name=w,o.push(Ca(A,["data"]))}const m=Ae(r)?t.columns:r.column?r.column.length:1;return{data:i.data??a,align:"all",...s,columns:m,concat:o}}mapFacet(t,n){const{facet:r}=t;return ix(r)&&t.columns&&(t=Ca(t,["columns"]),$e($L("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:a,parentProjection:s,config:o}=n,u=iI({parentProjection:s,projection:i}),c=rI({parentEncoding:a,encoding:OT(r,n.repeater)});return this.mapUnit({...t,...u?{projection:u}:{},...c?{encoding:c}:{}},{config:o})}mapFacetedUnit(t,n){const{row:r,column:i,facet:a,...s}=t.encoding,{mark:o,width:u,projection:c,height:h,view:d,params:p,encoding:m,...y}=t,{facetMapping:v,layout:_}=this.getFacetMappingAndLayout({row:r,column:i,facet:a},n),E=OT(s,n.repeater);return this.mapFacet({...y,..._,facet:v,spec:{...u?{width:u}:{},...h?{height:h}:{},...d?{view:d}:{},...c?{projection:c}:{},mark:o,encoding:E,...p?{params:p}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:a}=t;if(r||i){a&&$e(IEe([...r?[zl]:[],...i?[Bl]:[]]));const s={},o={};for(const u of[zl,Bl]){const c=t[u];if(c){const{align:h,center:d,spacing:p,columns:m,...y}=c;s[u]=y;for(const v of["align","center","spacing"])c[v]!==void 0&&(o[v]??={},o[v][u]=c[v])}}return{facetMapping:s,layout:o}}else{const{align:s,center:o,spacing:u,columns:c,...h}=a;return{facetMapping:zAe(h,n.repeater),layout:{...s?{align:s}:{},...o?{center:o}:{},...u?{spacing:u}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:a,projection:s,...o}=t,u={...i,parentEncoding:rI({parentEncoding:n,encoding:a,layer:!0}),parentProjection:iI({parentProjection:r,projection:s})};return super.mapLayer({...o,...t.name?{name:[u.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},u)}}function rI({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...De(e),...De(t)]);for(const a of i){const s=t[a],o=e[a];if(ht(s)){const u={...o,...s};r[a]=u}else sx(s)?r[a]={...s,condition:{...o,...s.condition}}:s||s===null?r[a]=s:(n||Xs(o)||et(o)||ht(o)||Ae(o))&&(r[a]=o)}}else r=t;return!r||dn(r)?void 0:r}function iI(e){const{parentProjection:t,projection:n}=e;return t&&n&&$e(TEe({parentProjection:t,projection:n})),n??t}function P5(e){return Oe(e,"filter")}function UAe(e){return Oe(e,"stop")}function IY(e){return Oe(e,"lookup")}function HAe(e){return Oe(e,"data")}function jAe(e){return Oe(e,"param")}function qAe(e){return Oe(e,"pivot")}function GAe(e){return Oe(e,"density")}function VAe(e){return Oe(e,"quantile")}function XAe(e){return Oe(e,"regression")}function WAe(e){return Oe(e,"loess")}function YAe(e){return Oe(e,"sample")}function KAe(e){return Oe(e,"window")}function QAe(e){return Oe(e,"joinaggregate")}function ZAe(e){return Oe(e,"flatten")}function JAe(e){return Oe(e,"calculate")}function zY(e){return Oe(e,"bin")}function eTe(e){return Oe(e,"impute")}function tTe(e){return Oe(e,"timeUnit")}function nTe(e){return Oe(e,"aggregate")}function rTe(e){return Oe(e,"stack")}function iTe(e){return Oe(e,"fold")}function aTe(e){return Oe(e,"extent")&&!Oe(e,"density")&&!Oe(e,"regression")}function sTe(e){return e.map(t=>P5(t)?{filter:Jh(t.filter,MSe)}:t)}class oTe extends B5{map(t,n){return n.emptySelections??={},n.selectionPredicates??={},t=aI(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=aI(t,n),t.encoding){const r={};for(const[i,a]of yc(t.encoding))r[i]=BY(a,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:yc(r).map(([a,s])=>{const{init:o,bind:u,empty:c,...h}=s;h.type==="single"?(h.type="point",h.toggle=!1):h.type==="multi"&&(h.type="point"),n.emptySelections[a]=c!=="none";for(const d of ir(n.selectionPredicates[a]??{}))d.empty=c!=="none";return{name:a,value:o,select:h,bind:u}})}:t}}function aI(e,t){const{transform:n,...r}=e;if(n){const i=n.map(a=>{if(P5(a))return{filter:d4(a,t)};if(zY(a)&&k0(a.bin))return{...a,bin:PY(a.bin)};if(IY(a)){const{selection:s,...o}=a.from;return s?{...a,from:{param:s,...o}}:a}return a});return{...r,transform:i}}return e}function BY(e,t){const n=ft(e);if(Ne(n)&&k0(n.bin)&&(n.bin=PY(n.bin)),O0(n)&&n.scale?.domain?.selection){const{selection:r,...i}=n.scale.domain;n.scale.domain={...i,...r?{param:r}:{}}}if(ax(n))if(Ae(n.condition))n.condition=n.condition.map(r=>{const{selection:i,param:a,test:s,...o}=r;return a?r:{...o,test:d4(r,t)}});else{const{selection:r,param:i,test:a,...s}=BY(n.condition,t);n.condition=i?n.condition:{...s,test:d4(n.condition,t)}}return n}function PY(e){const t=e.extent;if(t?.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function d4(e,t){const n=r=>Jh(r,i=>{const a=t.emptySelections[i]??!0,s={param:i,empty:a};return t.selectionPredicates[i]??=[],t.selectionPredicates[i].push(s),s});return e.selection?n(e.selection):Jh(e.test||e.filter,r=>r.selection?n(r.selection):r)}class g4 extends B5{map(t,n){const r=n.selections??[];if(t.params&&!au(t)){const i=[];for(const a of t.params)L5(a)?r.push(a):i.push(a);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),a=[];for(const s of r)if(!s.views||!s.views.length)a.push(s);else for(const o of s.views)(Ge(o)&&(o===t.name||i.includes(o))||Ae(o)&&o.map(u=>i.indexOf(u)).every((u,c,h)=>u!==-1&&(c===0||u>h[c-1])))&&a.push(s);return a.length&&(t.params=a),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=g4.prototype[e];g4.prototype[e]=function(n,r){return t.call(this,n,lTe(n,r))}}function lTe(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function UY(e,t){t===void 0&&(t=OY(e.config));const n=hTe(e,t),{width:r,height:i}=e,a=dTe(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...a?{autosize:a}:{}}}const uTe=new PAe,cTe=new oTe,fTe=new g4;function hTe(e,t={}){const n={config:t};return fTe.map(uTe.map(cTe.map(e,n),n),n)}function sI(e){return Ge(e)?{type:e}:e??{}}function dTe(e,t,n){let{width:r,height:i}=t;const a=au(e)||ME(e),s={};a?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&($e(OL("width")),r=void 0),i=="container"&&($e(OL("height")),i=void 0));const o={type:"pad",...s,...n?sI(n.autosize):{},...sI(e.autosize)};if(o.type==="fit"&&!a&&($e(sEe),o.type="pad"),r=="container"&&!(o.type=="fit"||o.type=="fit-x")&&$e(ML("width")),i=="container"&&!(o.type=="fit"||o.type=="fit-y")&&$e(ML("height")),!wa(o,{type:"pad"}))return o}function gTe(e){return["fit","fit-x","fit-y"].includes(e)}function pTe(e){return e?`fit-${gE(e)}`:"fit"}const mTe=["background","padding"];function oI(e,t){const n={};for(const r of mTe)e&&e[r]!==void 0&&(n[r]=ba(e[r]));return t&&(n.params=e.params),n}class su{explicit;implicit;constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new su(ft(this.explicit),ft(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return Xn(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of De(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function xo(e){return{explicit:!0,value:e}}function xa(e){return{explicit:!1,value:e}}function HY(e){return(t,n,r,i)=>{const a=e(t.value,n.value);return a>0?t:a<0?n:RE(t,n,r,i)}}function RE(e,t,n,r){return e.explicit&&t.explicit&&$e(YEe(n,r,e.value,t.value)),e}function bc(e,t,n,r,i=RE){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:wa(e.value,t.value)?e:i(e,t,n,r)}class xTe extends su{explicit;implicit;parseNothing;constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function Ld(e){return Oe(e,"url")}function sm(e){return Oe(e,"values")}function jY(e){return Oe(e,"name")&&!Ld(e)&&!sm(e)&&!sc(e)}function sc(e){return e&&(qY(e)||GY(e)||U5(e))}function qY(e){return Oe(e,"sequence")}function GY(e){return Oe(e,"sphere")}function U5(e){return Oe(e,"graticule")}var Rn;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup",e[e.PreFilterInvalid=5]="PreFilterInvalid",e[e.PostFilterInvalid=6]="PostFilterInvalid"})(Rn||(Rn={}));function VY({invalid:e,isPath:t}){switch(PW(e,{isPath:t})){case"filter":return{marks:"exclude-invalid-values",scales:"exclude-invalid-values"};case"break-paths-show-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"include-invalid-values"};case"break-paths-filter-domains":return{marks:t?"include-invalid-values":"exclude-invalid-values",scales:"exclude-invalid-values"};case"show":return{marks:"include-invalid-values",scales:"include-invalid-values"}}}function yTe(e){const{marks:t,scales:n}=VY(e);return t===n?Rn.Main:n==="include-invalid-values"?Rn.PreFilterInvalid:Rn.PostFilterInvalid}class sn{debugName;_children=[];_parent=null;_hash;constructor(t,n){this.debugName=n,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){$e(SEe);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}class ta extends sn{type;refCounts;_source;_name;clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${HX()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}}function MT(e){return e.as!==void 0}function lI(e){return`${e}_end`}class ko extends sn{timeUnits;clone(){return new ko(null,ft(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,s)=>{const{field:o,timeUnit:u}=a;if(u){let c;if(D0(u)){if(Mn(n)){const{mark:h,markDef:d,config:p}=n,m=_c({fieldDef:a,markDef:d,config:p});(am(h)||m)&&(c={timeUnit:Tr(u),field:o})}}else c={as:Ue(a,{forAs:!0}),field:o,timeUnit:u};if(Mn(n)){const{mark:h,markDef:d,config:p}=n,m=_c({fieldDef:a,markDef:d,config:p});am(h)&&Wn(s)&&m!==.5&&(c.rectBandPosition=m)}c&&(i[Dt(c)]=c)}return i},{});return dn(r)?null:new ko(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},a=Tr(r),s={...i,timeUnit:a};return new ko(t,{[Dt(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of yc(this.timeUnits)){const a=MT(i)?i.as:`${i.field}_end`;t.has(a)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(ir(this.timeUnits).map(t=>MT(t)?t.as:lI(t.field)))}dependentFields(){return new Set(ir(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Dt(this.timeUnits)}`}assemble(){const t=[];for(const n of ir(this.timeUnits)){const{rectBandPosition:r}=n,i=Tr(n.timeUnit);if(MT(n)){const{field:a,as:s}=n,{unit:o,utc:u,...c}=i,h=[s,`${s}_end`];t.push({field:fs(a),type:"timeunit",...o?{units:yE(o)}:{},...u?{timezone:"utc"}:{},...c,as:h}),t.push(...uI(h,r,i))}else if(n){const{field:a}=n,s=PX(a),o=XY({timeUnit:i,field:s}),u=lI(s);t.push({type:"formula",expr:o,as:u}),t.push(...uI([s,u],r,i))}}return t}}const NE="offsetted_rect_start",$E="offsetted_rect_end";function XY({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,a=SW(r),{part:s,step:o}=kW(a,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', ${rn(t)}, ${n?-o:o})`}function uI([e,t],n,r){if(n!==void 0&&n!==.5){const i=rn(e),a=rn(t);return[{type:"formula",expr:cI([XY({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${NE}`},{type:"formula",expr:cI([i,a],n+.5),as:`${e}_${$E}`}]}return[]}function cI([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const ux="_tuple_fields";class vTe{hasChannel;hasField;hasSelectionId;timeUnit;items;constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const _Te={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??=new vTe,a={},s={},o=new Set,u=(y,v)=>{const _=v==="visual"?y.channel:y.field;let E=Cn(`${r}_${_}`);for(let w=1;o.has(E);w++)E=Cn(`${r}_${_}_${w}`);return o.add(E),{[v]:E}},c=t.type,h=e.config.selection[c],d=n.value!==void 0?Ve(n.value):null;let{fields:p,encodings:m}=qe(n.select)?n.select:{};if(!p&&!m&&d){for(const y of d)if(qe(y))for(const v of De(y))Rbe(v)?(m||(m=[])).push(v):c==="interval"?($e(mEe),m=h.encodings):(p??=[]).push(v)}!p&&!m&&(m=h.encodings,"fields"in h&&(p=h.fields));for(const y of m??[]){const v=e.fieldDef(y);if(v){let _=v.field;if(v.aggregate){$e(oEe(y,v.aggregate));continue}else if(!_){$e(NL(y));continue}if(v.timeUnit&&!D0(v.timeUnit)){_=e.vgField(y);const E={timeUnit:v.timeUnit,as:_,field:v.field};s[Dt(E)]=E}if(!a[_]){const E=c==="interval"&&Qo(y)&&Vs(e.getScaleComponent(y).get("type"))?"R":v.bin?"R-RE":"E",w={field:_,channel:y,type:E,index:i.items.length};w.signals={...u(w,"data"),...u(w,"visual")},i.items.push(a[_]=w),i.hasField[_]=a[_],i.hasSelectionId=i.hasSelectionId||_===Ys,WX(y)?(w.geoChannel=y,w.channel=XX(y),i.hasChannel[w.channel]=a[_]):i.hasChannel[y]=a[_]}}else $e(NL(y))}for(const y of p??[]){if(i.hasField[y])continue;const v={type:"E",field:y,index:i.items.length};v.signals={...u(v,"data")},i.items.push(v),i.hasField[y]=v,i.hasSelectionId=i.hasSelectionId||y===Ys}d&&(t.init=d.map(y=>i.items.map(v=>qe(y)?y[v.geoChannel||v.channel]!==void 0?y[v.geoChannel||v.channel]:y[v.field]:y))),dn(s)||(i.timeUnit=new ko(null,s))},signals:(e,t,n)=>{const r=t.name+ux;return n.filter(a=>a.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(QY)})}},WY="_curr",e2="anim_value",zh="anim_clock",p4="eased_anim_clock",YY="min_extent",KY="max_range_extent",RT="last_tick_at",NT="is_playing",bTe=1/60*1e3,ETe=(e,t)=>[{name:p4,update:zh},{name:`${e}_domain`,init:`domain('${t}')`},{name:YY,init:`extent(${e}_domain)[0]`},{name:KY,init:`extent(range('${t}'))[1]`},{name:e2,update:`invert('${t}', ${p4})`}],STe={defined:e=>e.type==="point",topLevelSignals:(e,t,n)=>(Co(t)&&(n=n.concat([{name:zh,init:"0",on:[{events:{type:"timer",throttle:bTe},update:`${NT} ? (${zh} + (now() - ${RT}) > ${KY} ? 0 : ${zh} + (now() - ${RT})) : ${zh}`}]},{name:RT,init:"now()",on:[{events:[{signal:zh},{signal:NT}],update:"now()"}]},{name:NT,init:"true"}])),n),signals:(e,t,n)=>{const r=t.name,i=r+ux,a=t.project,s="(item().isVoronoi ? datum.datum : datum)",o=ir(e.component.selection??{}).reduce((h,d)=>d.type==="interval"?h.concat(d.name+nd):h,[]).map(h=>`indexof(item().mark.name, '${h}') < 0`).join(" && "),u=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${o?` && ${o}`:""}`;let c=`unit: ${Pf(e)}, `;if(t.project.hasSelectionId)c+=`${Ys}: ${s}[${ze(Ys)}]`;else if(Co(t))c+=`fields: ${i}, values: [${e2} ? ${e2} : ${YY}]`;else{const h=a.items.map(d=>e.fieldDef(d.channel)?.bin?`[${s}[${ze(e.vgField(d.channel,{}))}], ${s}[${ze(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${ze(d.field)}]`).join(", ");c+=`fields: ${i}, values: [${h}]`}if(Co(t))return n.concat(ETe(t.name,e.scaleName(Rc)),[{name:r+Kl,on:[{events:[{signal:p4},{signal:e2}],update:`{${c}}`,force:!0}]}]);{const h=t.events;return n.concat([{name:r+Kl,on:h?[{events:h,update:`${u} ? {${c}} : null`,force:!0}]:[]}])}}};function QY(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=fs(i.field),i}function c0(e,t=!0,n=di){if(Ae(e)){const r=e.map(i=>c0(i,t,n));return t?`[${r.join(", ")}]`:r}else if(F0(e))return n(t?s0(e):_Se(e));return t?n(en(e)):e}function wTe(e,t){for(const n of ir(e.component.selection??{})){const r=n.name;let i=`${r}${Kl}, ${n.resolve==="global"?"true":`{unit: ${Pf(e)}}`}`;for(const a of LE)a.defined(n)&&(a.signals&&(t=a.signals(e,n,t)),a.modifyExpr&&(i=a.modifyExpr(e,n,i)));t.push({name:r+QTe,on:[{events:{signal:n.name+Kl},update:`modify(${ze(n.name+f0)}, ${i})`}]})}return H5(t)}function ATe(e,t){if(e.component.selection&&De(e.component.selection).length){const n=ze(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:Oc("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return H5(t)}function TTe(e,t){let n=!1;for(const r of ir(e.component.selection??{})){const i=r.name,a=ze(i+f0);if(t.filter(o=>o.name===i).length===0){const o=r.resolve==="global"?"union":r.resolve,u=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${pK}(${a}, ${ze(o)}${u}`})}n=!0;for(const o of LE)o.defined(r)&&o.topLevelSignals&&(t=o.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),H5(t)}function kTe(e,t){const n=[],r=[],i=Pf(e,{escape:!1});for(const a of ir(e.component.selection??{})){const s={name:a.name+f0};if(a.project.hasSelectionId&&(s.transform=[{type:"collect",sort:{field:Ys}}]),a.init){const u=a.project.items.map(QY);s.values=a.project.hasSelectionId?a.init.map(c=>({unit:i,[Ys]:c0(c,!1)[0]})):a.init.map(c=>({unit:i,fields:u,values:c0(c,!1)}))}if([...n,...t].filter(u=>u.name===a.name+f0).length||n.push(s),Co(a)&&t.length){const u=e.lookupDataSource(e.getDataName(Rn.Main)),c=t.find(d=>d.name===u),h=c.transform.find(d=>d.type==="filter"&&d.expr.includes("vlSelectionTest"));if(h){c.transform=c.transform.filter(p=>p!==h);const d={name:c.name+WY,source:c.name,transform:[h]};r.push(d)}}}return n.concat(t,r)}function ZY(e,t){for(const n of ir(e.component.selection??{}))for(const r of LE)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function CTe(e,t){for(const n of e.children)Mn(n)&&(t=ZY(n,t));return t}function FTe(e,t,n,r){const i=_K(e,t.param,t);return{signal:Vs(n.get("type"))&&Ae(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function H5(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}const Ul={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Qo(i))continue;const a=e.getScaleComponent(i),s=a?a.get("type"):void 0;if(s=="sequential"&&$e(fEe),!a||!Vs(s)){$e(cEe);continue}a.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(o=>o.name===s.signals.data).length===0);if(!e.parent||x4(e)||r.length===0)return n;const i=n.find(s=>s.name===t.name);let a=i.update;if(a.includes(pK))i.update=`{${r.map(s=>`${ze(fs(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const o=`${ze(fs(s.field))}: ${s.signals.data}`;a.includes(o)||(a=`${a.substring(0,a.length-1)}, ${o}}`)}i.update=a}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!x4(e))for(const r of t.scales){const i=n.find(a=>a.name===r.signals.data);i.push="outer",delete i.value,delete i.update}return n}};function m4(e,t){return`domain(${ze(e.scaleName(t))})`}function x4(e){return e.parent&&pg(e.parent)&&(!e.parent.parent||x4(e.parent.parent))}const nd="_brush",JY="_scale_trigger",R1="geo_interval_init_tick",eK="_init",DTe="_center",OTe={defined:e=>e.type==="interval",parse:(e,t,n)=>{if(e.hasProjection){const r={...qe(n.select)?n.select:{}};r.fields=[Ys],r.encodings||(r.encodings=n.value?De(n.value):[no,to]),n.select={type:"interval",...r}}if(t.translate&&!Ul.defined(t)){const r=`!event.item || event.item.mark.name !== ${ze(t.name+nd)}`;for(const i of t.events){if(!i.between){$e(`${i} is not an ordered event stream for interval selections.`);continue}const a=Ve(i.between[0].filter??=[]);a.includes(r)||a.push(r)}}},signals:(e,t,n)=>{const r=t.name,i=r+Kl,a=ir(t.project.hasChannel).filter(o=>o.channel===Fn||o.channel===Dr),s=t.init?t.init[0]:null;if(n.push(...a.reduce((o,u)=>o.concat(MTe(e,t,u,s?.[u.index])),[])),e.hasProjection){const o=ze(e.projectionName()),u=e.projectionName()+DTe,{x:c,y:h}=t.project.hasChannel,d=c?.signals.visual,p=h?.signals.visual,m=c?s?.[c.index]:`${u}[0]`,y=h?s?.[h.index]:`${u}[1]`,v=D=>e.getSizeSignalRef(D).signal,_=`[[${d?`${d}[0]`:"0"}, ${p?`${p}[0]`:"0"}],[${d?`${d}[1]`:v("width")}, ${p?`${p}[1]`:v("height")}]]`;s&&(n.unshift({name:r+eK,init:`[scale(${o}, [${c?m[0]:m}, ${h?y[0]:y}]), scale(${o}, [${c?m[1]:m}, ${h?y[1]:y}])]`}),(!c||!h)&&(n.find(O=>O.name===u)||n.unshift({name:u,update:`invert(${o}, [${v("width")}/2, ${v("height")}/2])`})));const E=`intersect(${_}, {markname: ${ze(e.getName("marks"))}}, unit.mark)`,w=`{unit: ${Pf(e)}}`,A=`vlSelectionTuples(${E}, ${w})`,k=a.map(D=>D.signals.visual);return n.concat({name:i,on:[{events:[...k.length?[{signal:k.join(" || ")}]:[],...s?[{signal:R1}]:[]],update:A}]})}else{if(!Ul.defined(t)){const c=r+JY,h=a.map(d=>{const p=d.channel,{data:m,visual:y}=d.signals,v=ze(e.scaleName(p)),_=e.getScaleComponent(p).get("type"),E=Vs(_)?"+":"";return`(!isArray(${m}) || (${E}invert(${v}, ${y})[0] === ${E}${m}[0] && ${E}invert(${v}, ${y})[1] === ${E}${m}[1]))`});h.length&&n.push({name:c,value:{},on:[{events:a.map(d=>({scale:e.scaleName(d.channel)})),update:`${h.join(" && ")} ? ${c} : {}`}]})}const o=a.map(c=>c.signals.data),u=`unit: ${Pf(e)}, fields: ${r+ux}, values`;return n.concat({name:i,...s?{init:`{${u}: ${c0(s)}}`}:{},...o.length?{on:[{events:[{signal:o.join(" || ")}],update:`${o.join(" && ")} ? {${u}: [${o}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Mn(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===R1).length||n.unshift({name:R1,value:null,on:[{events:"timer{1}",update:`${R1} === null ? {} : ${R1}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:a}=t.project.hasChannel,s=i?.signals.visual,o=a?.signals.visual,u=`data(${ze(t.name+f0)})`;if(Ul.defined(t)||!i&&!a)return n;const c={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:a!==void 0?{signal:`${o}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:a!==void 0?{signal:`${o}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const _ of De(c))c[_]=[{test:`${u}.length && ${u}[0].unit === ${Pf(e)}`,...c[_]},{value:0}];const{fill:h,fillOpacity:d,cursor:p,...m}=t.mark,y=De(m).reduce((_,E)=>(_[E]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,a!==void 0&&`${o}[0] !== ${o}[1]`].filter(w=>w).join(" && "),value:m[E]},{value:null}],_),{}),v=p??(t.translate?"move":null);return[{name:`${r+nd}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:h},fillOpacity:{value:d}},update:c}},...n,{name:r+nd,type:"rect",clip:!0,encode:{enter:{...v?{cursor:{value:v}}:{},fill:{value:"transparent"}},update:{...c,...y}}}]}};function MTe(e,t,n,r){const i=!e.hasProjection,a=n.channel,s=n.signals.visual,o=ze(i?e.scaleName(a):e.projectionName()),u=p=>`scale(${o}, ${p})`,c=e.getSizeSignalRef(a===Fn?"width":"height").signal,h=`${a}(unit)`,d=t.events.reduce((p,m)=>[...p,{events:m.between[0],update:`[${h}, ${h}]`},{events:m,update:`[${s}[0], clamp(${h}, 0, ${c})]`}],[]);if(i){const p=n.signals.data,m=Ul.defined(t),y=e.getScaleComponent(a),v=y?y.get("type"):void 0,_=r?{init:c0(r,!0,u)}:{value:[]};return d.push({events:{signal:t.name+JY},update:Vs(v)?`[${u(`${p}[0]`)}, ${u(`${p}[1]`)}]`:"[0, 0]"}),m?[{name:p,on:[]}]:[{name:s,..._,on:d},{name:p,...r?{init:c0(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${o}, ${s})`}]}]}else{const p=a===Fn?0:1,m=t.name+eK,y=r?{init:`[${m}[0][${p}], ${m}[1][${p}]]`}:{value:[]};return[{name:s,...y,on:d}]}}function fg({model:e,channelDef:t,vgChannel:n,invalidValueRef:r,mainRefFn:i}){const a=ax(t)&&t.condition;let s=[];a&&(s=Ve(a).map(c=>{const h=i(c);if(vwe(c)){const{param:d,empty:p}=c;return{test:vK(e,{param:d,empty:p}),...h}}else return{test:D_(e,c.test),...h}})),r!==void 0&&s.push(r);const o=i(t);return o!==void 0&&s.push(o),s.length>1||s.length===1&&s[0].test?{[n]:s}:s.length===1?{[n]:s[0]}:{}}function j5(e,t="text"){const n=e.encoding[t];return fg({model:e,channelDef:n,vgChannel:t,mainRefFn:r=>q5(r,e.config),invalidValueRef:void 0})}function q5(e,t,n="datum"){if(e){if(Xs(e))return En(e.value);if(ht(e)){const{format:r,formatType:i}=w_(e);return S5({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function tK(e,t={}){const{encoding:n,markDef:r,config:i,stack:a}=e,s=n.tooltip;if(Ae(s))return{tooltip:fI({tooltip:s},a,i,t)};{const o=t.reactiveGeom?"datum.datum":"datum";return fg({model:e,channelDef:s,vgChannel:"tooltip",mainRefFn:c=>{const h=rK(c,i,o);if(h)return h;if(c===null)return;let d=Jt("tooltip",r,i);if(d===!0&&(d={content:"encoding"}),Ge(d))return{value:d};if(qe(d))return et(d)?d:d.content==="encoding"?fI(n,a,i,t):{signal:o}},invalidValueRef:void 0})}}function nK(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},a=new Set,s=r?"datum.datum":"datum",o=[];function u(h,d){const p=T0(d),m=zi(h)?h:{...h,type:e[p].type},y=m.title||k5(m,i),v=Ve(y).join(", ").replaceAll(/"/g,'\\"');let _;if(Wn(d)){const E=d==="x"?"x2":"y2",w=Ws(e[E]);if($r(m.bin)&&w){const A=Ue(m,{expr:s}),k=Ue(w,{expr:s}),{format:D,formatType:O}=w_(m);_=rx(A,k,D,O,i),a.add(E)}}if((Wn(d)||d===ps||d===eo)&&t&&t.fieldChannel===d&&t.offset==="normalize"){const{format:E,formatType:w}=w_(m);_=S5({fieldOrDatumDef:m,format:E,formatType:w,expr:s,config:i,normalizeStack:!0}).signal}_??=rK(m,i,s).signal,o.push({channel:d,key:v,value:_})}F5(e,(h,d)=>{Ne(h)?u(h,d):TE(h)&&u(h.condition,d)});const c={};for(const{channel:h,key:d,value:p}of o)!a.has(h)&&!c[d]&&(c[d]=p);return c}function fI(e,t,n,{reactiveGeom:r}={}){const i=nK(e,t,n,{reactiveGeom:r}),a=yc(i).map(([s,o])=>`"${s}": ${o}`);return a.length>0?{signal:`{${a.join(", ")}}`}:void 0}function rK(e,t,n="datum"){if(Ne(e)&&d5(e.type)&&!Oe(e,"format")){const r=`datum["${e.field}"]`;return{signal:`isValid(${r}) ? isArray(${r}) ? join(${r}, '\\n') : ${r} : ""+${r}`}}return q5(e,t,n)}function RTe(e){const{markDef:t,config:n}=e,r=Jt("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...NTe(e),...$Te(e)}}function NTe(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=Jt("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:We(nEe,t)?{}:{ariaRoleDescription:{value:t}}}function $Te(e){const{encoding:t,markDef:n,config:r,stack:i}=e,a=t.description;if(a)return fg({model:e,channelDef:a,vgChannel:"description",mainRefFn:u=>q5(u,e.config),invalidValueRef:void 0});const s=Jt("description",n,r);if(s!=null)return{description:En(s)};if(r.aria===!1)return{};const o=nK(t,i,r);if(!dn(o))return{description:{signal:yc(o).filter(([u])=>!u.startsWith("_")).map(([u,c])=>[u,c.replaceAll("\\n"," ")]).map(([u,c],h)=>`"${h>0?"; ":""}${u}: " + (${c})`).join(" + ")}}}function Br(e,t,n={}){const{markDef:r,encoding:i,config:a}=t,{vgChannel:s}=n;let{defaultRef:o,defaultValue:u}=n;const c=i[e];o===void 0&&(u??=Jt(e,r,a,{vgChannel:s,ignoreVgConfig:!ax(c)}),u!==void 0&&(o=En(u)));const h={markDef:r,config:a,scaleName:t.scaleName(e),scale:t.getScaleComponent(e)},d=HW({...h,scaleChannel:e,channelDef:c});return fg({model:t,channelDef:c,vgChannel:s??e,invalidValueRef:d,mainRefFn:m=>E5({...h,channel:e,channelDef:m,stack:null,defaultRef:o})})}function iK(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:a}=n,s=t.filled??Jt("filled",n,i),o=At(["bar","point","circle","square","geoshape"],a)?"transparent":void 0,u=Jt(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??o,c=Jt(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],h=s?"fill":"stroke",d={...u?{fill:En(u)}:{},...c?{stroke:En(c)}:{}};return n.color&&(s?n.fill:n.stroke)&&$e(gW("property",{fill:"fill"in n,stroke:"stroke"in n})),{...d,...Br("color",e,{vgChannel:h,defaultValue:s?u:c}),...Br("fill",e,{defaultValue:r.fill?u:void 0}),...Br("stroke",e,{defaultValue:r.stroke?c:void 0})}}function LTe(e){const{encoding:t,mark:n}=e,r=t.order;return!Bc(n)&&Xs(r)?fg({model:e,channelDef:r,vgChannel:"zindex",mainRefFn:i=>En(i.value),invalidValueRef:void 0}):{}}function Id({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const a=`${e}Offset`,s=t[a],o=n[a];if((a==="xOffset"||a==="yOffset")&&o)return{offsetType:"encoding",offset:E5({channel:a,channelDef:o,markDef:t,config:r?.config,scaleName:r.scaleName(a),scale:r.getScaleComponent(a),stack:null,defaultRef:En(s),bandPosition:i})};const u=t[a];return u?{offsetType:"visual",offset:u}:{}}function Oi(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:a,config:s,stack:o}=t,u=i[e],c=i[Ko(e)],h=t.scaleName(e),d=t.getScaleComponent(e),{offset:p,offsetType:m}=Id({channel:e,markDef:a,encoding:i,model:t,bandPosition:.5}),y=G5({model:t,defaultPos:n,channel:e,scaleName:h,scale:d}),v=!u&&Wn(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:ITe({channel:e,channelDef:u,channel2Def:c,markDef:a,config:s,scaleName:h,scale:d,stack:o,offset:p,defaultRef:y,bandPosition:m==="encoding"?0:void 0});return v?{[r||e]:v}:void 0}function ITe(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:a,markDef:s}=e;if(ht(n)&&i&&t===i.fieldChannel){if(Ne(n)){let o=n.bandPosition;if(o===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(o=.5),o!==void 0)return b_({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:o,offset:a})}return zf(n,r,{suffix:"end"},{offset:a})}return b5(e)}function G5({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:a,config:s}=e;return()=>{const o=T0(n),u=vc(n),c=Jt(n,a,s,{vgChannel:u});if(c!==void 0)return Sp(n,c);switch(t){case"zeroOrMin":return hI({scaleName:r,scale:i,mode:"zeroOrMin",mainChannel:o,config:s});case"zeroOrMax":return hI({scaleName:r,scale:i,mode:{zeroOrMax:{widthSignal:e.width.signal,heightSignal:e.height.signal}},mainChannel:o,config:s});case"mid":return{...e[oa(n)],mult:.5}}}}function hI({mainChannel:e,config:t,...n}){const r=UW(n),{mode:i}=n;if(r)return r;switch(e){case"radius":{if(i==="zeroOrMin")return{value:0};const{widthSignal:a,heightSignal:s}=i.zeroOrMax;return{signal:`min(${a},${s})/2`}}case"theta":return i==="zeroOrMin"?{value:0}:{signal:"2*PI"};case"x":return i==="zeroOrMin"?{value:0}:{field:{group:"width"}};case"y":return i==="zeroOrMin"?{field:{group:"height"}}:{value:0}}}const zTe={left:"x",center:"xc",right:"x2"},BTe={top:"y",middle:"yc",bottom:"y2"};function aK(e,t,n,r="middle"){if(e==="radius"||e==="theta")return vc(e);const i=e==="x"?"align":"baseline",a=Jt(i,t,n);let s;return et(a)?($e(zEe(i)),s=void 0):s=a,e==="x"?zTe[s||(r==="top"?"left":"center")]:BTe[s||r]}function C_(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?sK(e,t,{defaultPos:n,defaultPos2:r}):Oi(e,t,{defaultPos:n})}function sK(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:a}=t,s=Ko(e),o=oa(e),u=PTe(t,r,s),c=u[o]?aK(e,i,a):vc(e);return{...Oi(e,t,{defaultPos:n,vgChannel:c}),...u}}function PTe(e,t,n){const{encoding:r,mark:i,markDef:a,stack:s,config:o}=e,u=T0(n),c=oa(n),h=vc(n),d=r[u],p=e.scaleName(u),m=e.getScaleComponent(u),{offset:y}=n in r||n in a?Id({channel:n,markDef:a,encoding:r,model:e}):Id({channel:u,markDef:a,encoding:r,model:e});if(!d&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const _=oa(n),E=e.markDef[_];return E!=null?{[_]:{value:E}}:{[h]:{field:e.getName(n)}}}const v=UTe({channel:n,channelDef:d,channel2Def:r[n],markDef:a,config:o,scaleName:p,scale:m,stack:s,offset:y,defaultRef:void 0});return v!==void 0?{[h]:v}:cv(n,a)||cv(n,{[n]:i4(n,a,o.style),[c]:i4(c,a,o.style)})||cv(n,o[i])||cv(n,o.mark)||{[h]:G5({model:e,defaultPos:t,channel:n,scaleName:p,scale:m})()}}function UTe({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:a,scale:s,stack:o,offset:u,defaultRef:c}){return ht(t)&&o&&e.charAt(0)===o.fieldChannel.charAt(0)?zf(t,a,{suffix:"start"},{offset:u}):b5({channel:e,channelDef:n,scaleName:a,scale:s,stack:o,markDef:r,config:i,offset:u,defaultRef:c})}function cv(e,t){const n=oa(e),r=vc(e);if(t[r]!==void 0)return{[r]:Sp(e,t[r])};if(t[e]!==void 0)return{[r]:Sp(e,t[e])};if(t[n]){const i=t[n];if(l0(i))$e(MEe(n));else return{[n]:Sp(e,i)}}}function Yl(e,t){const{config:n,encoding:r,markDef:i}=e,a=i.type,s=Ko(t),o=oa(t),u=r[t],c=r[s],h=e.getScaleComponent(t),d=h?h.get("type"):void 0,p=i.orient,m=r[o]??r.size??Jt("size",i,n,{vgChannel:o}),y=ZX(t),v=a==="bar"&&(t==="x"?p==="vertical":p==="horizontal")||a==="tick"&&(t==="y"?p==="vertical":p==="horizontal");return Ne(u)&&(xn(u.bin)||$r(u.bin)||u.timeUnit&&!c)&&!(m&&!l0(m))&&!r[y]&&!Cr(d)?qTe({fieldDef:u,fieldDef2:c,channel:t,model:e}):(ht(u)&&Cr(d)||v)&&!c?jTe(u,t,e):sK(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function HTe(e,t,n,r,i,a,s){if(l0(i))if(n){const u=n.get("type");if(u==="band"){let c=`bandwidth('${t}')`;i.band!==1&&(c=`${i.band} * ${c}`);const h=Lo("minBandSize",{type:s},r);return{signal:h?`max(${Ls(h)}, ${c})`:c}}else i.band!==1&&($e(HEe(u)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(et(i))return i;if(i)return{value:i}}if(n){const u=n.get("range");if(C0(u)&&jt(u.step))return{value:u.step-2}}if(!a){const{bandPaddingInner:u,barBandPaddingInner:c,rectBandPaddingInner:h,tickBandPaddingInner:d}=r.scale,p=Xn(u,s==="tick"?d:s==="bar"?c:h);if(et(p))return{signal:`(1 - (${p.signal})) * ${e}`};if(jt(p))return{signal:`${1-p} * ${e}`}}return{value:f4(r.view,e)-2}}function jTe(e,t,n){const{markDef:r,encoding:i,config:a,stack:s}=n,o=r.orient,u=n.scaleName(t),c=n.getScaleComponent(t),h=oa(t),d=Ko(t),p=ZX(t),m=n.scaleName(p),y=n.getScaleComponent(XD(t)),v=r.type==="tick"||o==="horizontal"&&t==="y"||o==="vertical"&&t==="x";let _;(i.size||r.size)&&(v?_=Br("size",n,{vgChannel:h,defaultRef:En(r.size)}):$e(VEe(r.type)));const E=!!_,w=YW({channel:t,fieldDef:e,markDef:r,config:a,scaleType:(c||y)?.get("type"),useVlSizeChannel:v});_=_||{[h]:HTe(h,m||u,y||c,a,w,!!e,r.type)};const A=(c||y)?.get("type")==="band"&&l0(w)&&!E?"top":"middle",k=aK(t,r,a,A),D=k==="xc"||k==="yc",{offset:O,offsetType:T}=Id({channel:t,markDef:r,encoding:i,model:n,bandPosition:D?.5:0}),F=b5({channel:t,channelDef:e,markDef:r,config:a,scaleName:u,scale:c,stack:s,offset:O,defaultRef:G5({model:n,defaultPos:"mid",channel:t,scaleName:u,scale:c}),bandPosition:D?T==="encoding"?0:.5:et(w)?{signal:`(1-${w})/2`}:l0(w)?(1-w.band)/2:0});if(h)return{[k]:F,..._};{const C=vc(d),N=_[h],L=O?{...N,offset:O}:N;return{[k]:F,[C]:Ae(F)?[F[0],{...F[1],offset:L}]:{...F,offset:L}}}}function dI(e,t,n,r,i,a,s){if(VX(e))return 0;const o=e==="x"||e==="y2",u=o?-t/2:t/2;if(et(n)||et(i)||et(r)||a){const c=Ls(n),h=Ls(i),d=Ls(r),p=Ls(a),y=a?`(${s} < ${p} ? ${o?"":"-"}0.5 * (${p} - (${s})) : ${u})`:u,v=d?`${d} + `:"",_=c?`(${c} ? -1 : 1) * `:"",E=h?`(${h} + ${y})`:y;return{signal:v+_+E}}else return i=i||0,r+(n?-i-u:+i+u)}function qTe({fieldDef:e,fieldDef2:t,channel:n,model:r}){const{config:i,markDef:a,encoding:s}=r,o=r.getScaleComponent(n),u=r.scaleName(n),c=o?o.get("type"):void 0,h=o.get("reverse"),d=YW({channel:n,fieldDef:e,markDef:a,config:i,scaleType:c}),m=r.component.axes[n]?.[0]?.get("translate")??.5,y=Wn(n)?Jt("binSpacing",a,i)??0:0,v=Ko(n),_=vc(n),E=vc(v),w=Lo("minBandSize",a,i),{offset:A}=Id({channel:n,markDef:a,encoding:s,model:r,bandPosition:0}),{offset:k}=Id({channel:v,markDef:a,encoding:s,model:r,bandPosition:0}),D=gwe({fieldDef:e,scaleName:u}),O=dI(n,y,h,m,A,w,D),T=dI(v,y,h,m,k??A,w,D),F=et(d)?{signal:`(1-${d.signal})/2`}:l0(d)?(1-d.band)/2:.5,C=_c({fieldDef:e,fieldDef2:t,markDef:a,config:i});if(xn(e.bin)||e.timeUnit){const N=e.timeUnit&&C!==.5;return{[E]:gI({fieldDef:e,scaleName:u,bandPosition:F,offset:T,useRectOffsetField:N}),[_]:gI({fieldDef:e,scaleName:u,bandPosition:et(F)?{signal:`1-${F.signal}`}:1-F,offset:O,useRectOffsetField:N})}}else if($r(e.bin)){const N=zf(e,u,{},{offset:T});if(Ne(t))return{[E]:N,[_]:zf(t,u,{},{offset:O})};if(k0(e.bin)&&e.bin.step)return{[E]:N,[_]:{signal:`scale("${u}", ${Ue(e,{expr:"datum"})} + ${e.bin.step})`,offset:O}}}$e(xW(v))}function gI({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return b_({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:NE,endSuffix:$E}:{}})}const GTe=new Set(["aria","width","height"]);function ms(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?iK(e):{};return{...VTe(e.markDef,t),...pI("fill",n),...pI("stroke",r),...Br("opacity",e),...Br("fillOpacity",e),...Br("strokeOpacity",e),...Br("strokeWidth",e),...Br("strokeDash",e),...LTe(e),...tK(e),...j5(e,"href"),...RTe(e)}}function pI(e,t){return t?{[e]:t}:{}}function VTe(e,t){return tEe.reduce((n,r)=>(!GTe.has(r)&&Oe(e,r)&&t[r]!=="ignore"&&(n[r]=En(e[r])),n),{})}function V5(e){const{config:t,markDef:n}=e,r=new Set;if(e.forEachFieldDef((i,a)=>{let s;if(!Qo(a)||!(s=e.getScaleType(a)))return;const o=pE(i.aggregate),u=_5({scaleChannel:a,markDef:n,config:t,scaleType:s,isCountAggregate:o});if(fwe(u)){const c=e.vgField(a,{expr:"datum",binSuffix:e.stack?.impute?"mid":void 0});c&&r.add(c)}}),r.size>0)return{defined:{signal:[...r].map(a=>vE(a,!0)).join(" && ")}}}function mI(e,t){if(t!==void 0)return{[e]:En(t)}}const $T="voronoi",oK={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName($T)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,a=e.mark;if(Bc(a))return $e(lEe(a)),n;const s={name:e.getName($T),type:"path",interactive:!0,aria:!1,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...tK(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let o=0,u=!1;return n.forEach((c,h)=>{const d=c.name??"";d===e.component.mark[0].name?o=h:d.includes($T)&&(u=!0)}),u||n.splice(o+1,0,s),n}},lK={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!$5(e.bind),parse:(e,t,n)=>mK(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,a=t.bind,s=t.init?.[0],o=oK.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((u,c)=>{const h=Cn(`${r}_${u.field}`);n.filter(p=>p.name===h).length||n.unshift({name:h,...s?{init:c0(s[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${o}[${ze(u.field)}] : null`}]:[],bind:a[u.field]??a[u.channel]??a})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(c=>c.name===r+Kl),s=r+ux,o=i.items.map(c=>Cn(`${r}_${c.field}`)),u=o.map(c=>`${c} !== null`).join(" && ");return o.length&&(a.update=`${u} ? {fields: ${s}, values: [${o.join(", ")}]} : null`),delete a.value,delete a.on,n}},F_="_toggle",uK={defined:e=>e.type==="point"&&!Co(e)&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+F_,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+Kl,r=t.name+F_;return`${r} ? null : ${n}, ${t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${Pf(e)}}, `}${r} ? ${n} : null`}},XTe={defined:e=>e.clear!==void 0&&e.clear!==!1&&!Co(e),parse:(e,t)=>{t.clear&&(t.clear=Ge(t.clear)?Oc(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(lK.defined(t))for(const r of t.project.items){const i=n.findIndex(a=>a.name===Cn(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,a){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:a})}if(t.type==="interval")for(const i of t.project.items){const a=n.findIndex(s=>s.name===i.signals.visual);if(r(a,"[0, 0]"),a===-1){const s=n.findIndex(o=>o.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(a=>a.name===t.name+Kl);r(i,"null"),uK.defined(t)&&(i=n.findIndex(a=>a.name===t.name+F_),r(i,"false"))}return n}},cK={defined:e=>{const t=e.resolve==="global"&&e.bind&&$5(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==Ys;return t&&!n&&$e(hEe),t&&n},parse:(e,t,n)=>{const r=ft(n);if(r.select=Ge(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},mK(t,r),qe(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const o of t.events)o.filter=Ve(o.filter??[]),o.filter.includes(s)||o.filter.push(s)}const i=FT(t.bind)?t.bind.legend:"click",a=Ge(i)?Oc(i,"view"):Ve(i);t.bind={legend:{merge:a}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=FT(t.bind)&&t.bind.legend,a=s=>o=>{const u=ft(o);return u.markname=s,u};for(const s of t.project.items){if(!s.hasLegend)continue;const o=`${Cn(s.field)}_legend`,u=`${r}_${o}`;if(n.filter(h=>h.name===u).length===0){const h=i.merge.map(a(`${o}_symbols`)).concat(i.merge.map(a(`${o}_labels`))).concat(i.merge.map(a(`${o}_entries`)));n.unshift({name:u,...t.init?{}:{value:null},on:[{events:h,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${u}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,a=n.find(p=>p.name===r+Kl),s=r+ux,o=i.items.filter(p=>p.hasLegend).map(p=>Cn(`${r}_${Cn(p.field)}_legend`)),c=`${o.map(p=>`${p} !== null`).join(" && ")} ? {fields: ${s}, values: [${o.join(", ")}]} : null`;t.events&&o.length>0?a.on.push({events:o.map(p=>({signal:p})),update:c}):o.length>0&&(a.update=c,delete a.value,delete a.on);const h=n.find(p=>p.name===r+F_),d=FT(t.bind)&&t.bind.legend;return h&&(t.events?h.on.push({...h.on[0],events:d}):h.on[0].events=d),n}};function WTe(e,t,n){const r=e.fieldDef(t)?.field;for(const i of ir(e.component.selection??{})){const a=i.project.hasField[r]??i.project.hasChannel[t];if(a&&cK.defined(i)){const s=n.get("selections")??[];s.push(i.name),n.set("selections",s,!1),a.hasLegend=!0}}}const fK="_translate_anchor",hK="_translate_delta",YTe={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=Ul.defined(t),a=r+fK,{x:s,y:o}=t.project.hasChannel;let u=Oc(t.translate,"scope");return i||(u=u.map(c=>(c.between[0].markname=r+nd,c))),n.push({name:a,value:{},on:[{events:u.map(c=>c.between[0]),update:`{x: x(unit), y: y(unit)${s!==void 0?`, extent_x: ${i?m4(e,Fn):`slice(${s.signals.visual})`}`:""}${o!==void 0?`, extent_y: ${i?m4(e,Dr):`slice(${o.signals.visual})`}`:""}}`}]},{name:r+hK,value:{},on:[{events:u,update:`{x: ${a}.x - x(unit), y: ${a}.y - y(unit)}`}]}),s!==void 0&&xI(e,t,s,"width",n),o!==void 0&&xI(e,t,o,"height",n),n}};function xI(e,t,n,r,i){const a=t.name,s=a+fK,o=a+hK,u=n.channel,c=Ul.defined(t),h=i.find(D=>D.name===n.signals[c?"data":"visual"]),d=e.getSizeSignalRef(r).signal,p=e.getScaleComponent(u),m=p?.get("type"),y=p?.get("reverse"),v=c?u===Fn?y?"":"-":y?"-":"":"",_=`${s}.extent_${u}`,E=`${v}${o}.${u} / ${c?`${d}`:`span(${_})`}`,w=!c||!p?"panLinear":m==="log"?"panLog":m==="symlog"?"panSymlog":m==="pow"?"panPow":"panLinear",A=c?m==="pow"?`, ${p.get("exponent")??1}`:m==="symlog"?`, ${p.get("constant")??1}`:"":"",k=`${w}(${_}, ${E}${A})`;h.on.push({events:{signal:o},update:c?k:`clampRange(${k}, 0, ${d})`})}const dK="_zoom_anchor",gK="_zoom_delta",KTe={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=Ul.defined(t),a=r+gK,{x:s,y:o}=t.project.hasChannel,u=ze(e.scaleName(Fn)),c=ze(e.scaleName(Dr));let h=Oc(t.zoom,"scope");return i||(h=h.map(d=>(d.markname=r+nd,d))),n.push({name:r+dK,on:[{events:h,update:i?`{${[u?`x: invert(${u}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(d=>d).join(", ")}}`:"{x: x(unit), y: y(unit)}"}]},{name:a,on:[{events:h,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&yI(e,t,s,"width",n),o!==void 0&&yI(e,t,o,"height",n),n}};function yI(e,t,n,r,i){const a=t.name,s=n.channel,o=Ul.defined(t),u=i.find(w=>w.name===n.signals[o?"data":"visual"]),c=e.getSizeSignalRef(r).signal,h=e.getScaleComponent(s),d=h?.get("type"),p=o?m4(e,s):u.name,m=a+gK,y=`${a}${dK}.${s}`,v=!o||!h?"zoomLinear":d==="log"?"zoomLog":d==="symlog"?"zoomSymlog":d==="pow"?"zoomPow":"zoomLinear",_=o?d==="pow"?`, ${h.get("exponent")??1}`:d==="symlog"?`, ${h.get("constant")??1}`:"":"",E=`${v}(${p}, ${y}, ${m}${_})`;u.on.push({events:{signal:m},update:o?E:`clampRange(${E}, 0, ${c})`})}const f0="_store",Kl="_tuple",QTe="_modify",pK="vlSelectionResolve",LE=[STe,OTe,_Te,uK,lK,Ul,cK,XTe,YTe,KTe,oK];function ZTe(e){let t=e.parent;for(;t&&!Fa(t);)t=t.parent;return t}function Pf(e,{escape:t}={escape:!0}){let n=t?ze(e.name):e.name;const r=ZTe(e);if(r){const{facet:i}=r;for(const a of rs)i[a]&&(n+=` + '__facet_${a}_' + (facet[${ze(r.vgField(a))}])`)}return n}function X5(e){return ir(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function mK(e,t){(Ge(t.select)||!t.select.on)&&delete e.events,(Ge(t.select)||!t.select.clear)&&delete e.clear,(Ge(t.select)||!t.select.toggle)&&delete e.toggle}function Co(e){return e.events?.find(t=>"type"in t&&t.type==="timer")}function y4(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(...y4(e.object)),t.push(...y4(e.property))),t)}function xK(e){return e.object.type==="MemberExpression"?xK(e.object):e.object.name==="datum"}function yK(e){const t=cD(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&xK(r)&&n.add(y4(r).slice(1).join("."))}),n}class hg extends sn{model;filter;expr;_dependentFields;clone(){return new hg(null,this.model,ft(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=D_(this.model,this.filter,this),this._dependentFields=yK(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function JTe(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;let i=0;for(const a of t){const s=Cn(a.name),o=a.select,u=Ge(o)?o:o.type,c=qe(o)?ft(o):{type:u},h=r[u];for(const m in h)m==="fields"||m==="encodings"||(m==="mark"&&(c.mark={...h.mark,...c.mark}),(c[m]===void 0||c[m]===!0)&&(c[m]=ft(h[m]??c[m])));const d=n[s]={...c,name:s,type:u,init:a.value,bind:a.bind,events:Ge(c.on)?Oc(c.on,"scope"):Ve(ft(c.on))};if(Co(d)&&(i++,i>1)){delete n[s];continue}const p=ft(a);for(const m of LE)m.defined(d)&&m.parse&&m.parse(e,d,p)}return i>1&&$e(yEe),n}function vK(e,t,n,r="datum"){const i=Ge(t)?t:t.param,a=Cn(i),s=ze(a+f0);let o;try{o=e.getSelectionComponent(a,i)}catch{return`!!${a}`}if(o.project.timeUnit){const p=n??e.component.data.raw,m=o.project.timeUnit.clone();p.parent?m.insertAsParentOf(p):p.parent=m}const u=o.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=o.resolve==="global"?")":`, ${ze(o.resolve)})`,h=`${u}${s}, ${r}${c}`,d=`length(data(${s}))`;return t.empty===!1?`${d} && ${h}`:`!${d} || ${h}`}function _K(e,t,n){const r=Cn(t),i=n.encoding;let a=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!a)a=s.project.items[0].field,s.project.items.length>1&&$e(vEe(a));else if(i&&!a){const o=s.project.items.filter(u=>u.channel===i);!o.length||o.length>1?(a=s.project.items[0].field,$e(_Ee(o,i,n,a))):a=o[0].field}return`${s.name}[${ze(fs(a))}]`}function eke(e,t){for(const[n,r]of yc(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new ta(new hg(t,e,{param:n}),i,Rn.Lookup,e.component.data.outputNodeRefCounts)}}function D_(e,t,n){return Ep(t,r=>Ge(r)?r:FSe(r)?vK(e,r,n):FW(r))}function tke(e,t){if(e)return Ae(e)&&!Uu(e)?e.map(n=>k5(n,t)).join(", "):e}function LT(e,t,n,r){e.encode??={},e.encode[t]??={},e.encode[t].update??={},e.encode[t].update[n]=r}function ap(e,t,n,r={header:!1}){const{disable:i,orient:a,scale:s,labelExpr:o,title:u,zindex:c,...h}=e.combine();if(!i){for(const d in h){const p=d,m=Rwe[p],y=h[p];if(m&&m!==t&&m!=="both")delete h[p];else if(lx(y)){const{condition:v,..._}=y,E=Ve(v),w=VL[p];if(w){const{vgProp:A,part:k}=w,D=[...E.map(O=>{const{test:T,...F}=O;return{test:D_(null,T),...F}}),_];LT(h,k,A,D),delete h[p]}else if(w===null){const A={signal:E.map(k=>{const{test:D,...O}=k;return`${D_(null,D)} ? ${DL(O)} : `}).join("")+DL(_)};h[p]=A}}else if(et(y)){const v=VL[p];if(v){const{vgProp:_,part:E}=v;LT(h,E,_,y),delete h[p]}}At(["labelAlign","labelBaseline"],p)&&h[p]===null&&delete h[p]}if(t==="grid"){if(!h.grid)return;if(h.encode){const{grid:d}=h.encode;h.encode={...d?{grid:d}:{}},dn(h.encode)&&delete h.encode}return{scale:s,orient:a,...h,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:Xn(c,0)}}else{if(!r.header&&e.mainExtracted)return;if(o!==void 0){let p=o;h.encode?.labels?.update&&et(h.encode.labels.update.text)&&(p=r0(o,"datum.label",h.encode.labels.update.text.signal)),LT(h,"labels","text",{signal:p})}if(h.labelAlign===null&&delete h.labelAlign,h.encode){for(const p of aY)e.hasAxisPart(p)||delete h.encode[p];dn(h.encode)&&delete h.encode}const d=tke(u,n);return{scale:s,orient:a,grid:!1,...d?{title:d}:{},...h,...n.aria===!1?{aria:!1}:{},zindex:Xn(c,0)}}}}function bK(e){const{axes:t}=e.component,n=[];for(const r of iu)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const a=r==="x"?"height":"width",s=e.getSizeSignalRef(a).signal;a!==s&&n.push({name:a,update:s})}}return n}function nke(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>ap(i,"grid",t)),...r.map(i=>ap(i,"grid",t)),...n.map(i=>ap(i,"main",t)),...r.map(i=>ap(i,"main",t))].filter(i=>i)}function vI(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const a=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},o=t[n==="x"?"axisTop":"axisRight"]||{},u=new Set([...De(s),...De(o)]),c={};for(const h of u.values())c[h]={signal:`${r.signal} === "${a}" ? ${Ls(s[h])} : ${Ls(o[h])}`};return c}return t[i]})])}function rke(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:MW(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],a=e==="x"?"axisX":"axisY",s=et(n)?"axisOrient":`axis${Qm(n)}`,o=[...i,...i.map(c=>a+c.substr(4))],u=["axis",s,a];return{vlOnlyAxisConfig:vI(o,r,e,n),vgAxisConfig:vI(u,r,e,n),axisConfigStyle:ike([...u,...o],r)}}function ike(e,t){const n=[{}];for(const r of e){let i=t[r]?.style;if(i){i=Ve(i);for(const a of i)n.push(t.style[a])}}return Object.assign.apply(null,n)}function v4(e,t,n,r={}){const i=oW(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const a of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(r[a]?.[e]!==void 0)return{configFrom:a,configValue:r[a][e]};return{}}const _I={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??ake(n,e),gridScale:({model:e,channel:t})=>ske(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||SK(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||EK(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??lke(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??uke(t.type,n,Ne(t)&&!!t.timeUnit,Ne(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const a=e==="x"?"width":e==="y"?"height":void 0,s=a?t.getSizeSignalRef(a):void 0;return n.tickCount??fke({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:({axis:e,format:t,fieldOrDatumDef:n})=>e.tickMinStep??hke({format:t,fieldOrDatumDef:n}),title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=wK(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),a=n==="x"?"x2":"y2",s=t.fieldDef(a);return uW(i?[qL(i)]:[],Ne(s)?[qL(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>dke(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??gke(n,t)};function ake(e,t){return!Cr(e)&&Ne(t)&&!xn(t?.bin)&&!$r(t?.bin)}function ske(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function oke(e,t,n,r,i){const a=t?.labelAngle;if(a!==void 0)return et(a)?a:im(a);{const{configValue:s}=v4("labelAngle",r,t?.style,i);return s!==void 0?im(s):n===Fn&&At([p5,g5],e.type)&&!(Ne(e)&&e.timeUnit)?270:void 0}}function _4(e){return`(((${e.signal} % 360) + 360) % 360)`}function EK(e,t,n,r){if(e!==void 0)if(n==="x"){if(et(e)){const i=_4(e),a=et(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${a} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(et(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(et(e)){const i=_4(e),a=et(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${a} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(et(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function SK(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,a=r?"bottom":"left";if(et(e)){const s=_4(e),o=et(t)?`(${t.signal} === "${a}")`:t===a;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${o} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(et(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${a}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===a)?"left":"right"}function lke(e,t){if(t==="x"&&At(["quantitative","temporal"],e))return!0}function uke(e,t,n,r){if(n&&!qe(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function cke(e){return e==="x"?"bottom":"left"}function fke({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){if(!r&&!Cr(t)&&t!=="log"){if(Ne(e)){if(xn(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&At(["month","hours","day","quarter"],Tr(e.timeUnit)?.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function hke({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Ne(t)){const{timeUnit:n}=t;if(n){const r=TW(n);if(r)return{signal:r}}}}function wK(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),a=r?r.title:void 0,s=i?i.title:void 0;if(a&&s)return cW(a,s);if(a)return a;if(s)return s;if(a!==void 0)return a;if(s!==void 0)return s}function dke(e,t){const n=e.values;if(Ae(n))return iY(t,n);if(et(n))return n}function gke(e,t){return e==="rect"&&S_(t)?1:0}class zd extends sn{transform;_dependentFields;clone(){return new zd(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=yK(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(O0(r)&&WW(r.sort)){const{field:a,timeUnit:s}=r,o=r.sort,u=o.map((c,h)=>`${FW({field:a,timeUnit:s,equal:c})} ? ${h} : `).join("")+o.length;t=new zd(t,{calculate:u,as:Bd(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Dt(this.transform)}`}}function Bd(e,t,n){return Ue(e,{prefix:t,suffix:"sort_index",...n})}function IE(e,t){return At(["top","bottom"],t)?"column":At(["left","right"],t)||e==="row"?"row":"column"}function Pd(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return Xn((t||{})[e],i[e],n.header[e])}function zE(e,t,n,r){const i={};for(const a of e){const s=Pd(a,t||{},n,r);s!==void 0&&(i[a]=s)}return i}const W5=["row","column"],Y5=["header","footer"];function pke(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:a,titleAngle:s,titleOrient:o}=zE(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),u=IE(t,o),c=im(s);return{name:`${t}-title`,type:"group",role:`${u}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...TK(c,u),...AK(u,c,a),...kK(r,i,t,tAe,SY)}}}function AK(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=SK(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function TK(e,t){const n=EK(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function mke(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Y5)if(n[i])for(const a of n[i]){const s=yke(e,t,i,n,a);s!=null&&r.push(s)}return r}function xke(e,t){const{sort:n}=e;return Pl(n)?{field:Ue(n,{expr:"datum"}),order:n.order??"ascending"}:Ae(n)?{field:Bd(e,t,{expr:"datum"}),order:"ascending"}:{field:Ue(e,{expr:"datum"}),order:n??"ascending"}}function b4(e,t,n){const{format:r,formatType:i,labelAngle:a,labelAnchor:s,labelOrient:o,labelExpr:u}=zE(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=S5({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,h=IE(t,o);return{text:{signal:u?r0(r0(u,"datum.label",c),"datum.value",Ue(e,{expr:"parent"})):c},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...TK(a,h),...AK(h,a,s),...kK(n,e,t,nAe,wY)}}function yke(e,t,n,r,i){if(i){let a=null;const{facetFieldDef:s}=r,o=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:d}=zE(["labelOrient"],s.header,o,t);(t==="row"&&!At(["top","bottom"],d)||t==="column"&&!At(["left","right"],d))&&(a=b4(s,t,o))}const u=Fa(e)&&!ix(e.facet),c=i.axes,h=c?.length>0;if(a||h){const d=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:xke(s,t)}:{},...h&&u?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...a?{title:a}:{},...i.sizeSignal?{encode:{update:{[d]:i.sizeSignal}}}:{},...h?{axes:c}:{}}}}return null}const vke={column:{start:0,end:1},row:{start:1,end:0}};function _ke(e,t){return vke[t][e]}function bke(e,t){const n={};for(const r of rs){const i=e[r];if(i?.facetFieldDef){const{titleAnchor:a,titleOrient:s}=zE(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),o=IE(r,s),u=_ke(a,o);u!==void 0&&(n[o]=u)}}return dn(n)?void 0:n}function kK(e,t,n,r,i){const a={};for(const s of r){if(!i[s])continue;const o=Pd(s,t?.header,e,n);o!==void 0&&(a[i[s]]=o)}return a}function K5(e){return[...fv(e,"width"),...fv(e,"height"),...fv(e,"childWidth"),...fv(e,"childHeight")]}function fv(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(r==null||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const a=e.getScaleComponent(n);if(a){const s=a.get("type"),o=a.get("range");if(Cr(s)&&C0(o)){const u=e.scaleName(n);return Fa(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[bI(u,o)]:[bI(u,o),{name:i,update:CK(u,a,`domain('${u}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const a=i.endsWith("width"),s=a?"containerSize()[0]":"containerSize()[1]",o=c4(e.config.view,a?"width":"height"),u=`isFinite(${s}) ? ${s} : ${o}`;return[{name:i,init:u,on:[{update:u,events:"window:resize"}]}]}else return[{name:i,value:r}]}function bI(e,t){const n=`${e}_step`;return et(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function CK(e,t,n){const r=t.get("type"),i=t.get("padding"),a=Xn(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${Ls(s)}, ${Ls(a)}) * ${e}_step`}function FK(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function DK(e,t){return De(e).reduce((n,r)=>({...n,...fg({model:t,channelDef:e[r],vgChannel:r,mainRefFn:i=>En(i.value),invalidValueRef:void 0})}),{})}function OK(e,t){if(Fa(t))return e==="theta"?"independent":"shared";if(pg(t))return"shared";if(rO(t))return Wn(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function Q5(e,t){const n=e.scale[t],r=Wn(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&$e(QEe(t)),"independent"):e[r][t]||"shared"}const Eke={...aAe,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},MK=De(Eke);class Ske extends su{}const EI={symbols:wke,gradient:Ake,labels:Tke,entries:kke};function wke(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:a}){if(a!=="symbol")return;const{markDef:s,encoding:o,config:u,mark:c}=n,h=s.filled&&c!=="trail";let d={...aEe({},n,twe),...iK(n,{filled:h})};const p=i.get("symbolOpacity")??u.legend.symbolOpacity,m=i.get("symbolFillColor")??u.legend.symbolFillColor,y=i.get("symbolStrokeColor")??u.legend.symbolStrokeColor,v=p===void 0?RK(o.opacity)??s.opacity:void 0;if(d.fill){if(r==="fill"||h&&r===aa)delete d.fill;else if(Oe(d.fill,"field"))m?delete d.fill:(d.fill=En(u.legend.symbolBaseFillColor??"black"),d.fillOpacity=En(v??1));else if(Ae(d.fill)){const _=E4(o.fill??o.color)??s.fill??(h&&s.color);_&&(d.fill=En(_))}}if(d.stroke){if(r==="stroke"||!h&&r===aa)delete d.stroke;else if(Oe(d.stroke,"field")||y)delete d.stroke;else if(Ae(d.stroke)){const _=Xn(E4(o.stroke||o.color),s.stroke,h?s.color:void 0);_&&(d.stroke={value:_})}}if(r!==ru){const _=Ne(t)&&$K(n,i,t);_?d.opacity=[{test:_,...En(v??1)},En(u.legend.unselectedOpacity)]:v&&(d.opacity=En(v))}return d={...d,...e},dn(d)?void 0:d}function Ake(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:a,encoding:s}=t;let o={};const c=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?RK(s.opacity)||a.opacity:void 0;return c&&(o.opacity=En(c)),o={...o,...e},dn(o)?void 0:o}function Tke(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const a=n.legend(r)||{},s=n.config,o=Ne(t)?$K(n,i,t):void 0,u=o?[{test:o,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:h}=a;let d;u0(h)?d=Is({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:h,config:s}):c===void 0&&h===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?d=Is({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&Ne(t)&&t.timeUnit===void 0&&(d=Is({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const p={...u?{opacity:u}:{},...d?{text:d}:{},...e};return dn(p)?void 0:p}function kke(e,{legendCmpt:t}){return t.get("selections")?.length?{...e,fill:{value:"transparent"}}:e}function RK(e){return NK(e,(t,n)=>Math.max(t,n.value))}function E4(e){return NK(e,(t,n)=>Xn(t,n.value))}function NK(e,t){if(bwe(e))return Ve(e.condition).reduce(t,e.value);if(Xs(e))return e.value}function $K(e,t,n){const r=t.get("selections");if(!r?.length)return;const i=ze(n.field);return r.map(a=>`(!length(data(${ze(Cn(a)+f0)})) || (${a}[${i}] && indexof(${a}[${i}], datum.value) >= 0))`).join(" || ")}const SI={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return GW(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return VW(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??Nke(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??$ke(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??Fke(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>td(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(ed(n)&&So(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>Cke(t,e)};function Cke(e,t){const n=e.values;if(Ae(n))return iY(t,n);if(et(n))return n}function Fke(e,t,n,r){if(t!=="shape"){const i=E4(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function Dke(e){const{legend:t}=e;return Xn(t.type,Oke(e))}function Oke({channel:e,timeUnit:t,scaleType:n}){if(ed(e)){if(At(["quarter","month","day"],t))return"symbol";if(So(n))return"gradient"}return"symbol"}function Mke({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??Rke(n,t)}function Rke(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function Nke({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:a,gradientHorizontalMinLength:s,gradientVerticalMaxLength:o,gradientVerticalMinLength:u}=e;if(So(i))return n==="horizontal"?r==="top"||r==="bottom"?wI(t,"width",s,a):s:wI(t,"height",u,o)}function wI(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function $ke(e){if(At(["quantile","threshold","log","symlog"],e))return"greedy"}function LK(e){const t=Mn(e)?Lke(e):Pke(e);return e.component.legends=t,t}function Lke(e){const{encoding:t}=e,n={};for(const r of[aa,...TY]){const i=fr(t[r]);!i||!e.getScaleComponent(r)||r===sa&&Ne(i)&&i.type===cg||(n[r]=Bke(e,r))}return n}function Ike(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function zke(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!n?.values;case"title":if(t==="title"&&e===r?.title)return!0}return e===(n||{})[t]}function Bke(e,t){let n=e.legend(t);const{markDef:r,encoding:i,config:a}=e,s=a.legend,o=new Ske({},Ike(e,t));WTe(e,t,o);const u=n!==void 0?!n:s.disable;if(o.set("disable",u,n!==void 0),u)return o;n=n||{};const c=e.getScaleComponent(t).get("type"),h=fr(i[t]),d=Ne(h)?Tr(h.timeUnit)?.unit:void 0,p=n.orient||a.legend.orient||"right",m=Dke({legend:n,channel:t,timeUnit:d,scaleType:c}),y=Mke({legend:n,legendType:m,orient:p,legendConfig:s}),v={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:h,legendConfig:s,config:a,scaleType:c,orient:p,legendType:m,direction:y};for(const k of MK){if(m==="gradient"&&k.startsWith("symbol")||m==="symbol"&&k.startsWith("gradient"))continue;const D=k in SI?SI[k](v):n[k];if(D!==void 0){const O=zke(D,k,n,e.fieldDef(t));(O||a.legend[k]===void 0)&&o.set(k,D,O)}}const _=n?.encoding??{},E=o.get("selections"),w={},A={fieldOrDatumDef:h,model:e,channel:t,legendCmpt:o,legendType:m};for(const k of["labels","legend","title","symbols","gradient","entries"]){const D=DK(_[k]??{},e),O=k in EI?EI[k](D,A):D;O!==void 0&&!dn(O)&&(w[k]={...E?.length&&Ne(h)?{name:`${Cn(h.field)}_legend_${k}`}:{},...E?.length?{interactive:!0}:{},update:E?.length?{...O,cursor:{value:"pointer"}}:O})}return dn(w)||o.set("encode",w,!!n?.encoding),o}function Pke(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){LK(r);for(const i of De(r.component.legends))n.legend[i]=Q5(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=IK(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of De(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function IK(e,t){if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const a of MK){const s=bc(e.getWithExplicit(a),t.getWithExplicit(a),a,"legend",(o,u)=>{switch(a){case"symbolType":return Uke(o,u);case"title":return fW(o,u);case"type":return i=!0,xa("symbol")}return RE(o,u,a,"legend")});e.setWithExplicit(a,s)}return i&&(e.implicit?.encode?.gradient&&y_(e.implicit,["encode","gradient"]),e.explicit?.encode?.gradient&&y_(e.explicit,["encode","gradient"])),e}function Uke(e,t){return t.value==="circle"?t:e}function Hke(e,t,n,r){e.encode??={},e.encode[t]??={},e.encode[t].update??={},e.encode[t].update[n]=r}function zK(e){const t=e.component.legends,n={};for(const i of De(t)){const a=e.getScaleComponent(i),s=en(a.get("domains"));if(n[s])for(const o of n[s])IK(o,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return ir(n).flat().map(i=>jke(i,e.config)).filter(i=>i!==void 0)}function jke(e,t){const{disable:n,labelExpr:r,selections:i,...a}=e.combine();if(!n){if(t.aria===!1&&a.aria==null&&(a.aria=!1),a.encode?.symbols){const s=a.encode.symbols.update;s.fill&&s.fill.value!=="transparent"&&!s.stroke&&!a.stroke&&(s.stroke={value:"transparent"});for(const o of TY)a[o]&&delete s[o]}if(a.title||delete a.title,r!==void 0){let s=r;a.encode?.labels?.update&&et(a.encode.labels.update.text)&&(s=r0(r,"datum.label",a.encode.labels.update.text.signal)),Hke(a,"labels","text",{signal:s})}return a}}function qke(e){return pg(e)||rO(e)?Gke(e):BK(e)}function Gke(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),BK(e))}function BK(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},a=t.data.reduce((s,o)=>{const u=et(o)?o.signal:`data('${e.lookupDataSource(o)}')`;return At(s,u)||s.push(u),s},[]);if(a.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:a.length>1?`[${a.join(", ")}]`:a[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const Vke=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class PK extends su{specifiedProjection;size;data;merged=!1;constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i}get isFit(){return!!this.data}}function UK(e){e.component.projection=Mn(e)?Xke(e):Kke(e)}function Xke(e){if(e.hasProjection){const t=Lr(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?Wke(e):void 0,a=new PK(e.projectionName(!0),{...Lr(e.config.projection),...t},r,i);return a.get("type")||a.set("type","equalEarth",!1),a}}function Wke(e){const t=[],{encoding:n}=e;for(const r of[[no,to],[hs,ro]])(fr(n[r[0]])||fr(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(sa)&&e.typedFieldDef(sa).type===cg&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Rn.Main)),t}function Yke(e,t){const n=PD(Vke,i=>!!(!We(e.explicit,i)&&!We(t.explicit,i)||We(e.explicit,i)&&We(t.explicit,i)&&wa(e.get(i),t.get(i))));if(wa(e.size,t.size)){if(n)return e;if(wa(e.explicit,{}))return t;if(wa(t.explicit,{}))return e}return null}function Kke(e){if(e.children.length===0)return;let t;for(const r of e.children)UK(r);const n=PD(e.children,r=>{const i=r.component.projection;if(i)if(t){const a=Yke(t,i);return a&&(t=a),!!a}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new PK(r,t.specifiedProjection,t.size,ft(t.data));for(const a of e.children){const s=a.component.projection;s&&(s.isFit&&i.data.push(...a.component.projection.data),a.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function Qke(e,t,n,r){if(ox(t,n)){const i=Mn(e)?e.axis(n)??e.legend(n)??{}:{},a=Ue(t,{expr:"datum"}),s=Ue(t,{expr:"datum",binSuffix:"end"});return{formulaAs:Ue(t,{binSuffix:"range",forAs:!0}),formula:rx(a,s,i.format,i.formatType,r)}}return{}}function HK(e,t){return`${rW(e)}_${t}`}function Zke(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function Z5(e,t,n){const r=kE(n,void 0)??{},i=HK(r,t);return e.getName(`${i}_bins`)}function Jke(e){return"as"in e}function AI(e,t,n){let r,i;Jke(e)?r=Ge(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[Ue(e,{forAs:!0}),Ue(e,{binSuffix:"end",forAs:!0})];const a={...kE(t,void 0)},s=HK(a,e.field),{signal:o,extentSignal:u}=Zke(n,s);if(mE(a.extent)){const h=a.extent;i=_K(n,h.param,h),delete a.extent}const c={bin:a,field:e.field,as:[r],...o?{signal:o}:{},...u?{extentSignal:u}:{},...i?{span:i}:{}};return{key:s,binComponent:c}}class Fo extends sn{bins;clone(){return new Fo(null,ft(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,a,s)=>{if(zi(a)&&xn(a.bin)){const{key:o,binComponent:u}=AI(a,a.bin,n);i[o]={...u,...i[o],...Qke(n,a,s,n.config)}}return i},{});return dn(r)?null:new Fo(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:a}=AI(n,n.bin,r);return new Fo(t,{[i]:a})}merge(t,n){for(const r of De(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=Eo([...this.bins[r].as,...t.bins[r].as],Dt)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(ir(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(ir(this.bins).map(t=>t.field))}hash(){return`Bin ${Dt(this.bins)}`}assemble(){return ir(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:a,...s}=t.bin,o={type:"bin",field:fs(t.field),as:r,signal:t.signal,...mE(a)?{extent:null}:{extent:a},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!a&&t.extentSignal&&(n.push({type:"extent",field:fs(t.field),signal:t.extentSignal}),o.extent={signal:t.extentSignal}),n.push(o);for(const u of i)for(let c=0;c<2;c++)n.push({type:"formula",expr:Ue({field:r[c]},{expr:"datum"}),as:u[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function e3e(e,t,n,r){const i=Mn(r)?r.encoding[Ko(t)]:void 0;if(zi(n)&&Mn(r)&&KW(n,i,r.markDef,r.config)){e.add(Ue(n,{})),e.add(Ue(n,{suffix:"end"}));const{mark:a,markDef:s,config:o}=r,u=_c({fieldDef:n,markDef:s,config:o});am(a)&&u!==.5&&Wn(t)&&(e.add(Ue(n,{suffix:NE})),e.add(Ue(n,{suffix:$E}))),n.bin&&ox(n,t)&&e.add(Ue(n,{binSuffix:"range"}))}else if(WX(t)){const a=XX(t);e.add(r.getName(a))}else e.add(Ue(n));return O0(n)&&HSe(n.scale?.range)&&e.add(n.scale.range.field),e}function t3e(e,t){for(const n of De(t)){const r=t[n];for(const i of De(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Us extends sn{dimensions;measures;clone(){return new Us(null,new Set(this.dimensions),ft(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},a=new Set;return!r||(n.forEachFieldDef((s,o)=>{const{aggregate:u,field:c}=s;if(u)if(u==="count")i["*"]??={},i["*"].count=new Set([Ue(s,{forAs:!0})]);else{if(Wl(u)||zc(u)){const h=Wl(u)?"argmin":"argmax",d=u[h];i[d]??={},i[d][h]=new Set([Ue({op:h,field:d},{forAs:!0})])}else i[c]??={},i[c][u]=new Set([Ue(s,{forAs:!0})]);Qo(o)&&n.scaleDomain(o)==="unaggregated"&&(i[c]??={},i[c].min=new Set([Ue({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([Ue({field:c,aggregate:"max"},{forAs:!0})]))}else e3e(a,o,s,n)}),a.size+De(i).length===0)?null:new Us(t,a,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const a of n.aggregate){const{op:s,field:o,as:u}=a;s&&(s==="count"?(i["*"]??={},i["*"].count=new Set([u||Ue(a,{forAs:!0})])):(i[o]??={},i[o][s]??=new Set,i[o][s].add(u||Ue(a,{forAs:!0}))))}for(const a of n.groupby??[])r.add(a);return r.size+De(i).length===0?null:new Us(t,r,i)}merge(t){return zX(this.dimensions,t.dimensions)?(t3e(this.measures,t.measures),!0):(dSe("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...De(this.measures)])}producedFields(){const t=new Set;for(const n of De(this.measures))for(const r of De(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Dt({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const a of De(this.measures))for(const s of De(this.measures[a]))for(const o of this.measures[a][s])r.push(o),t.push(s),n.push(a==="*"?null:fs(a));return{type:"aggregate",groupby:[...this.dimensions].map(fs),ops:t,fields:n,as:r}}}class dg extends sn{model;name;data;column;row;facet;childModel;constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const a of rs){const s=n.facet[a];if(s){const{bin:o,sort:u}=s;this[a]={name:n.getName(`${a}_domain`),fields:[Ue(s),...xn(o)?[Ue(s,{binSuffix:"end"})]:[]],...Pl(u)?{sortField:u}:Ae(u)?{sortIndexField:Bd(s,a)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of rs)this[n]&&(t+=` ${n.charAt(0)}:${Dt(this[n])}`);return t}get fields(){const t=[];for(const n of rs)this[n]?.fields&&t.push(...this[n].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of rs)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of iu){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),a=r.get("range");if(Cr(i)&&C0(a)){const s=BE(this.childModel,n),o=nO(s);o?t[n]=o:$e(e5(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],a=[],s=[],o=[];i&&r&&r[i]&&(n?(a.push(`distinct_${r[i]}`),s.push("max")):(a.push(r[i]),s.push("distinct")),o.push(`distinct_${r[i]}`));const{sortField:u,sortIndexField:c}=this[t];if(u){const{op:h=wE,field:d}=u;a.push(d),s.push(h),o.push(Ue(u,{forAs:!0}))}else c&&(a.push(c),s.push("max"),o.push(c));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...a.length?{fields:a,ops:s,as:o}:{}}]}}assembleFacetHeaderData(t){const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],a={};for(const u of W5){for(const c of Y5){const h=r[u]?.[c]??[];for(const d of h)if(d.axes?.length>0){a[u]=!0;break}}if(a[u]){const c=`length(data("${this.facet.name}"))`,h=u==="row"?n?{signal:`ceil(${c} / ${n})`}:1:n?{signal:`min(${c}, ${n})`}:{signal:c};i.push({name:`${this.facet.name}_${u}`,transform:[{type:"sequence",start:0,stop:h}]})}}const{row:s,column:o}=a;return(s||o)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:a,facet:s}=this;if(i&&a&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const o=[].concat(r.x??[],r.y??[]),u=o.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:o,ops:u}]})}for(const o of[Bl,zl])this[o]&&t.push(this.assembleRowColumnHeaderData(o,n,r));if(s){const o=this.assembleFacetHeaderData(r);o&&t.push(...o)}return t}}function TI(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function n3e(e,t){const n=jD(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=TI(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=TI(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return $e(EEe(t)),null}function r3e(e){const t={};return Jv(e.filter,n=>{if(CW(n)){let r=null;s5(n)?r=ba(n.equal):l5(n)?r=ba(n.lte):o5(n)?r=ba(n.lt):u5(n)?r=ba(n.gt):c5(n)?r=ba(n.gte):f5(n)?r=n.range[0]:h5(n)&&(r=(n.oneOf??n.in)[0]),r&&(F0(r)?t[n.field]="date":jt(r)?t[n.field]="number":Ge(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function i3e(e){const t={};function n(r){$d(r)?t[r.field]="date":r.type==="quantitative"&&Ybe(r.aggregate)?t[r.field]="number":Fd(r.field)>1?r.field in t||(t[r.field]="flatten"):O0(r)&&Pl(r.sort)&&Fd(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Mn(e)||Fa(e))&&e.forEachFieldDef((r,i)=>{if(zi(r))n(r);else{const a=T0(i),s=e.fieldDef(a);n({...r,type:s.type})}}),Mn(e)){const{mark:r,markDef:i,encoding:a}=e;if(Bc(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",o=a[s];Ne(o)&&o.type==="quantitative"&&!(o.field in t)&&(t[o.field]="number")}}return t}function a3e(e){const t={};if(Mn(e)&&e.component.selection)for(const n of De(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&Fd(i.field)>1&&(t[i.field]="flatten")}return t}class si extends sn{_parse;clone(){return new si(null,ft(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Dt(this._parse)}`}static makeExplicit(t,n,r){let i={};const a=n.data;return!sc(a)&&a?.format?.parse&&(i=a.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const o of De(r)){const u=i.getWithExplicit(o);u.value!==void 0&&(u.explicit||u.value===r[o]||u.value==="derived"||r[o]==="flatten"?delete r[o]:$e(LL(o,r[o],u.value)))}for(const o of De(n)){const u=i.get(o);u!==void 0&&(u===n[o]?delete n[o]:$e(LL(o,n[o],u)))}const a=new su(n,r);i.copyAll(a);const s={};for(const o of De(a.combine())){const u=a.get(o);u!==null&&(s[o]=u)}return De(s).length===0||i.parseNothing?null:new si(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of De(this._parse)){const r=this._parse[n];Fd(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(De(this._parse))}dependentFields(){return new Set(De(this._parse))}assembleTransforms(t=!1){return De(this._parse).filter(n=>t?Fd(n)>1:!0).map(n=>{const r=n3e(n,this._parse[n]);return r?{type:"formula",expr:r,as:lg(n)}:null}).filter(n=>n!==null)}}class Ec extends sn{clone(){return new Ec(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([Ys])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:Ys}}}class cx extends sn{params;clone(){return new cx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Dt(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class fx extends sn{params;clone(){return new fx(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Dt(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class h0 extends sn{_data;_name;_generator;constructor(t){super(null),t??={name:"source"};let n;if(sc(t)||(n=t.format?{...Ca(t.format,["parse"])}:{}),sm(t))this._data={values:t.values};else if(Ld(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];At(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else GY(t)?this._data={values:[{type:"Sphere"}]}:(jY(t)||sc(t))&&(this._data={});this._generator=sc(t),t.name&&(this._name=t.name),n&&!dn(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}function J5(e){return e instanceof h0||e instanceof cx||e instanceof fx}class eO{#e;constructor(){this.#e=!1}setModified(){this.#e=!0}get modifiedFlag(){return this.#e}}class M0 extends eO{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,a)=>a[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class tO extends eO{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class s3e extends tO{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of De(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class o3e extends tO{requiresSelectionId;constructor(t){super(),this.requiresSelectionId=t&&X5(t)}run(t){t instanceof Ec&&(this.requiresSelectionId&&(J5(t.parent)||t.parent instanceof Us||t.parent instanceof si)||(this.setModified(),t.remove()))}}class l3e extends eO{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof ko&&(r=t.producedFields(),UD(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class u3e extends tO{constructor(){super()}run(t){t instanceof ta&&!t.isRequired()&&(this.setModified(),t.remove())}}class c3e extends M0{run(t){if(!J5(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof si)if(t instanceof si)this.setModified(),t.merge(n);else{if(HD(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class f3e extends M0{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof si);if(t.numChildren()>1&&r.length>=1){const i={},a=new Set;for(const s of r){const o=s.parse;for(const u of De(o))u in i?i[u]!==o[u]&&a.add(u):i[u]=o[u]}for(const s of a)delete i[s];if(!dn(i)){this.setModified();const s=new si(t,i);for(const o of n){if(o instanceof si)for(const u of De(i))delete o.parse[u];t.removeChild(o),o.parent=s,o instanceof si&&De(o.parse).length===0&&o.remove()}}}}}class h3e extends M0{run(t){t instanceof ta||t.numChildren()>0||t instanceof dg||t instanceof h0||(this.setModified(),t.remove())}}class d3e extends M0{run(t){const n=t.children.filter(i=>i instanceof ko),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class g3e extends M0{run(t){const n=t.children.filter(i=>i instanceof Us),r={};for(const i of n){const a=Dt(i.groupBy);a in r||(r[a]=[]),r[a].push(i)}for(const i of De(r)){const a=r[i];if(a.length>1){const s=a.pop();for(const o of a)s.merge(o)&&(t.removeChild(o),o.parent=s,o.remove(),this.setModified())}}}}class p3e extends M0{model;constructor(t){super(),this.model=t}run(t){const n=!(J5(t)||t instanceof hg||t instanceof si||t instanceof Ec),r=[],i=[];for(const a of t.children)a instanceof Fo&&(n&&!HD(t.producedFields(),a.dependentFields())?r.push(a):i.push(a));if(r.length>0){const a=r.pop();for(const s of r)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof Fo?t.merge(a,this.model.renameSignal.bind(this.model)):a.swapWithParent()}if(i.length>1){const a=i.pop();for(const s of i)a.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class m3e extends M0{run(t){const n=[...t.children];if(!Cd(n,s=>s instanceof ta)||t.numChildren()<=1)return;const i=[];let a;for(const s of n)if(s instanceof ta){let o=s;for(;o.numChildren()===1;){const[u]=o.children;if(u instanceof ta)o=u;else break}i.push(...o.children),a?(t.removeChild(s),s.parent=a.parent,a.parent.removeChild(a),a.parent=o,this.setModified()):a=o}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=a}}}class R0 extends sn{transform;clone(){return new R0(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Eo(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??Ue(t)}hash(){return`JoinAggregateTransform ${Dt(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const a of this.transform.joinaggregate)n.push(a.op),r.push(this.getDefaultName(a)),t.push(a.field===void 0?null:a.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}class Ud extends sn{filter;clone(){return new Ud(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n,r){const{config:i,markDef:a}=n,{marks:s,scales:o}=r;if(s==="include-invalid-values"&&o==="include-invalid-values")return null;const u=n.reduceFieldDef((c,h,d)=>{const p=Qo(d)&&n.getScaleComponent(d);if(p){const m=p.get("type"),{aggregate:y}=h,v=_5({scaleChannel:d,markDef:a,config:i,scaleType:m,isCountAggregate:pE(y)});v!=="show"&&v!=="always-valid"&&(c[h.field]=h)}return c},{});return De(u).length?new Ud(t,u):null}dependentFields(){return new Set(De(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Dt(this.filter)}`}assemble(){const t=De(this.filter).reduce((n,r)=>{const i=this.filter[r],a=Ue(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${a}) || (${S4(a)}))`):i.type==="quantitative"&&n.push(S4(a))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}function S4(e){return`isValid(${e}) && isFinite(+${e})`}function x3e(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=Ue(r);return i&&t.push(i),t},[])}function y3e(e){return Ae(e)&&e.every(t=>Ge(t))&&e.length>1}class Hl extends sn{_stack;clone(){return new Hl(null,ft(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:a,offset:s="zero"}=n,o=[],u=[];if(n.sort!==void 0)for(const d of n.sort)o.push(d.field),u.push(Xn(d.order,"ascending"));const c={field:o,order:u};let h;return y3e(a)?h=a:Ge(a)?h=[a,`${a}_end`]:h=[`${n.stack}_start`,`${n.stack}_end`],new Hl(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:c,facetby:[],as:h})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:a,fieldChannel:s,offset:o,impute:u}=r,c=a.map(m=>{const y=i[m];return Ws(y)}).filter(m=>!!m),h=x3e(n),d=n.encoding.order;let p;if(Ae(d)||Ne(d))p=lW(d);else{const m=QW(d)?d.sort:s==="y"?"descending":"ascending";p=h.reduce((y,v)=>(y.field.includes(v)||(y.field.push(v),y.order.push(m)),y),{field:[],order:[]})}return new Hl(t,{dimensionFieldDefs:c,stackField:n.vgField(s),facetby:[],stackby:h,sort:p,offset:o,impute:u,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Dt(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[Ue(i,{binSuffix:"mid"})]:[Ue(i,{}),Ue(i,{binSuffix:"end"})]:[Ue(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:a,sort:s,offset:o,impute:u,as:c}=this._stack;if(u)for(const h of r){const{bandPosition:d=.5,bin:p}=h;if(p){const m=Ue(h,{expr:"datum"}),y=Ue(h,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${S4(m)} ? ${d}*${m}+${1-d}*${y} : ${m}`,as:Ue(h,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...a,...n],key:Ue(h,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:c,offset:o}),t}}class gg extends sn{transform;clone(){return new gg(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Eo(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??Ue(t)}hash(){return`WindowTransform ${Dt(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const d of this.transform.window)n.push(d.op),r.push(this.getDefaultName(d)),i.push(d.param===void 0?null:d.param),t.push(d.field===void 0?null:d.field);const a=this.transform.frame,s=this.transform.groupby;if(a&&a[0]===null&&a[1]===null&&n.every(d=>ZD(d)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const o=[],u=[];if(this.transform.sort!==void 0)for(const d of this.transform.sort)o.push(d.field),u.push(d.order??"ascending");const c={field:o,order:u},h=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:c,...h!==void 0?{ignorePeers:h}:{},...s!==void 0?{groupby:s}:{},...a!==void 0?{frame:a}:{}}}}function v3e(e){function t(n){if(!(n instanceof dg)){const r=n.clone();if(r instanceof ta){const i=A4+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Us||r instanceof Hl||r instanceof gg||r instanceof R0)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function w4(e){if(e instanceof dg)if(e.numChildren()===1&&!(e.children[0]instanceof ta)){const t=e.children[0];(t instanceof Us||t instanceof Hl||t instanceof gg||t instanceof R0)&&t.addDimensions(e.fields),t.swapWithParent(),w4(e)}else{const t=e.model.component.data.main;jK(t);const n=v3e(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(w4)}function jK(e){if(e instanceof ta&&e.type===Rn.Main&&e.numChildren()===1){const t=e.children[0];t instanceof dg||(t.swapWithParent(),jK(e))}}const A4="scale_",hv=5;function T4(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!T4(t.children))return!1}return!0}function Es(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function kI(e,t,n){let r=e.sources,i=!1;return i=Es(new u3e,r)||i,i=Es(new o3e(t),r)||i,r=r.filter(a=>a.numChildren()>0),i=Es(new h3e,r)||i,r=r.filter(a=>a.numChildren()>0),n||(i=Es(new c3e,r)||i,i=Es(new p3e(t),r)||i,i=Es(new l3e,r)||i,i=Es(new f3e,r)||i,i=Es(new g3e,r)||i,i=Es(new d3e,r)||i,i=Es(new s3e,r)||i,i=Es(new m3e,r)||i),e.sources=r,i}function _3e(e,t){T4(e.sources);let n=0,r=0;for(let i=0;i<hv&&kI(e,t,!0);i++)n++;e.sources.map(w4);for(let i=0;i<hv&&kI(e,t,!1);i++)r++;T4(e.sources),Math.max(n,r)===hv&&$e(`Maximum optimization runs(${hv}) reached.`)}class _r{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}signal;static fromName(t,n){return new _r(()=>t(n))}}function qK(e){Mn(e)?b3e(e):E3e(e)}function b3e(e){const t=e.component.scales;for(const n of De(t)){const r=w3e(e,n);if(t[n].setWithExplicit("domains",r),T3e(e,n),e.component.data.isFaceted){let a=e;for(;!Fa(a)&&a.parent;)a=a.parent;if(a.component.resolve.scale[n]==="shared")for(const o of r.value)Rl(o)&&(o.data=A4+o.data.replace(A4,""))}}}function E3e(e){for(const n of e.children)qK(n);const t=e.component.scales;for(const n of De(t)){let r,i=null;for(const a of e.children){const s=a.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=bc(r,s.getWithExplicit("domains"),"domains","scale",k4);const o=s.get("selectionExtent");i&&o&&i.param!==o.param&&$e(pEe),i=o}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function S3e(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:a}=CI(t,n);if(!i){$e(a);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=CI(t,n);if(i)return"unaggregated"}return e}function w3e(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=S3e(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&fr(r.x2)?fr(r.x)?bc(Lu(n,i,e,"x"),Lu(n,i,e,"x2"),"domain","scale",k4):Lu(n,i,e,"x2"):t==="y"&&fr(r.y2)?fr(r.y)?bc(Lu(n,i,e,"y"),Lu(n,i,e,"y2"),"domain","scale",k4):Lu(n,i,e,"y2"):Lu(n,i,e,t)}function A3e(e,t,n){return e.map(r=>({signal:`{data: ${CE(r,{timeUnit:n,type:t})}}`}))}function IT(e,t,n){const r=Tr(n)?.unit;return t==="temporal"||r?A3e(e,t,r):[e]}function Lu(e,t,n,r){const{encoding:i,markDef:a,mark:s,config:o,stack:u}=n,c=fr(i[r]),{type:h}=c,d=c.timeUnit,p=yTe({invalid:Lo("invalid",a,o),isPath:Bc(s)});if(USe(t)){const v=Lu(e,void 0,n,r),_=IT(t.unionWith,h,d);return xo([..._,...v.value])}else{if(et(t))return xo([t]);if(t&&t!=="unaggregated"&&!NW(t))return xo(IT(t,h,d))}if(u&&r===u.fieldChannel){if(u.offset==="normalize")return xa([[0,1]]);const v=n.requestDataName(p);return xa([{data:v,field:n.vgField(r,{suffix:"start"})},{data:v,field:n.vgField(r,{suffix:"end"})}])}const m=Qo(r)&&Ne(c)?k3e(n,r,e):void 0;if(Zo(c)){const v=IT([c.datum],h,d);return xa(v)}const y=c;if(t==="unaggregated"){const{field:v}=c;return xa([{data:n.requestDataName(p),field:Ue({field:v,aggregate:"min"})},{data:n.requestDataName(p),field:Ue({field:v,aggregate:"max"})}])}else if(xn(y.bin)){if(Cr(e))return xa(e==="bin-ordinal"?[]:[{data:rm(m)?n.requestDataName(p):n.requestDataName(Rn.Raw),field:n.vgField(r,ox(y,r)?{binSuffix:"range"}:{}),sort:m===!0||!qe(m)?{field:n.vgField(r,{}),op:"min"}:m}]);{const{bin:v}=y;if(xn(v)){const _=Z5(n,y.field,v);return xa([new _r(()=>{const E=n.getSignalName(_);return`[${E}.start, ${E}.stop]`})])}else return xa([{data:n.requestDataName(p),field:n.vgField(r,{})}])}}else if(y.timeUnit&&At(["time","utc"],e)){const v=i[Ko(r)];if(KW(y,v,a,o)){const _=n.requestDataName(p),E=_c({fieldDef:y,fieldDef2:v,markDef:a,config:o}),w=am(s)&&E!==.5&&Wn(r);return xa([{data:_,field:n.vgField(r,w?{suffix:NE}:{})},{data:_,field:n.vgField(r,{suffix:w?$E:"end"})}])}}return xa(m?[{data:rm(m)?n.requestDataName(p):n.requestDataName(Rn.Raw),field:n.vgField(r),sort:m}]:[{data:n.requestDataName(p),field:n.vgField(r)}])}function zT(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":wE),...r?{field:fs(r)}:{},...i?{order:i}:{}}}function T3e(e,t){const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=e.fieldDef(t)?.bin,a=NW(r)?r:void 0,s=k0(i)&&mE(i.extent)?i.extent:void 0;(a||s)&&n.set("selectionExtent",a??s,!0)}function k3e(e,t,n){if(!Cr(n))return;const r=e.fieldDef(t),i=r.sort;if(WW(i))return{op:"min",field:Bd(r,t),order:"ascending"};const{stack:a}=e,s=a?new Set([...a.groupbyFields,...a.stackBy.map(o=>o.fieldDef.field)]):void 0;if(Pl(i)){const o=a&&!s.has(i.field);return zT(i,o)}else if(ywe(i)){const{encoding:o,order:u}=i,c=e.fieldDef(o),{aggregate:h,field:d}=c,p=a&&!s.has(d);if(Wl(h)||zc(h))return zT({field:Ue(c),order:u},p);if(ZD(h)||!h)return zT({op:h,field:d,order:u},p)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(At(["ascending",void 0],i))return!0}}function CI(e,t){const{aggregate:n,type:r}=e;return n?Ge(n)&&!Qbe.has(n)?{valid:!1,reason:qEe(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:GEe(e)}:{valid:!0}:{valid:!1,reason:jEe(e)}}function k4(e,t,n,r){return e.explicit&&t.explicit&&$e(KEe(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function C3e(e){const t=Eo(e.map(s=>{if(Rl(s)){const{sort:o,...u}=s;return u}return s}),Dt),n=Eo(e.map(s=>{if(Rl(s)){const o=s.sort;return o!==void 0&&!rm(o)&&("op"in o&&o.op==="count"&&delete o.field,o.order==="ascending"&&delete o.order),o}}).filter(s=>s!==void 0),Dt);if(t.length===0)return;if(t.length===1){const s=e[0];if(Rl(s)&&n.length>0){let o=n[0];if(n.length>1){$e(zL);const u=n.filter(c=>qe(c)&&"op"in c&&c.op!=="min");n.every(c=>qe(c)&&"op"in c)&&u.length===1?o=u[0]:o=!0}else if(qe(o)&&"field"in o){const u=o.field;s.field===u&&(o=o.order?{order:o.order}:!0)}return{...s,sort:o}}return s}const r=Eo(n.map(s=>rm(s)||!("op"in s)||Ge(s.op)&&We(Xbe,s.op)?s:($e(ZEe(s)),!0)),Dt);let i;r.length===1?i=r[0]:r.length>1&&($e(zL),i=!0);const a=Eo(e.map(s=>Rl(s)?s.data:null),s=>s);return a.length===1&&a[0]!==null?{data:a[0],fields:t.map(o=>o.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function nO(e){if(Rl(e)&&Ge(e.field))return e.field;if(Zbe(e)){let t;for(const n of e.fields)if(Rl(n)&&Ge(n.field)){if(!t)t=n.field;else if(t!==n.field)return $e(JEe),t}return $e(eSe),t}else if(Jbe(e)){$e(tSe);const t=e.fields[0];return Ge(t)?t:void 0}}function BE(e,t){const r=e.component.scales[t].get("domains").map(i=>(Rl(i)&&(i.data=e.lookupDataSource(i.data)),i));return C3e(r)}function GK(e){return pg(e)||rO(e)?e.children.reduce((t,n)=>t.concat(GK(n)),FI(e)):FI(e)}function FI(e){return De(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:a,type:s,selectionExtent:o,domains:u,range:c,reverse:h,...d}=i,p=F3e(i.range,a,n,e),m=BE(e,n),y=o?FTe(e,o,r,m):null;return t.push({name:a,type:s,...m?{domain:m}:{},...y?{domainRaw:y}:{},range:p,...h!==void 0?{reverse:h}:{},...d}),t},[])}function F3e(e,t,n,r){if(Wn(n)){if(C0(e))return{step:{signal:`${t}_step`}}}else if(qe(e)&&Rl(e))return{...e,data:r.lookupDataSource(e.data)};return e}class VK extends su{merged=!1;constructor(t,n){super({},{name:t}),this.setWithExplicit("type",n)}domainHasZero(){const t=this.get("type");if(At([zr.LOG,zr.TIME,zr.UTC],t))return"definitely-not";const n=this.get("zero");if(n===!0||n===void 0&&At([zr.LINEAR,zr.SQRT,zr.POW],t))return"definitely";const r=this.get("domains");if(r.length>0){let i=!1,a=!1,s=!1;for(const o of r){if(Ae(o)){const u=o[0],c=o[o.length-1];if(jt(u)&&jt(c))if(u<=0&&c>=0){i=!0;continue}else{a=!0;continue}}s=!0}if(i)return"definitely";if(a&&!s)return"definitely-not"}return"maybe"}}const D3e=["range","scheme"];function O3e(e){const t=e.component.scales;for(const n of QD){const r=t[n];if(!r)continue;const i=M3e(n,e);r.setWithExplicit("range",i)}}function DI(e,t){const n=e.fieldDef(t);if(n?.bin){const{bin:r,field:i}=n,a=oa(t),s=e.getName(a);if(qe(r)&&r.binned&&r.step!==void 0)return new _r(()=>{const o=e.scaleName(t),u=`(domain("${o}")[1] - domain("${o}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${u})`});if(xn(r)){const o=Z5(e,i,r);return new _r(()=>{const u=e.getSignalName(o),c=`(${u}.stop - ${u}.start) / ${u}.step`;return`${e.getSignalName(s)} / (${c})`})}}}function M3e(e,t){const n=t.specifiedScales[e],{size:r}=t,a=t.getScaleComponent(e).get("type");for(const d of D3e)if(n[d]!==void 0){const p=o4(a,d),m=$W(e,d);if(!p)$e(pW(a,d,e));else if(m)$e(m);else switch(d){case"range":{const y=n.range;if(Ae(y)){if(Wn(e))return xo(y.map(v=>{if(v==="width"||v==="height"){const _=t.getName(v),E=t.getSignalName.bind(t);return _r.fromName(E,_)}return v}))}else if(qe(y))return xo({data:t.requestDataName(Rn.Main),field:y.field,sort:{op:"min",field:t.vgField(e)}});return xo(y)}case"scheme":return xo(R3e(n[d]))}}const s=e===Fn||e==="xOffset"?"width":"height",o=r[s];if(zo(o)){if(Wn(e))if(Cr(a)){const d=WK(o,t,e);if(d)return xo({step:d})}else $e(mW(s));else if(ex(e)){const d=e===Mc?"x":"y";if(t.getScaleComponent(d).get("type")==="band"){const y=YK(o,a);if(y)return xo(y)}}}const{rangeMin:u,rangeMax:c}=n,h=N3e(e,t);return(u!==void 0||c!==void 0)&&o4(a,"rangeMin")&&Ae(h)&&h.length===2?xo([u??h[0],c??h[1]]):xa(h)}function R3e(e){return PSe(e)?{scheme:e.name,...Ca(e,["name"])}:{scheme:e}}function XK(e,t,n,{center:r}={}){const i=oa(e),a=t.getName(i),s=t.getSignalName.bind(t);return e===Dr&&Vs(n)?r?[_r.fromName(o=>`${s(o)}/2`,a),_r.fromName(o=>`-${s(o)}/2`,a)]:[_r.fromName(s,a),0]:r?[_r.fromName(o=>`-${s(o)}/2`,a),_r.fromName(o=>`${s(o)}/2`,a)]:[0,_r.fromName(s,a)]}function N3e(e,t){const{size:n,config:r,mark:i,encoding:a}=t,{type:s}=fr(a[e]),u=t.getScaleComponent(e).get("type"),{domain:c,domainMid:h}=t.specifiedScales[e];switch(e){case Fn:case Dr:{if(At(["point","band"],u)){const d=KK(e,n,r.view);if(zo(d))return{step:WK(d,t,e)}}return XK(e,t,u)}case Mc:case ug:return $3e(e,t,u);case nu:{const d=z3e(i,r),p=B3e(i,n,t,r);return Md(u)?I3e(d,p,L3e(u,r,c,e)):[d,p]}case ps:return[0,Math.PI*2];case A0:return[0,360];case eo:return[0,new _r(()=>{const d=t.getSignalName(Fa(t.parent)?"child_width":"width"),p=t.getSignalName(Fa(t.parent)?"child_height":"height");return`min(${d},${p})/2`})];case Rc:return{step:1e3/r.scale.framesPerSecond};case Lc:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case Ic:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case sa:return"symbol";case aa:case Wo:case Yo:return u==="ordinal"?s==="nominal"?"category":"ordinal":h!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case ru:case Nc:case $c:return[r.scale.minOpacity,r.scale.maxOpacity]}}function WK(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),a=XD(n),s=r[a];if(CY({step:e,offsetIsDiscrete:ht(s)&&d5(s.type)})==="offset"&&lY(r,a)){const u=t.getScaleComponent(a);let h=`domain('${t.scaleName(a)}').length`;if(u.get("type")==="band"){const p=u.get("paddingInner")??u.get("padding")??0,m=u.get("paddingOuter")??u.get("padding")??0;h=`bandspace(${h}, ${p}, ${m})`}const d=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${h} / (1-${iEe(d)})`}}else return e.step}function YK(e,t){if(CY({step:e,offsetIsDiscrete:Cr(t)})==="offset")return{step:e.step}}function $3e(e,t,n){const r=e===Mc?"x":"y",i=t.getScaleComponent(r);if(!i)return XK(r,t,n,{center:!0});const a=i.get("type"),s=t.scaleName(r),{markDef:o,config:u}=t;if(a==="band"){const c=KK(r,t.size,t.config.view);if(zo(c)){const h=YK(c,n);if(h)return h}return[0,{signal:`bandwidth('${s}')`}]}else{const c=t.encoding[r];if(Ne(c)&&c.timeUnit){const h=TW(c.timeUnit,y=>`scale('${s}', ${y})`),d=t.config.scale.bandWithNestedOffsetPaddingInner,p=_c({fieldDef:c,markDef:o,config:u})-.5,m=p!==0?` + ${p}`:"";if(d){const y=et(d)?`${d.signal}/2${m}`:`${d/2+p}`,v=et(d)?`(1 - ${d.signal}/2)${m}`:`${1-d/2+p}`;return[{signal:`${y} * (${h})`},{signal:`${v} * (${h})`}]}return[0,{signal:h}]}return LX(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function KK(e,t,n){const r=e===Fn?"width":"height",i=t[r];return i!==void 0?i:k_(n,r)}function L3e(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Ae(n)?n.length+1:($e(cSe(r)),3)}}function I3e(e,t,n){const r=()=>{const i=Ls(t),a=Ls(e),s=`(${i} - ${a}) / (${n} - 1)`;return`sequence(${a}, ${i} + ${s}, ${s})`};return et(t)?new _r(r):{signal:r()}}function z3e(e,t){switch(e){case"bar":case"tick":return t.scale.minBandSize;case"line":case"trail":case"rule":return t.scale.minStrokeWidth;case"text":return t.scale.minFontSize;case"point":case"square":case"circle":return t.scale.minSize}throw new Error(xE("size",e))}const OI=.95;function B3e(e,t,n,r){const i={x:DI(n,"x"),y:DI(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const a=MI(t,i,r.view);return jt(a)?a-1:new _r(()=>`${a.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const a=MI(t,i,r.view);return jt(a)?Math.pow(OI*a,2):new _r(()=>`pow(${OI} * ${a.signal}, 2)`)}}throw new Error(xE("size",e))}function MI(e,t,n){const r=zo(e.width)?e.width.step:f4(n,"width"),i=zo(e.height)?e.height.step:f4(n,"height");return t.x||t.y?new _r(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function QK(e,t){Mn(e)?P3e(e,t):JK(e,t)}function P3e(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:a,specifiedScales:s}=e;for(const o of De(n)){const u=s[o],c=n[o],h=e.getScaleComponent(o),d=fr(i[o]),p=u[t],m=h.get("type"),y=h.get("padding"),v=h.get("paddingInner"),_=o4(m,t),E=$W(o,t);if(p!==void 0&&(_?E&&$e(E):$e(pW(m,t,o))),_&&E===void 0)if(p!==void 0){const w=d.timeUnit,A=d.type;switch(t){case"domainMax":case"domainMin":F0(u[t])||A==="temporal"||w?c.set(t,{signal:CE(u[t],{type:A,timeUnit:w})},!0):c.set(t,u[t],!0);break;default:c.copyKeyFromObject(t,u)}}else{const w=Oe(RI,t)?RI[t]({model:e,channel:o,fieldOrDatumDef:d,scaleType:m,scalePadding:y,scalePaddingInner:v,domain:u.domain,domainMin:u.domainMin,domainMax:u.domainMax,markDef:a,config:r,hasNestedOffsetScale:uY(i,o),hasSecondaryRangeChannel:!!i[Ko(o)]}):r.scale[t];w!==void 0&&c.set(t,w,!1)}}}const RI={bins:({model:e,fieldOrDatumDef:t})=>Ne(t)?U3e(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>H3e(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:a})=>j3e(e,t,n,r,i,a),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>q3e(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:a})=>G3e(e,t,n.type,r,i.scale,a),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:a})=>V3e(e,t,n,r,i.scale,a),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Ne(e)?e.sort:void 0;return X3e(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:a,hasSecondaryRangeChannel:s})=>W3e(e,t,n,r,i,a.scale,s)};function ZK(e){Mn(e)?O3e(e):JK(e,"range")}function JK(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?ZK(r):QK(r,t);for(const r of De(n)){let i;for(const a of e.children){const s=a.component.scales[r];if(s){const o=s.getWithExplicit(t);i=bc(i,o,t,"scale",HY((u,c)=>{switch(t){case"range":return u.step&&c.step?u.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function U3e(e,t){const n=t.bin;if(xn(n)){const r=Z5(e,t.field,n);return new _r(()=>e.getSignalName(r))}else if($r(n)&&k0(n)&&n.step!==void 0)return{step:n.step}}function H3e(e,t){if(At([aa,Wo,Yo],e)&&t!=="nominal")return"hcl"}function j3e(e,t,n,r,i,a){if(!(Ws(a)?.bin||Ae(n)||i!=null||r!=null||At([zr.TIME,zr.UTC],e)))return Wn(t)?!0:void 0}function q3e(e,t,n,r,i,a){if(Wn(e)){if(So(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:o}=i;if(s==="bar"&&!(Ne(r)&&(r.bin||r.timeUnit))&&(o==="vertical"&&e==="x"||o==="horizontal"&&e==="y"))return a.continuousBandSize}if(t===zr.POINT)return n.pointPadding}}function G3e(e,t,n,r,i,a=!1){if(e===void 0){if(Wn(t)){const{bandPaddingInner:s,barBandPaddingInner:o,rectBandPaddingInner:u,tickBandPaddingInner:c,bandWithNestedOffsetPaddingInner:h}=i;return a?h:Xn(s,n==="bar"?o:n==="tick"?c:u)}else if(ex(t)&&r===zr.BAND)return i.offsetBandPaddingInner}}function V3e(e,t,n,r,i,a=!1){if(e===void 0){if(Wn(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:o}=i;if(a)return o;if(n===zr.BAND)return Xn(s,et(r)?{signal:`${r.signal}/2`}:r/2)}else if(ex(t)){if(n===zr.POINT)return .5;if(n===zr.BAND)return i.offsetBandPaddingOuter}}}function X3e(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Vs(e)&&t==="descending"?et(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Vs(e)&&t==="descending")return!0}function W3e(e,t,n,r,i,a,s){if(!!n&&n!=="unaggregated"&&Vs(i)){if(Ae(n)){const u=n[0],c=n[n.length-1];if(jt(u)&&u<=0&&jt(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!Md(i))return!0;if(!(Ne(t)&&t.bin)&&At([...iu,...zbe],e)){const{orient:u,type:c}=r;return At(["bar","area","line","trail"],c)&&(u==="horizontal"&&e==="y"||u==="vertical"&&e==="x")?!1:At(["bar","area"],c)&&!s?!0:a?.zero}return!1}function Y3e(e,t,n,r,i=!1){const a=K3e(t,n,r,i),{type:s}=e;return Qo(t)?s!==void 0?XSe(t,s)?Ne(n)&&!VSe(s,n.type)?($e(WEe(s,a)),a):s:($e(XEe(t,s,a)),a):a:null}function K3e(e,t,n,r){switch(t.type){case"nominal":case"ordinal":{if(ed(e)||TT(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&$e(kT(e,"ordinal")),"ordinal";if(AT(e))return"band";if(Wn(e)||ex(e)){if(At(["rect","bar","image","rule","tick"],n.type)||r)return"band"}else if(n.type==="arc"&&e in KD)return"band";const i=n[oa(e)];return l0(i)||Nd(t)&&t.axis?.tickBand?"band":"point"}case"temporal":return ed(e)?"time":TT(e)==="discrete"?($e(kT(e,"temporal")),"ordinal"):Ne(t)&&t.timeUnit&&Tr(t.timeUnit).utc?"utc":AT(e)?"band":"time";case"quantitative":return ed(e)?Ne(t)&&xn(t.bin)?"bin-ordinal":"linear":TT(e)==="discrete"?($e(kT(e,"quantitative")),"ordinal"):AT(e)?"band":"linear";case"geojson":return}throw new Error(dW(t.type))}function Q3e(e,{ignoreRange:t}={}){eQ(e),qK(e);for(const n of GSe)QK(e,n);t||ZK(e)}function eQ(e){Mn(e)?e.component.scales=Z3e(e):e.component.scales=e4e(e)}function Z3e(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const a of QD){const s=fr(t[a]);if(s&&n===zW&&a===sa&&s.type===cg)continue;let o=s&&s.scale;if(s&&o!==null&&o!==!1){o??={};const u=uY(t,a),c=Y3e(o,a,s,r,u);i[a]=new VK(e.scaleName(`${a}`,!0),{value:c,explicit:o.type===c})}}return i}const J3e=HY((e,t)=>PL(e)-PL(t));function e4e(e){const t=e.component.scales={},n={},r=e.component.resolve;for(const i of e.children){eQ(i);for(const a of De(i.component.scales))if(r.scale[a]??=OK(a,e),r.scale[a]==="shared"){const s=n[a],o=i.component.scales[a].getWithExplicit("type");s?$Se(s.value,o.value)?n[a]=bc(s,o,"type","scale",J3e):(r.scale[a]="independent",delete n[a]):n[a]=o}}for(const i of De(n)){const a=e.scaleName(i,!0),s=n[i];t[i]=new VK(a,s);for(const o of e.children){const u=o.component.scales[i];u&&(o.renameScale(u.get("name"),a),u.merged=!0)}}return t}class BT{nameMap;constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Mn(e){return e?.type==="unit"}function Fa(e){return e?.type==="facet"}function rO(e){return e?.type==="concat"}function pg(e){return e?.type==="layer"}class iO{type;parent;config;name;size;title;description;data;transforms;layout;scaleNameMap;projectionNameMap;signalNameMap;component;view;constructor(t,n,r,i,a,s,o){this.type=n,this.parent=r,this.config=a,this.parent=r,this.config=a,this.view=Lr(o),this.name=t.name??i,this.title=Uu(t.title)?{text:t.title}:t.title?Lr(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new BT,this.projectionNameMap=r?r.projectionNameMap:new BT,this.signalNameMap=r?r.signalNameMap:new BT,this.data=t.data,this.description=t.description,this.transforms=sTe(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:cAe(t,n,a),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:AE(t)||r?.component.data.isFaceted&&t.data===void 0},layoutSize:new su,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?ft(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Q3e(this)}parseProjection(){UK(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){LK(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const a of De(r)){const s=r[a];s!==void 0&&(i[a]=En(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=En(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n}:dn(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,a=bke(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...a?{titleBand:a}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of rs)t[r].title&&n.push(pke(this,r));for(const r of W5)n=n.concat(mke(this,r));return n}assembleAxes(){return nke(this.component.axes,this.config)}assembleLegends(){return zK(this)}assembleProjections(){return qke(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...iW(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return At(["unit","layer"],this.type)?At(["middle",void 0],r.anchor)&&(r.frame??="group"):r.anchor??="start",dn(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Fa(this.parent)?GK(this):[];i.length>0&&(n.scales=i);const a=this.assembleAxes();a.length>0&&(n.axes=a);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return Cn((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Rn[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Fa(this.parent)){const n=FK(t),r=gE(n),i=this.component.scales[r];if(i&&!i.merged){const a=i.get("type"),s=i.get("range");if(Cr(a)&&C0(s)){const o=i.get("name"),u=BE(this,r),c=nO(u);if(c){const h=Ue({aggregate:"distinct",field:c},{expr:"datum"});return{signal:CK(o,i,h)}}else return $e(e5(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(KX(t)&&Qo(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getScaleType(t){const n=this.getScaleComponent(t);return n?n.get("type"):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(uEe(n));return r}hasAxisOrientSignalRef(){return this.component.axes.x?.some(t=>t.hasOrientSignalRef())||this.component.axes.y?.some(t=>t.hasOrientSignalRef())}}class tQ extends iO{vgField(t,n={}){const r=this.fieldDef(t);if(r)return Ue(r,n)}reduceFieldDef(t,n){return Bwe(this.getMapping(),(r,i,a)=>{const s=Ws(i);return s?t(r,s,a):r},n)}forEachFieldDef(t,n){F5(this.getMapping(),(r,i)=>{const a=Ws(r);a&&t(a,i)},n)}}class PE extends sn{transform;clone(){return new PE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"];const i=this.transform.resolve??"shared";this.transform.resolve=i}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Dt(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return r.resolve=this.transform.resolve,r}}class UE extends sn{transform;clone(){return new UE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Dt(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class HE extends sn{transform;clone(){return new HE(this.parent,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((a,s)=>i[s]??a)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Dt(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class jE extends sn{transform;clone(){return new jE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Dt(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class rd extends sn{fields;geojson;signal;clone(){return new rd(null,ft(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[no,to],[hs,ro]]){const a=i.map(s=>{const o=fr(n.encoding[s]);return Ne(o)?o.field:Zo(o)?{expr:`${o.datum}`}:Xs(o)?{expr:`${o.value}`}:void 0});(a[0]||a[1])&&(t=new rd(t,a,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(sa)){const i=n.typedFieldDef(sa);i.type===cg&&(t=new rd(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(Ge);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Dt(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class om extends sn{projection;fields;as;clone(){return new om(null,this.projection,ft(this.fields),ft(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[no,to],[hs,ro]]){const i=r.map(s=>{const o=fr(n.encoding[s]);return Ne(o)?o.field:Zo(o)?{expr:`${o.datum}`}:Xs(o)?{expr:`${o.value}`}:void 0}),a=r[0]===hs?"2":"";(i[0]||i[1])&&(t=new om(t,n.projectionName(),i,[n.getName(`x${a}`),n.getName(`y${a}`)]))}return t}dependentFields(){return new Set(this.fields.filter(Ge))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Dt(this.fields)} ${Dt(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class Uf extends sn{transform;clone(){return new Uf(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new Uf(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,a=r.y;if(Ne(i)&&Ne(a)){const s=i.impute?i:a.impute?a:void 0;if(s===void 0)return;const o=i.impute?a:a.impute?i:void 0,{method:u,value:c,frame:h,keyvals:d}=s.impute,p=hY(n.mark,r);return new Uf(t,{impute:s.field,key:o.field,...u?{method:u}:{},...c!==void 0?{value:c}:{},...h?{frame:h}:{},...d!==void 0?{keyvals:d}:{},...p.length?{groupby:p}:{}})}return null}hash(){return`Impute ${Dt(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:a,value:s,frame:o=[null,null]}=this.transform,u={type:"impute",field:t,key:n,...r?{keyvals:UAe(r)?this.processSequence(r):r}:{},method:"value",...a?{groupby:a}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const c={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:o,ignorePeers:!1,...a?{groupby:a}:{}},h={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[u,c,h]}else return[u]}}class qE extends sn{transform;clone(){return new qE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Dt(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class lm extends sn{transform;secondary;clone(){return new lm(null,ft(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const a=n.component.data.sources,{from:s}=r;let o=null;if(HAe(s)){let u=iQ(s.data,a);u||(u=new h0(s.data),a.push(u));const c=n.getName(`lookup_${i}`);o=new ta(u,c,Rn.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=o}else if(jAe(s)){const u=s.param;r={as:u,...r};let c;try{c=n.getSelectionComponent(Cn(u),u)}catch{throw new Error(dEe(u))}if(o=c.materialized,!o)throw new Error(gEe(u))}return new lm(t,r,o.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?Ve(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Dt({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:Ve(this.transform.as)}:{}};else{let n=this.transform.as;Ge(n)||($e(AEe),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class GE extends sn{transform;clone(){return new GE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Dt(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class VE extends sn{transform;clone(){return new VE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=ft(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Dt(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class XE extends sn{transform;clone(){return new XE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=Eo((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Dt(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:a}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...a!==void 0?{op:a}:{},...r!==void 0?{groupby:r}:{}}}}class WE extends sn{transform;clone(){return new WE(null,ft(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Dt(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function nQ(e){let t=0;function n(r,i){if(r instanceof h0&&!r.isGenerator&&!Ld(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof si&&(r.parent instanceof h0&&!i.source?(i.format={...i.format,parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof dg){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof cx||r instanceof fx||r instanceof Ud||r instanceof hg||r instanceof zd||r instanceof om||r instanceof Us||r instanceof lm||r instanceof gg||r instanceof R0||r instanceof jE||r instanceof HE||r instanceof PE||r instanceof qE||r instanceof GE||r instanceof VE||r instanceof Ec||r instanceof WE||r instanceof XE||r instanceof UE)&&i.transform.push(r.assemble()),(r instanceof Fo||r instanceof ko||r instanceof Uf||r instanceof Hl||r instanceof rd)&&i.transform.push(...r.assemble()),r instanceof ta&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof ta?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof ta&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let a=i.name;!i.source||i.transform.length>0?e.push(i):a=i.source;for(const s of r.children)n(s,{name:null,source:a,transform:[]});break}}}return n}function t4e(e){const t=[],n=nQ(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function n4e(e,t){const n=[],r=nQ(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const o=s.assemble();r(s,o)}for(const s of n)s.transform.length===0&&delete s.transform;let a=0;for(const[s,o]of n.entries())(o.transform??[]).length===0&&!o.source&&n.splice(a++,0,n.splice(s,1)[0]);for(const s of n)for(const o of s.transform??[])o.type==="lookup"&&(o.from=e.outputNodes[o.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function r4e(e){return e==="top"||e==="left"||et(e)?"header":"footer"}function i4e(e){for(const t of rs)a4e(e,t);NI(e,"x"),NI(e,"y")}function a4e(e,t){const{facet:n,config:r,child:i,component:a}=e;if(e.channelHasField(t)){const s=n[t],o=Pd("title",null,r,t);let u=td(s,r,{allowDisabling:!0,includeDefault:o===void 0||!!o});i.component.layoutHeaders[t].title&&(u=Ae(u)?u.join(", "):u,u+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const c=Pd("labelOrient",s.header,r,t),h=s.header!==null?Xn(s.header?.labels,r.header.labels,!0):!1,d=At(["bottom","right"],c)?"footer":"header";a.layoutHeaders[t]={title:s.header!==null?u:null,facetFieldDef:s,[d]:t==="facet"?[]:[rQ(e,t,h)]}}}function rQ(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function NI(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=Q5(i,t),i.axis[t]==="shared"){const a=t==="x"?"column":"row",s=r[a];for(const o of n.component.axes[t]){const u=r4e(o.get("orient"));s[u]??=[rQ(e,a,!1)];const c=ap(o,"main",e.config,{header:!0});c&&s[u][0].axes.push(c),o.mainExtracted=!0}}}}function s4e(e){aO(e),O_(e,"width"),O_(e,"height")}function o4e(e){aO(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";O_(e,t),O_(e,n)}function aO(e){for(const t of e.children)t.parseLayoutSize()}function O_(e,t){const n=FK(t),r=gE(n),i=e.component.resolve,a=e.component.layoutSize;let s;for(const o of e.children){const u=o.component.layoutSize.getWithExplicit(n),c=i.scale[r]??OK(r,e);if(c==="independent"&&u.value==="step"){s=void 0;break}if(s){if(c==="independent"&&s.value!==u.value){s=void 0;break}s=bc(s,u,n,"")}else s=u}if(s){for(const o of e.children)e.renameSignal(o.getName(n),e.getName(t)),o.component.layoutSize.set(n,"merged",!1);a.setWithExplicit(t,s)}else a.setWithExplicit(t,{explicit:!1,value:void 0})}function l4e(e){const{size:t,component:n}=e;for(const r of iu){const i=oa(r);if(t[i]!=null&&t[i]!=null){const a=t[i];n.layoutSize.set(i,zo(a)?"step":a,!0)}else{const a=u4e(e,i);n.layoutSize.set(i,a,!1)}}}function u4e(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const a=i.get("type"),s=i.get("range");if(Cr(a)){const o=k_(r.view,t);return C0(s)||zo(o)?"step":o}else return c4(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return c4(r.view,t);{const a=k_(r.view,t);return zo(a)?a.step:a}}}function C4(e,t,n){return Ue(t,{suffix:`by_${Ue(e)}`,...n})}class wp extends tQ{facet;child;children;constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=cO(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!ix(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=De(t),r={};for(const i of n){if(![zl,Bl].includes(i)){$e(xE(i,"facet"));break}const a=t[i];if(a.field===void 0){$e(a4(a,i));break}r[i]=this.initFacetFieldDef(a,i)}return r}initFacetFieldDef(t,n){const r=C5(t,n);return r.header?r.header=Lr(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return Oe(this.facet,t)}fieldDef(t){return this.facet[t]}parseData(){this.component.data=YE(this),this.child.parseData()}parseLayoutSize(){aO(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection,ir(this.component.selection).some(t=>Co(t))&&n5(t5)}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),i4e(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of rs)for(const r of Y5){const i=this.component.layoutHeaders[n],a=i[r],{facetFieldDef:s}=i;if(s){const o=Pd("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(o)){const u=IE(n,o);t.titleAnchor??={},t.titleAnchor[u]="end"}}if(a?.[0]){const o=n==="row"?"height":"width",u=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(o)&&(t[u]??={},t[u][n]=.5),i.title&&(t.offset??={},t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof wp))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof wp?{...this.channelHasField("column")?{encode:{update:{columns:{field:Ue(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof wp){if(this.child.channelHasField("column")){const i=Ue(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of iu){const a=this.child.component.scales[i];if(a&&!a.merged){const s=a.get("type"),o=a.get("range");if(Cr(s)&&C0(o)){const u=BE(this.child,i),c=nO(u);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):$e(e5(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:a,ops:s,as:o}=this.getCardinalityAggregateForChild(),u=[];for(const h of rs){const d=this.facet[h];if(d){u.push(Ue(d));const{bin:p,sort:m}=d;if(xn(p)&&u.push(Ue(d,{binSuffix:"end"})),Pl(m)){const{field:y,op:v=wE}=m,_=C4(d,m);r&&i?(a.push(_),s.push("max"),o.push(_)):(a.push(y),s.push(v),o.push(_))}else if(Ae(m)){const y=Bd(d,h);a.push(y),s.push("max"),o.push(y)}}}const c=!!r&&!!i;return{name:t,data:n,groupby:u,...c||a.length>0?{aggregate:{...c?{cross:c}:{},...a.length?{fields:a,ops:s,as:o}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?Pl(r.sort)?[C4(r,r.sort,{expr:"datum"})]:Ae(r.sort)?[Bd(r,t,{expr:"datum"})]:[Ue(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(Pl(i)?i.order:!Ae(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){const{facet:t,config:n}=this;if(t.facet)return b4(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const i of W5)if(t[i]){const a=Pd("labelOrient",t[i]?.header,n,i);if(r[i].includes(a))return b4(t[i],i,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=t4e(n),i=t.assembleGroupEncodeEntry(!1),a=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...a?{title:a}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:rs.map(u=>this.facetSortFields(u)).flat(),order:rs.map(u=>this.facetSortOrder(u)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(ATe(this,[]))}]}getMapping(){return this.facet}}function c4e(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const a of[n,r])if(Pl(a.sort)){const{field:s,op:o=wE}=a.sort;e=i=new R0(e,{joinaggregate:[{op:o,field:s,as:C4(a,a.sort,{forAs:!0})}],groupby:[Ue(a)]})}return i}return null}function iQ(e,t){for(const n of t){const r=n.data;if(e.name&&n.hasName()&&e.name!==n.dataName)continue;const i=e.format?.mesh,a=r.format?.feature;if(i&&a)continue;const s=e.format?.feature;if((s||a)&&s!==a)continue;const o=r.format?.mesh;if(!((i||o)&&i!==o)){if(sm(e)&&sm(r)){if(wa(e.values,r.values))return n}else if(Ld(e)&&Ld(r)){if(e.url===r.url)return n}else if(jY(e)&&e.name===n.dataName)return n}}return null}function f4e(e,t){if(e.data||!e.parent){if(e.data===null){const r=new h0({values:[]});return t.push(r),r}const n=iQ(e.data,t);if(n)return sc(e.data)||(n.data.format=IX({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new h0(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function h4e(e,t,n){let r=0;for(const i of t.transforms){let a,s;if(JAe(i))s=e=new zd(e,i),a="derived";else if(P5(i)){const o=r3e(i);s=e=si.makeWithAncestors(e,{},o,n)??e,e=new hg(e,t,i.filter)}else if(zY(i))s=e=Fo.makeFromTransform(e,i,t),a="number";else if(tTe(i))a="date",n.getWithExplicit(i.field).value===void 0&&(e=new si(e,{[i.field]:a}),n.set(i.field,a,!1)),s=e=ko.makeFromTransform(e,i);else if(nTe(i))s=e=Us.makeFromTransform(e,i),a="number",X5(t)&&(e=new Ec(e));else if(IY(i))s=e=lm.make(e,t,i,r++),a="derived";else if(KAe(i))s=e=new gg(e,i),a="number";else if(QAe(i))s=e=new R0(e,i),a="number";else if(rTe(i))s=e=Hl.makeFromTransform(e,i),a="derived";else if(iTe(i))s=e=new jE(e,i),a="derived";else if(aTe(i))s=e=new UE(e,i),a="derived";else if(ZAe(i))s=e=new HE(e,i),a="derived";else if(qAe(i))s=e=new XE(e,i),a="derived";else if(YAe(i))e=new WE(e,i);else if(eTe(i))s=e=Uf.makeFromTransform(e,i),a="derived";else if(GAe(i))s=e=new PE(e,i),a="derived";else if(VAe(i))s=e=new GE(e,i),a="derived";else if(XAe(i))s=e=new VE(e,i),a="derived";else if(WAe(i))s=e=new qE(e,i),a="derived";else{$e(wEe(i));continue}if(s&&a!==void 0)for(const o of s.producedFields()??[])n.set(o,a,!1)}return e}function YE(e){let t=f4e(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&(sc(i)||Ld(i)||sm(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new xTe;sc(i)?(qY(i)?t=new fx(t,i.sequence):U5(i)&&(t=new cx(t,i.graticule)),s.parseNothing=!0):i?.format?.parse===null&&(s.parseNothing=!0),t=si.makeExplicit(t,e,s)??t,t=new Ec(t);const o=e.parent&&pg(e.parent);(Mn(e)||Fa(e))&&o&&(t=Fo.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=h4e(t,e,s));const u=a3e(e),c=i3e(e);t=si.makeWithAncestors(t,{},{...u,...c},s)??t,Mn(e)&&(t=rd.parseAll(t,e),t=om.parseAll(t,e)),(Mn(e)||Fa(e))&&(o||(t=Fo.makeFromEncoding(t,e)??t),t=ko.makeFromEncoding(t,e)??t,t=zd.parseAllForSortIndex(t,e));const h=t=dv(Rn.Raw,e,t);if(Mn(e)){const _=Us.makeFromEncoding(t,e);_&&(t=_,X5(e)&&(t=new Ec(t))),t=Uf.makeFromEncoding(t,e)??t,t=Hl.makeFromEncoding(t,e)??t}let d,p;if(Mn(e)){const{markDef:_,mark:E,config:w}=e,A=Jt("invalid",_,w),{marks:k,scales:D}=p=VY({invalid:A,isPath:Bc(E)});k!==D&&D==="include-invalid-values"&&(d=t=dv(Rn.PreFilterInvalid,e,t)),k==="exclude-invalid-values"&&(t=Ud.make(t,e,p)??t)}const m=t=dv(Rn.Main,e,t);let y;if(Mn(e)&&p){const{marks:_,scales:E}=p;_==="include-invalid-values"&&E==="exclude-invalid-values"&&(t=Ud.make(t,e,p)??t,y=t=dv(Rn.PostFilterInvalid,e,t))}Mn(e)&&eke(e,m);let v=null;if(Fa(e)){const _=e.getName("facet");t=c4e(t,e.facet)??t,v=new dg(t,e,_,m.getSource()),n[_]=v}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:h,main:m,facetRoot:v,ancestorParse:s,preFilterInvalid:d,postFilterInvalid:y}}function dv(e,t,n){const{outputNodes:r,outputNodeRefCounts:i}=t.component.data,a=t.getDataName(e),s=new ta(n,a,e,i);return r[a]=s,s}class d4e extends iO{children;constructor(t,n,r,i){super(t,"concat",n,r,i,t.resolve),(t.resolve?.axis?.x==="shared"||t.resolve?.axis?.y==="shared")&&$e(bEe),this.children=this.getChildren(t).map((a,s)=>cO(a,this,this.getName(`concat_${s}`),void 0,i))}parseData(){this.component.data=YE(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of De(t.component.selection))this.component.selection[n]=t.component.selection[n]}ir(this.component.selection).some(t=>Co(t))&&n5(t5)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return OE(t)?t.vconcat:z5(t)?t.hconcat:t.concat}parseLayoutSize(){o4e(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=K5(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function g4e(e){return e===!1||e===null}const p4e={disable:1,gridScale:1,scale:1,...sY,labelExpr:1,encode:1},aQ=De(p4e);class sO extends su{explicit;implicit;mainExtracted;constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new sO(ft(this.explicit),ft(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!g4e(this.get(t))}hasOrientSignalRef(){return et(this.explicit.orient)}}function m4e(e,t,n){const{encoding:r,config:i}=e,a=fr(r[t])??fr(r[Ko(t)]),s=e.axis(t)||{},{format:o,formatType:u}=s;if(u0(u))return{text:Is({fieldOrDatumDef:a,field:"datum.value",format:o,formatType:u,config:i}),...n};if(o===void 0&&u===void 0&&i.customFormatTypes){if(Rd(a)==="quantitative"){if(Nd(a)&&a.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Is({fieldOrDatumDef:a,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Is({fieldOrDatumDef:a,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(Rd(a)==="temporal"&&i.timeFormatType&&Ne(a)&&!a.timeUnit)return{text:Is({fieldOrDatumDef:a,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function x4e(e){return iu.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[w4e(n,e)]),t),{})}const y4e={bottom:"top",top:"bottom",left:"right",right:"left"};function v4e(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const a of De(i.component.axes))n.axis[a]=Q5(e.component.resolve,a),n.axis[a]==="shared"&&(t[a]=_4e(t[a],i.component.axes[a]),t[a]||(n.axis[a]="independent",delete t[a]))}for(const i of iu){for(const a of e.children)if(a.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(a.component.axes[i]);for(const s of a.component.axes[i]){const{value:o,explicit:u}=s.getWithExplicit("orient");if(!et(o)){if(r[o]>0&&!u){const c=y4e[o];r[o]>r[c]&&s.set("orient",c,!1)}r[o]++}}}delete a.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[a,s]of(t[i]||[]).entries())a>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function _4e(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],a=t[r];if(!!i!=!!a)return;if(i&&a){const s=i.getWithExplicit("orient"),o=a.getWithExplicit("orient");if(s.explicit&&o.explicit&&s.value!==o.value)return;e[r]=b4e(i,a)}}}else return t.map(n=>n.clone());return e}function b4e(e,t){for(const n of aQ){const r=bc(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,a)=>{switch(n){case"title":return fW(i,a);case"gridScale":return{explicit:i.explicit,value:Xn(i.value,a.value)}}return RE(i,a,n,"axis")});e.setWithExplicit(n,r)}return e}function E4e(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(et(n.labelAngle)?n.labelAngle:im(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===wK(r,i))return!0}return e===n[t]}const S4e=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function w4e(e,t){let n=t.axis(e);const r=new sO,i=fr(t.encoding[e]),{mark:a,config:s}=t,o=n?.orient||s[e==="x"?"axisX":"axisY"]?.orient||s.axis?.orient||cke(e),u=t.getScaleComponent(e).get("type"),c=rke(e,u,o,t.config),h=n!==void 0?!n:v4("disable",s.style,n?.style,c).configValue;if(r.set("disable",h,n!==void 0),h)return r;n=n||{};const d=oke(i,n,e,s.style,c),p=VW(n.formatType,i,u),m=GW(i,i.type,n.format,n.formatType,s,!0),y={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:u,orient:o,labelAngle:d,format:m,formatType:p,mark:a,config:s};for(const E of aQ){const w=E in _I?_I[E](y):XL(E)?n[E]:void 0,A=w!==void 0,k=E4e(w,E,n,t,e);if(A&&k)r.set(E,w,k);else{const{configValue:D=void 0,configFrom:O=void 0}=XL(E)&&E!=="values"?v4(E,s.style,n.style,c):{},T=D!==void 0;A&&!T?r.set(E,w,k):(O!=="vgAxisConfig"||S4e.has(E)&&T||lx(D)||et(D))&&r.set(E,D,!1)}}const v=n.encoding??{},_=aY.reduce((E,w)=>{if(!r.hasAxisPart(w))return E;const A=DK(v[w]??{},t),k=w==="labels"?m4e(t,e,A):A;return k!==void 0&&!dn(k)&&(E[w]={update:k}),E},{});return dn(_)||r.set("encode",_,!!n.encoding||n.labelAngle!==void 0),r}function A4e({encoding:e,size:t}){for(const n of iu){const r=oa(n);zo(t[r])&&Zu(e[n])&&(delete t[r],$e(mW(r)))}return t}const T4e={vgMark:"arc",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Oi("x",e,{defaultPos:"mid"}),...Oi("y",e,{defaultPos:"mid"}),...Yl(e,"radius"),...Yl(e,"theta")})},k4e={vgMark:"area",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...C_("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...C_("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),...V5(e)})},C4e={vgMark:"rect",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Yl(e,"x"),...Yl(e,"y")})},F4e={vgMark:"shape",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Ne(n)&&n.type===cg?{field:Ue(n,{expr:"datum"})}:{}}]}},D4e={vgMark:"image",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...Yl(e,"x"),...Yl(e,"y"),...j5(e,"url")})},O4e={vgMark:"line",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...Oi("x",e,{defaultPos:"mid"}),...Oi("y",e,{defaultPos:"mid"}),...Br("size",e,{vgChannel:"strokeWidth"}),...V5(e)})},M4e={vgMark:"trail",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Oi("x",e,{defaultPos:"mid"}),...Oi("y",e,{defaultPos:"mid"}),...Br("size",e),...V5(e)})};function oO(e,t){const{config:n}=e;return{...ms(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...Oi("x",e,{defaultPos:"mid"}),...Oi("y",e,{defaultPos:"mid"}),...Br("size",e),...Br("angle",e),...R4e(e,n,t)}}function R4e(e,t,n){return n?{shape:{value:n}}:Br("shape",e)}const N4e={vgMark:"symbol",encodeEntry:e=>oO(e)},$4e={vgMark:"symbol",encodeEntry:e=>oO(e,"circle")},L4e={vgMark:"symbol",encodeEntry:e=>oO(e,"square")},I4e={vgMark:"rect",encodeEntry:e=>({...ms(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Yl(e,"x"),...Yl(e,"y")})},z4e={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...ms(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...C_("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...C_("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...Br("size",e,{vgChannel:"strokeWidth"})}}},B4e={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...ms(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...Oi("x",e,{defaultPos:"mid"}),...Oi("y",e,{defaultPos:"mid"}),...j5(e),...Br("size",e,{vgChannel:"fontSize"}),...Br("angle",e),...mI("align",P4e(e.markDef,n,t)),...mI("baseline",U4e(e.markDef,n,t)),...Oi("radius",e,{defaultPos:null}),...Oi("theta",e,{defaultPos:null})}}};function P4e(e,t,n){if(Jt("align",e,n)===void 0)return"center"}function U4e(e,t,n){if(Jt("baseline",e,n)===void 0)return"middle"}const H4e={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"x":"y",a=r==="horizontal"?"y":"x",s=r==="horizontal"?"height":"width";return{...ms(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...Yl(e,i),...Oi(a,e,{defaultPos:"mid",vgChannel:a==="y"?"yc":"xc"}),[s]:En(Jt("thickness",n,t))}}},gv={arc:T4e,area:k4e,bar:C4e,circle:$4e,geoshape:F4e,image:D4e,line:O4e,point:N4e,rect:I4e,rule:z4e,square:L4e,text:B4e,tick:H4e,trail:M4e};function j4e(e){if(At([EE,_E,QSe],e.mark)){const t=hY(e.mark,e.encoding);if(t.length>0)return q4e(e,t)}else if(e.mark===bE){const t=r4.some(n=>Jt(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return G4e(e)}return lO(e)}const $I="faceted_path_";function q4e(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:$I+e.requestDataName(Rn.Main),data:e.requestDataName(Rn.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:lO(e,{fromPrefix:$I})}]}const LI="stack_group_";function G4e(e){const[t]=lO(e,{fromPrefix:LI}),n=e.scaleName(e.stack.fieldChannel),r=(c={})=>e.vgField(e.stack.fieldChannel,c),i=(c,h)=>{const d=[r({prefix:"min",suffix:"start",expr:h}),r({prefix:"max",suffix:"start",expr:h}),r({prefix:"min",suffix:"end",expr:h}),r({prefix:"max",suffix:"end",expr:h})];return`${c}(${d.map(p=>`scale('${n}',${p})`).join(",")})`};let a,s;e.stack.fieldChannel==="x"?(a={...kd(t.encode.update,["y","yc","y2","height",...r4]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Ca(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(a={...kd(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Ca(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const c of r4){const h=Lo(c,e.markDef,e.config);t.encode.update[c]?(a[c]=t.encode.update[c],delete t.encode.update[c]):h&&(a[c]=En(h)),h&&(t.encode.update[c]={value:0})}const o=[];if(e.stack.groupbyChannels?.length>0)for(const c of e.stack.groupbyChannels){const h=e.fieldDef(c),d=Ue(h);d&&o.push(d),(h?.bin||h?.timeUnit)&&o.push(Ue(h,{binSuffix:"end"}))}return a=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((c,h)=>{if(t.encode.update[h])return{...c,[h]:t.encode.update[h]};{const d=Lo(h,e.markDef,e.config);return d!==void 0?{...c,[h]:En(d)}:c}},a),a.stroke&&(a.strokeForeground={value:!0},a.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Rn.Main),name:LI+e.requestDataName(Rn.Main),groupby:o,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:a},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function V4e(e){const{encoding:t,stack:n,mark:r,markDef:i,config:a}=e,s=t.order;if(!(!Ae(s)&&Xs(s)&&t4(s.value)||!s&&t4(Jt("order",i,a)))){if((Ae(s)||Ne(s))&&!n)return lW(s,{expr:"datum"});if(Bc(r)){const o=i.orient==="horizontal"?"y":"x",u=t[o];if(Ne(u))return{field:o}}}}function lO(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:a}=e,s=Xn(r.clip,X4e(e),W4e(e)),o=sW(r),u=i.key,c=V4e(e),h=Y4e(e);h&&Object.values(e.component.selection).some(m=>m.type==="point"&&!m.bind&&m.on!=="pointerover")&&(e.markDef.cursor??="pointer");const d=Jt("aria",r,a),p=gv[n].postEncodingTransform?gv[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:gv[n].vgMark,...s?{clip:s}:{},...o?{style:o}:{},...u?{key:u.field}:{},...c?{sort:c}:{},...h||{},...d===!1?{aria:d}:{},from:{data:t.fromPrefix+e.requestDataName(Rn.Main)},encode:{update:gv[n].encodeEntry(e)},...p?{transform:p}:{}}]}function X4e(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t?.get("selectionExtent")||n?.get("selectionExtent")?!0:void 0}function W4e(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function Y4e(e){if(!e.component.selection)return null;const t=De(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=De(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip||!!e.markDef.tooltip}:null}class sQ extends tQ{markDef;encoding;specifiedScales={};stack;specifiedAxes={};specifiedLegends={};specifiedProjection={};selection=[];children=[];constructor(t,n,r,i={},a){super(t,"unit",n,r,a,void 0,YL(t)?t.view:void 0);const s=Io(t.mark)?{...t.mark}:{type:t.mark},o=s.type;s.filled===void 0&&(s.filled=RAe(s,a,{graticule:t.data&&U5(t.data)}));const u=this.encoding=Iwe(t.encoding||{},o,s.filled,a);this.markDef=RY(s,u,a),this.size=A4e({encoding:u,size:YL(t)?{...i,...t.width!==void 0?{width:t.width}:{},...t.height!==void 0?{height:t.height}:{}}:i}),this.stack=MY(this.markDef,u),this.specifiedScales=this.initScales(o,u),this.specifiedAxes=this.initAxes(u),this.specifiedLegends=this.initLegends(u),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>L5(c)),this.alignStackOrderWithColorDomain()}get hasProjection(){const{encoding:t}=this,n=this.mark===zW,r=t&&Fbe.some(i=>ht(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return QD.reduce((r,i)=>{const a=fr(n[i]);return a&&(r[i]=this.initScale(a.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=Lr(t);return Ae(n)&&(i.domain=n.map(ba)),Ae(r)&&(i.range=r.map(ba)),i}initAxes(t){return iu.reduce((n,r)=>{const i=t[r];if(ht(i)||r===Fn&&ht(t.x2)||r===Dr&&ht(t.y2)){const a=ht(i)?i.axis:void 0;n[r]=a&&this.initAxis({...a})}return n},{})}initAxis(t){const n=De(t),r={};for(const i of n){const a=t[i];r[i]=lx(a)?aW(a):ba(a)}return r}initLegends(t){return Pbe.reduce((n,r)=>{const i=fr(t[r]);if(i&&Hbe(r)){const a=i.legend;n[r]=a&&Lr(a)}return n},{})}alignStackOrderWithColorDomain(){const{color:t,fill:n,order:r,xOffset:i,yOffset:a}=this.encoding,s=n||t,o=Ne(s)?s:void 0,u=o?.field,c=o?.scale,h=o?.type,d=c?.domain,p=i||a,m=Ne(p)?p:void 0,y=`_${u}_sort_index`;if(!r&&Array.isArray(d)&&typeof u=="string"&&h==="nominal")if(m&&!m.sort)m.sort=d;else{if(!this.stack)return;const v=`indexof(${ze(d)}, datum['${u}'])`,_=this.markDef?.orient==="horizontal"?"ascending":"descending";this.transforms.push({calculate:v,as:y}),this.encoding.order={field:y,type:"quantitative",sort:_}}}parseData(){this.component.data=YE(this)}parseLayoutSize(){l4e(this)}parseSelections(){this.component.selection=JTe(this,this.selection)}parseMarkGroup(){this.component.mark=j4e(this)}parseAxesAndHeaders(){this.component.axes=x4e(this)}assembleSelectionTopLevelSignals(t){return TTe(this,t)}assembleSignals(){return[...bK(this),...wTe(this,[])]}assembleSelectionData(t){return kTe(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return K5(this)}correctDataNames=t=>(t.from?.data&&(t.from.data=this.lookupDataSource(t.from.data),"time"in this.encoding&&(t.from.data=t.from.data+WY)),t.from?.facet?.data&&(t.from.facet.data=this.lookupDataSource(t.from.facet.data)),t);assembleMarks(){let t=this.component.mark??[];return(!this.parent||!pg(this.parent))&&(t=ZY(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return Bf(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Ws(n)}typedFieldDef(t){const n=this.fieldDef(t);return zi(n)?n:null}}class uO extends iO{children;constructor(t,n,r,i,a){super(t,"layer",n,r,a,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((o,u)=>{if(ME(o))return new uO(o,this,this.getName(`layer_${u}`),s,a);if(au(o))return new sQ(o,this,this.getName(`layer_${u}`),s,a);throw new Error(JD(o))})}parseData(){this.component.data=YE(this);for(const t of this.children)t.parseData()}parseLayoutSize(){s4e(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of De(t.component.selection))this.component.selection[n]=t.component.selection[n]}ir(this.component.selection).some(t=>Co(t))&&n5(t5)}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){v4e(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),bK(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),K5(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of Ve(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return CTe(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),zK(this))}}function cO(e,t,n,r,i){if(AE(e))return new wp(e,t,n,i);if(ME(e))return new uO(e,t,n,r,i);if(au(e))return new sQ(e,t,n,r,i);if(oAe(e))return new d4e(e,t,n,i);throw new Error(JD(e))}function K4e(e,t={}){t.logger&&fSe(t.logger),t.fieldTitle&&nY(t.fieldTitle);try{const n=OY(Gd(t.config,e.config)),r=UY(e,n),i=cO(r,null,"",void 0,n);return i.parse(),_3e(i.component.data,i),{spec:Z4e(i,Q4e(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&hSe(),t.fieldTitle&&Cwe()}}function Q4e(e,t,n,r){const i=r.component.layoutSize.get("width"),a=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):Ge(t)&&(t={type:t}),i&&a&&gTe(t.type)){if(i==="step"&&a==="step")$e(RL()),t.type="pad";else if(i==="step"||a==="step"){const s=i==="step"?"width":"height";$e(RL(gE(s)));const o=s==="width"?"height":"width";t.type=pTe(o)}}return{...De(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...oI(n,!1),...oI(e,!0)}}function Z4e(e,t,n={},r){const i=e.config?bAe(e.config):void 0,a=n4e(e.component.data,n),s=e.assembleSelectionData(a),o=e.assembleProjections(),u=e.assembleTitle(),c=e.assembleGroupStyle(),h=e.assembleGroupEncodeEntry(!0);let d=e.assembleLayoutSignals();d=d.filter(y=>(y.name==="width"||y.name==="height")&&y.value!==void 0?(t[y.name]=+y.value,!1):!0);const{params:p,...m}=t;return{$schema:"https://vega.github.io/schema/vega/v6.json",...e.description?{description:e.description}:{},...m,...u?{title:u}:{},...c?{style:c}:{},...h?{encode:{update:h}}:{},data:s,...o.length>0?{projections:o}:{},...e.assembleGroup([...d,...e.assembleSelectionTopLevelSignals([]),...kY(p)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const J4e=Sbe.version,eCe=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:Fd,accessPathWithDatum:jD,accessWithDatumToUnescapedPath:rn,compile:K4e,contains:At,deepEqual:wa,deleteNestedProperty:y_,duplicate:ft,entries:yc,every:PD,fieldIntersection:HD,flatAccessWithDatum:BX,getFirstDefined:Xn,hasIntersection:UD,hasProperty:Oe,hash:Dt,internalField:jX,isBoolean:rm,isEmpty:dn,isEqual:Abe,isInternalField:qX,isNullOrFalse:t4,isNumeric:lE,keys:De,logicalExpr:Ep,mergeDeep:IX,never:LX,normalize:UY,normalizeAngle:im,omit:Ca,pick:kd,prefixGenerator:n4,removePathFromField:lg,replaceAll:r0,replacePathInField:fs,resetIdCounter:kbe,setEqual:zX,some:Cd,stringify:en,titleCase:Qm,unescapeSingleQuoteAndPathDot:PX,unique:Eo,uniqueId:HX,vals:ir,varName:Cn,version:J4e},Symbol.toStringTag,{value:"Module"}));function oQ(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var tCe="3.0.0",nCe={version:tCe};const Nh="#fff",II="#888",rCe={background:"#333",view:{stroke:II},title:{color:Nh,subtitleColor:Nh},style:{"guide-label":{fill:Nh},"guide-title":{fill:Nh}},axis:{domainColor:Nh,gridColor:II,tickColor:Nh}},hf="#4572a7",iCe={background:"#fff",arc:{fill:hf},area:{fill:hf},line:{stroke:hf,strokeWidth:2},path:{stroke:hf},rect:{fill:hf},shape:{stroke:hf},symbol:{fill:hf,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},df="#30a2da",PT="#cbcbcb",aCe="#999",sCe="#333",zI="#f0f0f0",BI="#333",oCe={arc:{fill:df},area:{fill:df},axis:{domainColor:PT,grid:!0,gridColor:PT,gridWidth:1,labelColor:aCe,labelFontSize:10,titleColor:sCe,tickColor:PT,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:zI,group:{fill:zI},legend:{labelColor:BI,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:BI,titleFontSize:14,titlePadding:10},line:{stroke:df,strokeWidth:2},path:{stroke:df,strokeWidth:.5},rect:{fill:df},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:df},bar:{binSpacing:2,fill:df,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},gf="#000",lCe={group:{fill:"#e5e5e5"},arc:{fill:gf},area:{fill:gf},line:{stroke:gf},path:{stroke:gf},rect:{fill:gf},shape:{stroke:gf},symbol:{fill:gf,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},uCe=22,cCe="normal",PI="Benton Gothic, sans-serif",UI=11.5,fCe="normal",pf="#82c6df",UT="Benton Gothic Bold, sans-serif",HI="normal",jI=13,N1={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"]},hCe={background:"#ffffff",title:{anchor:"start",color:"#000000",font:UT,fontSize:uCe,fontWeight:cCe},arc:{fill:pf},area:{fill:pf},line:{stroke:pf,strokeWidth:2},path:{stroke:pf},rect:{fill:pf},shape:{stroke:pf},symbol:{fill:pf,size:30},axis:{labelFont:PI,labelFontSize:UI,labelFontWeight:fCe,titleFont:UT,titleFontSize:jI,titleFontWeight:HI},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:PI,labelFontSize:UI,symbolType:"square",titleFont:UT,titleFontSize:jI,titleFontWeight:HI},range:{category:N1["category-6"],diverging:N1["fireandice-6"],heatmap:N1["fire-7"],ordinal:N1["fire-7"],ramp:N1["fire-7"]}},mf="#ab5787",pv="#979797",dCe={background:"#f9f9f9",arc:{fill:mf},area:{fill:mf},line:{stroke:mf},path:{stroke:mf},rect:{fill:mf},shape:{stroke:mf},symbol:{fill:mf,size:30},axis:{domainColor:pv,domainWidth:.5,gridWidth:.2,labelColor:pv,tickColor:pv,tickWidth:.2,titleColor:pv},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},xf="#3e5c69",gCe={background:"#fff",arc:{fill:xf},area:{fill:xf},line:{stroke:xf},path:{stroke:xf},rect:{fill:xf},shape:{stroke:xf},symbol:{fill:xf},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Wa="#1696d2",qI="#000000",pCe="#FFFFFF",mv="Lato",HT="Lato",mCe="Lato",xCe="#DEDDDD",yCe=18,$1={"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},vCe={background:pCe,title:{anchor:"start",fontSize:yCe,font:mv},axisX:{domain:!0,domainColor:qI,domainWidth:1,grid:!1,labelFontSize:12,labelFont:HT,labelAngle:0,tickColor:qI,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:mv},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:xCe,gridWidth:1,labelFontSize:12,labelFont:HT,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:mv,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:HT,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:mv,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:$1["six-groups-cat-1"],diverging:$1["diverging-colors"],heatmap:$1["diverging-colors"],ordinal:$1["six-groups-seq"],ramp:$1["shades-blue"]},area:{fill:Wa},rect:{fill:Wa},line:{color:Wa,stroke:Wa,strokeWidth:5},trail:{color:Wa,stroke:Wa,strokeWidth:0,size:1},path:{stroke:Wa,strokeWidth:.5},point:{filled:!0},text:{font:mCe,color:Wa,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Wa,stroke:null}},arc:{fill:Wa},shape:{stroke:Wa},symbol:{fill:Wa,size:30}},yf="#3366CC",GI="#ccc",xv="Arial, sans-serif",_Ce={arc:{fill:yf},area:{fill:yf},path:{stroke:yf},rect:{fill:yf},shape:{stroke:yf},symbol:{stroke:yf},circle:{fill:yf},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:xv,fontSize:12},"guide-title":{font:xv,fontSize:12},"group-title":{font:xv,fontSize:12}},title:{font:xv,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:GI,tickColor:GI,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},fO=e=>e*(1/3+1),VI=fO(9),XI=fO(10),WI=fO(12),L1="Segoe UI",YI="wf_standard-font, helvetica, arial, sans-serif",KI="#252423",I1="#605E5C",QI="transparent",bCe="#C8C6C4",Ts="#118DFF",ECe="#12239E",SCe="#E66C37",wCe="#6B007B",ACe="#E044A7",TCe="#744EC2",kCe="#D9B300",CCe="#D64550",lQ=Ts,uQ="#DEEFFF",ZI=[uQ,lQ],FCe=[uQ,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",lQ],DCe={view:{stroke:QI},background:QI,font:L1,header:{titleFont:YI,titleFontSize:WI,titleColor:KI,labelFont:L1,labelFontSize:XI,labelColor:I1},axis:{ticks:!1,grid:!1,domain:!1,labelColor:I1,labelFontSize:VI,titleFont:YI,titleColor:KI,titleFontSize:WI,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:bCe,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:Ts},line:{stroke:Ts,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:L1,fontSize:VI,fill:I1},arc:{fill:Ts},area:{fill:Ts,line:!0,opacity:.6},path:{stroke:Ts},rect:{fill:Ts},point:{fill:Ts,filled:!0,size:75},shape:{stroke:Ts},symbol:{fill:Ts,strokeWidth:1.5,size:50},legend:{titleFont:L1,titleFontWeight:"bold",titleColor:I1,labelFont:L1,labelFontSize:XI,labelColor:I1,symbolType:"circle",symbolSize:75},range:{category:[Ts,ECe,SCe,wCe,ACe,TCe,kCe,CCe],diverging:ZI,heatmap:ZI,ordinal:FCe}},jT='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',OCe='IBM Plex Sans Condensed, system-ui, -apple-system, BlinkMacSystemFont, ".SFNSText-Regular", sans-serif',qT=400,yv={textPrimary:{g90:"#f4f4f4",g100:"#f4f4f4",white:"#161616",g10:"#161616"},textSecondary:{g90:"#c6c6c6",g100:"#c6c6c6",white:"#525252",g10:"#525252"},layerAccent01:{white:"#e0e0e0",g10:"#e0e0e0",g90:"#525252",g100:"#393939"},gridBg:{white:"#ffffff",g10:"#ffffff",g90:"#161616",g100:"#161616"}},MCe=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],RCe=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function KE({theme:e,background:t}){const n=["white","g10"].includes(e)?"light":"dark",r=yv.gridBg[e],i=yv.textPrimary[e],a=yv.textSecondary[e],s=n==="dark"?MCe:RCe,o=n==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:r,stroke:r},group:{fill:r},title:{color:i,anchor:"start",dy:-15,fontSize:16,font:jT,fontWeight:600},axis:{labelColor:a,labelFontSize:12,labelFont:OCe,labelFontWeight:qT,titleColor:i,titleFontWeight:600,titleFontSize:12,grid:!0,gridColor:yv.layerAccent01[e],labelAngle:0},axisX:{titlePadding:10},axisY:{titlePadding:2.5},style:{"guide-label":{font:jT,fill:a,fontWeight:qT},"guide-title":{font:jT,fill:a,fontWeight:qT}},range:{category:s,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const NCe=KE({theme:"white",background:"#ffffff"}),$Ce=KE({theme:"g10",background:"#f4f4f4"}),LCe=KE({theme:"g90",background:"#262626"}),ICe=KE({theme:"g100",background:"#161616"}),zCe=nCe.version,BCe=Object.freeze(Object.defineProperty({__proto__:null,carbong10:$Ce,carbong100:ICe,carbong90:LCe,carbonwhite:NCe,dark:rCe,excel:iCe,fivethirtyeight:oCe,ggplot2:lCe,googlecharts:_Ce,latimes:hCe,powerbi:DCe,quartz:dCe,urbaninstitute:vCe,version:zCe,vox:gCe},Symbol.toStringTag,{value:"Module"}));function PCe(e,t,n,r){if(Ae(e))return`[${e.map(i=>t(Ge(i)?i:JI(i,n))).join(", ")}]`;if(qe(e)){let i="";const{title:a,image:s,...o}=e;a&&(i+=`<h2>${t(a)}</h2>`),s&&(i+=`<img src="${new URL(t(s),r||location.href).href}">`);const u=Object.keys(o);if(u.length>0){i+="<table>";for(const c of u){let h=o[c];h!==void 0&&(qe(h)&&(h=JI(h,n)),i+=`<tr><td class="key">${t(c)}</td><td class="value">${t(h)}</td></tr>`)}i+="</table>"}return i||"{}"}return t(e)}function UCe(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function JI(e,t){return JSON.stringify(e,UCe(t))}var HCe=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const cQ="vg-tooltip-element",jCe={offsetX:10,offsetY:10,id:cQ,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:qCe,maxDepth:2,formatTooltip:PCe,baseURL:"",anchor:"cursor",position:["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]};function qCe(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function GCe(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return HCe.toString().replaceAll(cQ,e)}function fQ(e,t,{offsetX:n,offsetY:r}){const i=hQ({x1:e.clientX,x2:e.clientX,y1:e.clientY,y2:e.clientY},t,n,r),a=["bottom-right","bottom-left","top-right","top-left"];for(const s of a)if(dQ(i[s],t))return i[s];return i["top-left"]}function VCe(e,t,n,r,i){const{position:a,offsetX:s,offsetY:o}=i,u=e._el.getBoundingClientRect(),c=e._origin,h=XCe(u,c,n),d=hQ(h,r,s,o),p=Array.isArray(a)?a:[a];for(const m of p)if(dQ(d[m],r)&&!WCe(t,d[m],r))return d[m];return fQ(t,r,i)}function XCe(e,t,n){const r=n.isVoronoi?n.datum.bounds:n.bounds;let i=e.left+t[0]+r.x1,a=e.top+t[1]+r.y1,s=n;for(;s.mark.group;)s=s.mark.group,i+=s.x??0,a+=s.y??0;const o=r.x2-r.x1,u=r.y2-r.y1;return{x1:i,x2:i+o,y1:a,y2:a+u}}function hQ(e,t,n,r){const i=(e.x1+e.x2)/2,a=(e.y1+e.y2)/2,s=e.x1-t.width-n,o=i-t.width/2,u=e.x2+n,c=e.y1-t.height-r,h=a-t.height/2,d=e.y2+r;return{top:{x:o,y:c},bottom:{x:o,y:d},left:{x:s,y:h},right:{x:u,y:h},"top-left":{x:s,y:c},"top-right":{x:u,y:c},"bottom-left":{x:s,y:d},"bottom-right":{x:u,y:d}}}function dQ(e,t){return e.x>=0&&e.y>=0&&e.x+t.width<=window.innerWidth&&e.y+t.height<=window.innerHeight}function WCe(e,t,n){return e.clientX>=t.x&&e.clientX<=t.x+n.width&&e.clientY>=t.y&&e.clientY<=t.y+n.height}class YCe{call;options;el;constructor(t){this.options={...jCe,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=GCe(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth,this.options.baseURL),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:a,y:s}=this.options.anchor==="mark"?VCe(t,n,r,this.el.getBoundingClientRect(),this.options):fQ(n,this.el.getBoundingClientRect(),this.options);this.el.style.top=`${s}px`,this.el.style.left=`${a}px`}}var GT={};var KCe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),QCe=Object.prototype.hasOwnProperty;function F4(e,t){return QCe.call(e,t)}function D4(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)F4(e,i)&&r.push(i);return r}function Aa(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function O4(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function bf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function gQ(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function M4(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(M4(e[t]))return!0}else if(typeof e=="object"){for(var r=D4(e),i=r.length,a=0;a<i;a++)if(M4(e[r[a]]))return!0}}return!1}function ez(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var pQ=(function(e){KCe(t,e);function t(n,r,i,a,s){var o=this.constructor,u=e.call(this,ez(n,{name:r,index:i,operation:a,tree:s}))||this;return u.name=r,u.index=i,u.operation=a,u.tree=s,Object.setPrototypeOf(u,o.prototype),u.message=ez(n,{name:r,index:i,operation:a,tree:s}),u}return t})(Error),zn=pQ,ZCe=Aa,Vh={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=M_(n,this.path);r&&(r=Aa(r));var i=Hf(n,{op:"remove",path:this.from}).removed;return Hf(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=M_(n,this.from);return Hf(n,{op:"add",path:this.path,value:Aa(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:um(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},JCe={add:function(e,t,n){return O4(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Vh.move,copy:Vh.copy,test:Vh.test,_get:Vh._get};function M_(e,t){if(t=="")return e;var n={op:"_get",path:t};return Hf(e,n),n.value}function Hf(e,t,n,r,i,a){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),a===void 0&&(a=0),n&&(typeof n=="function"?n(t,0,e,t.path):R_(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=M_(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=um(e,t.value),s.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new zn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,t,e);return s}}else{r||(e=Aa(e));var o=t.path||"",u=o.split("/"),c=e,h=1,d=u.length,p=void 0,m=void 0,y=void 0;for(typeof n=="function"?y=n:y=R_;;){if(m=u[h],m&&m.indexOf("~")!=-1&&(m=gQ(m)),i&&(m=="__proto__"||m=="prototype"&&h>0&&u[h-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&p===void 0&&(c[m]===void 0?p=u.slice(0,h).join("/"):h==d-1&&(p=t.path),p!==void 0&&y(t,0,e,p)),h++,Array.isArray(c)){if(m==="-")m=c.length;else{if(n&&!O4(m))throw new zn("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",a,t,e);O4(m)&&(m=~~m)}if(h>=d){if(n&&t.op==="add"&&m>c.length)throw new zn("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",a,t,e);var s=JCe[t.op].call(t,c,m,e);if(s.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}}else if(h>=d){var s=Vh[t.op].call(t,c,m,e);if(s.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",a,t,e);return s}if(c=c[m],n&&h<d&&(!c||typeof c!="object"))throw new zn("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",a,t,e)}}}function QE(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new zn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Aa(e));for(var a=new Array(t.length),s=0,o=t.length;s<o;s++)a[s]=Hf(e,t[s],n,!0,i,s),e=a[s].newDocument;return a.newDocument=e,a}function eFe(e,t,n){var r=Hf(e,t);if(r.test===!1)throw new zn("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function R_(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new zn("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Vh[e.op]){if(typeof e.path!="string")throw new zn("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new zn('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new zn("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new zn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&M4(e.value))throw new zn("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,a=r.split("/").length;if(i!==a+1&&i!==a)throw new zn("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new zn("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},o=mQ([s],n);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new zn("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new zn("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function mQ(e,t,n){try{if(!Array.isArray(e))throw new zn("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)QE(Aa(t),Aa(e),n||!0);else{n=n||R_;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof zn)return i;throw i}}function um(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,a,s;if(n&&r){if(a=e.length,a!=t.length)return!1;for(i=a;i--!==0;)if(!um(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var o=Object.keys(e);if(a=o.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!t.hasOwnProperty(o[i]))return!1;for(i=a;i--!==0;)if(s=o[i],!um(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}var tFe=Object.freeze({__proto__:null,JsonPatchError:zn,_areEquals:um,applyOperation:Hf,applyPatch:QE,applyReducer:eFe,deepClone:ZCe,getValueByPointer:M_,validate:mQ,validator:R_});var hO=new WeakMap,nFe=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),rFe=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function iFe(e){return hO.get(e)}function aFe(e,t){return e.observers.get(t)}function sFe(e,t){e.observers.delete(t.callback)}function oFe(e,t){t.unobserve()}function lFe(e,t){var n=[],r,i=iFe(e);if(!i)i=new nFe(e),hO.set(e,i);else{var a=aFe(i,t);r=a&&a.observer}if(r)return r;if(r={},i.value=Aa(e),t){r.callback=t,r.next=null;var s=function(){R4(r)},o=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return r.patches=n,r.object=e,r.unobserve=function(){R4(r),clearTimeout(r.next),sFe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},i.observers.set(t,new rFe(t,r)),r}function R4(e,t){t===void 0&&(t=!1);var n=hO.get(e.object);dO(n.value,e.object,e.patches,"",t),e.patches.length&&QE(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function dO(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var a=D4(t),s=D4(e),o=!1,u=s.length-1;u>=0;u--){var c=s[u],h=e[c];if(F4(t,c)&&!(t[c]===void 0&&h!==void 0&&Array.isArray(t)===!1)){var d=t[c];typeof h=="object"&&h!=null&&typeof d=="object"&&d!=null&&Array.isArray(h)===Array.isArray(d)?dO(h,d,n,r+"/"+bf(c),i):h!==d&&(i&&n.push({op:"test",path:r+"/"+bf(c),value:Aa(h)}),n.push({op:"replace",path:r+"/"+bf(c),value:Aa(d)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+bf(c),value:Aa(h)}),n.push({op:"remove",path:r+"/"+bf(c)}),o=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!o&&a.length==s.length))for(var u=0;u<a.length;u++){var c=a[u];!F4(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+bf(c),value:Aa(t[c])})}}}function uFe(e,t,n){n===void 0&&(n=!1);var r=[];return dO(e,t,r,"",n),r}var cFe=Object.freeze({__proto__:null,compare:uFe,generate:R4,observe:lFe,unobserve:oFe});Object.assign({},tFe,cFe,{JsonPatchError:pQ,deepClone:Aa,escapePathComponent:bf,unescapePathComponent:gQ});function fFe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VT,tz;function hFe(){if(tz)return VT;tz=1;class e{constructor(){this.max=1e3,this.map=new Map}get(n){const r=this.map.get(n);if(r!==void 0)return this.map.delete(n),this.map.set(n,r),r}delete(n){return this.map.delete(n)}set(n,r){if(!this.delete(n)&&r!==void 0){if(this.map.size>=this.max){const a=this.map.keys().next().value;this.delete(a)}this.map.set(n,r)}return this}}return VT=e,VT}var XT,nz;function gO(){if(nz)return XT;nz=1;const e=Object.freeze({loose:!0}),t=Object.freeze({});return XT=r=>r?typeof r!="object"?e:r:t,XT}var vv={exports:{}},WT,rz;function pO(){if(rz)return WT;rz=1;const e="2.0.0",t=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,r=16,i=t-6;return WT={MAX_LENGTH:t,MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:e,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},WT}var YT,iz;function ZE(){return iz||(iz=1,YT=typeof process=="object"&&GT&&GT.NODE_DEBUG&&/\bsemver\b/i.test(GT.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{}),YT}var az;function mO(){return az||(az=1,(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=pO(),a=ZE();t=e.exports={};const s=t.re=[],o=t.safeRe=[],u=t.src=[],c=t.safeSrc=[],h=t.t={};let d=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",i],[p,r]],y=_=>{for(const[E,w]of m)_=_.split(`${E}*`).join(`${E}{0,${w}}`).split(`${E}+`).join(`${E}{1,${w}}`);return _},v=(_,E,w)=>{const A=y(E),k=d++;a(_,k,E),h[_]=k,u[k]=E,c[k]=A,s[k]=new RegExp(E,w?"g":void 0),o[k]=new RegExp(A,w?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),v("MAINVERSION",`(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})\\.(${u[h.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})\\.(${u[h.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${u[h.NONNUMERICIDENTIFIER]}|${u[h.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASE",`(?:-(${u[h.PRERELEASEIDENTIFIER]}(?:\\.${u[h.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${u[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[h.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER",`${p}+`),v("BUILD",`(?:\\+(${u[h.BUILDIDENTIFIER]}(?:\\.${u[h.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${u[h.MAINVERSION]}${u[h.PRERELEASE]}?${u[h.BUILD]}?`),v("FULL",`^${u[h.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${u[h.MAINVERSIONLOOSE]}${u[h.PRERELEASELOOSE]}?${u[h.BUILD]}?`),v("LOOSE",`^${u[h.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",`${u[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),v("XRANGEIDENTIFIER",`${u[h.NUMERICIDENTIFIER]}|x|X|\\*`),v("XRANGEPLAIN",`[v=\\s]*(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:\\.(${u[h.XRANGEIDENTIFIER]})(?:${u[h.PRERELEASE]})?${u[h.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${u[h.XRANGEIDENTIFIERLOOSE]})(?:${u[h.PRERELEASELOOSE]})?${u[h.BUILD]}?)?)?`),v("XRANGE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${u[h.GTLT]}\\s*${u[h.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),v("COERCE",`${u[h.COERCEPLAIN]}(?:$|[^\\d])`),v("COERCEFULL",u[h.COERCEPLAIN]+`(?:${u[h.PRERELEASE]})?(?:${u[h.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",u[h.COERCE],!0),v("COERCERTLFULL",u[h.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${u[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${u[h.LONETILDE]}${u[h.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${u[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${u[h.LONECARET]}${u[h.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${u[h.LONECARET]}${u[h.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${u[h.GTLT]}\\s*(${u[h.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${u[h.GTLT]}\\s*(${u[h.LOOSEPLAIN]}|${u[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${u[h.XRANGEPLAIN]})\\s+-\\s+(${u[h.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${u[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${u[h.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(vv,vv.exports)),vv.exports}var KT,sz;function dFe(){if(sz)return KT;sz=1;const e=/^[0-9]+$/,t=(r,i)=>{const a=e.test(r),s=e.test(i);return a&&s&&(r=+r,i=+i),r===i?0:a&&!s?-1:s&&!a?1:r<i?-1:1};return KT={compareIdentifiers:t,rcompareIdentifiers:(r,i)=>t(i,r)},KT}var QT,oz;function xO(){if(oz)return QT;oz=1;const e=ZE(),{MAX_LENGTH:t,MAX_SAFE_INTEGER:n}=pO(),{safeRe:r,t:i}=mO(),a=gO(),{compareIdentifiers:s}=dFe();class o{constructor(c,h){if(h=a(h),c instanceof o){if(c.loose===!!h.loose&&c.includePrerelease===!!h.includePrerelease)return c;c=c.version}else if(typeof c!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof c}".`);if(c.length>t)throw new TypeError(`version is longer than ${t} characters`);e("SemVer",c,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const d=c.trim().match(h.loose?r[i.LOOSE]:r[i.FULL]);if(!d)throw new TypeError(`Invalid Version: ${c}`);if(this.raw=c,this.major=+d[1],this.minor=+d[2],this.patch=+d[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");d[4]?this.prerelease=d[4].split(".").map(p=>{if(/^[0-9]+$/.test(p)){const m=+p;if(m>=0&&m<n)return m}return p}):this.prerelease=[],this.build=d[5]?d[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(c){if(e("SemVer.compare",this.version,this.options,c),!(c instanceof o)){if(typeof c=="string"&&c===this.version)return 0;c=new o(c,this.options)}return c.version===this.version?0:this.compareMain(c)||this.comparePre(c)}compareMain(c){return c instanceof o||(c=new o(c,this.options)),s(this.major,c.major)||s(this.minor,c.minor)||s(this.patch,c.patch)}comparePre(c){if(c instanceof o||(c=new o(c,this.options)),this.prerelease.length&&!c.prerelease.length)return-1;if(!this.prerelease.length&&c.prerelease.length)return 1;if(!this.prerelease.length&&!c.prerelease.length)return 0;let h=0;do{const d=this.prerelease[h],p=c.prerelease[h];if(e("prerelease compare",h,d,p),d===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(d===void 0)return-1;if(d===p)continue;return s(d,p)}while(++h)}compareBuild(c){c instanceof o||(c=new o(c,this.options));let h=0;do{const d=this.build[h],p=c.build[h];if(e("build compare",h,d,p),d===void 0&&p===void 0)return 0;if(p===void 0)return 1;if(d===void 0)return-1;if(d===p)continue;return s(d,p)}while(++h)}inc(c,h,d){if(c.startsWith("pre")){if(!h&&d===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const p=`-${h}`.match(this.options.loose?r[i.PRERELEASELOOSE]:r[i.PRERELEASE]);if(!p||p[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(c){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,d);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,d);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,d),this.inc("pre",h,d);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,d),this.inc("pre",h,d);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const p=Number(d)?1:0;if(this.prerelease.length===0)this.prerelease=[p];else{let m=this.prerelease.length;for(;--m>=0;)typeof this.prerelease[m]=="number"&&(this.prerelease[m]++,m=-2);if(m===-1){if(h===this.prerelease.join(".")&&d===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(p)}}if(h){let m=[h,p];d===!1&&(m=[h]),s(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=m):this.prerelease=m}break}default:throw new Error(`invalid increment argument: ${c}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return QT=o,QT}var ZT,lz;function mg(){if(lz)return ZT;lz=1;const e=xO();return ZT=(n,r,i)=>new e(n,i).compare(new e(r,i)),ZT}var JT,uz;function gFe(){if(uz)return JT;uz=1;const e=mg();return JT=(n,r,i)=>e(n,r,i)===0,JT}var ek,cz;function pFe(){if(cz)return ek;cz=1;const e=mg();return ek=(n,r,i)=>e(n,r,i)!==0,ek}var tk,fz;function mFe(){if(fz)return tk;fz=1;const e=mg();return tk=(n,r,i)=>e(n,r,i)>0,tk}var nk,hz;function xFe(){if(hz)return nk;hz=1;const e=mg();return nk=(n,r,i)=>e(n,r,i)>=0,nk}var rk,dz;function yFe(){if(dz)return rk;dz=1;const e=mg();return rk=(n,r,i)=>e(n,r,i)<0,rk}var ik,gz;function vFe(){if(gz)return ik;gz=1;const e=mg();return ik=(n,r,i)=>e(n,r,i)<=0,ik}var ak,pz;function _Fe(){if(pz)return ak;pz=1;const e=gFe(),t=pFe(),n=mFe(),r=xFe(),i=yFe(),a=vFe();return ak=(o,u,c,h)=>{switch(u){case"===":return typeof o=="object"&&(o=o.version),typeof c=="object"&&(c=c.version),o===c;case"!==":return typeof o=="object"&&(o=o.version),typeof c=="object"&&(c=c.version),o!==c;case"":case"=":case"==":return e(o,c,h);case"!=":return t(o,c,h);case">":return n(o,c,h);case">=":return r(o,c,h);case"<":return i(o,c,h);case"<=":return a(o,c,h);default:throw new TypeError(`Invalid operator: ${u}`)}},ak}var sk,mz;function bFe(){if(mz)return sk;mz=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(h,d){if(d=n(d),h instanceof t){if(h.loose===!!d.loose)return h;h=h.value}h=h.trim().split(/\s+/).join(" "),s("comparator",h,d),this.options=d,this.loose=!!d.loose,this.parse(h),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(h){const d=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],p=h.match(d);if(!p)throw new TypeError(`Invalid comparator: ${h}`);this.operator=p[1]!==void 0?p[1]:"",this.operator==="="&&(this.operator=""),p[2]?this.semver=new o(p[2],this.options.loose):this.semver=e}toString(){return this.value}test(h){if(s("Comparator.test",h,this.options.loose),this.semver===e||h===e)return!0;if(typeof h=="string")try{h=new o(h,this.options)}catch{return!1}return a(h,this.operator,this.semver,this.options)}intersects(h,d){if(!(h instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new u(h.value,d).test(this.value):h.operator===""?h.value===""?!0:new u(this.value,d).test(h.semver):(d=n(d),d.includePrerelease&&(this.value==="<0.0.0-0"||h.value==="<0.0.0-0")||!d.includePrerelease&&(this.value.startsWith("<0.0.0")||h.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&h.operator.startsWith(">")||this.operator.startsWith("<")&&h.operator.startsWith("<")||this.semver.version===h.semver.version&&this.operator.includes("=")&&h.operator.includes("=")||a(this.semver,"<",h.semver,d)&&this.operator.startsWith(">")&&h.operator.startsWith("<")||a(this.semver,">",h.semver,d)&&this.operator.startsWith("<")&&h.operator.startsWith(">")))}}sk=t;const n=gO(),{safeRe:r,t:i}=mO(),a=_Fe(),s=ZE(),o=xO(),u=xQ();return sk}var ok,xz;function xQ(){if(xz)return ok;xz=1;const e=/\s+/g;class t{constructor(H,z){if(z=i(z),H instanceof t)return H.loose===!!z.loose&&H.includePrerelease===!!z.includePrerelease?H:new t(H.raw,z);if(H instanceof a)return this.raw=H.value,this.set=[[H]],this.formatted=void 0,this;if(this.options=z,this.loose=!!z.loose,this.includePrerelease=!!z.includePrerelease,this.raw=H.trim().replace(e," "),this.set=this.raw.split("||").map(X=>this.parseRange(X.trim())).filter(X=>X.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const X=this.set[0];if(this.set=this.set.filter(re=>!v(re[0])),this.set.length===0)this.set=[X];else if(this.set.length>1){for(const re of this.set)if(re.length===1&&_(re[0])){this.set=[re];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let H=0;H<this.set.length;H++){H>0&&(this.formatted+="||");const z=this.set[H];for(let X=0;X<z.length;X++)X>0&&(this.formatted+=" "),this.formatted+=z[X].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(H){const X=((this.options.includePrerelease&&m)|(this.options.loose&&y))+":"+H,re=r.get(X);if(re)return re;const j=this.options.loose,le=j?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];H=H.replace(le,I(this.options.includePrerelease)),s("hyphen replace",H),H=H.replace(u[c.COMPARATORTRIM],h),s("comparator trim",H),H=H.replace(u[c.TILDETRIM],d),s("tilde trim",H),H=H.replace(u[c.CARETTRIM],p),s("caret trim",H);let q=H.split(" ").map(Y=>w(Y,this.options)).join(" ").split(/\s+/).map(Y=>L(Y,this.options));j&&(q=q.filter(Y=>(s("loose invalid filter",Y,this.options),!!Y.match(u[c.COMPARATORLOOSE])))),s("range list",q);const R=new Map,G=q.map(Y=>new a(Y,this.options));for(const Y of G){if(v(Y))return[Y];R.set(Y.value,Y)}R.size>1&&R.has("")&&R.delete("");const K=[...R.values()];return r.set(X,K),K}intersects(H,z){if(!(H instanceof t))throw new TypeError("a Range is required");return this.set.some(X=>E(X,z)&&H.set.some(re=>E(re,z)&&X.every(j=>re.every(le=>j.intersects(le,z)))))}test(H){if(!H)return!1;if(typeof H=="string")try{H=new o(H,this.options)}catch{return!1}for(let z=0;z<this.set.length;z++)if(Q(this.set[z],H,this.options))return!0;return!1}}ok=t;const n=hFe(),r=new n,i=gO(),a=bFe(),s=ZE(),o=xO(),{safeRe:u,t:c,comparatorTrimReplace:h,tildeTrimReplace:d,caretTrimReplace:p}=mO(),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:y}=pO(),v=J=>J.value==="<0.0.0-0",_=J=>J.value==="",E=(J,H)=>{let z=!0;const X=J.slice();let re=X.pop();for(;z&&X.length;)z=X.every(j=>re.intersects(j,H)),re=X.pop();return z},w=(J,H)=>(s("comp",J,H),J=O(J,H),s("caret",J),J=k(J,H),s("tildes",J),J=F(J,H),s("xrange",J),J=N(J,H),s("stars",J),J),A=J=>!J||J.toLowerCase()==="x"||J==="*",k=(J,H)=>J.trim().split(/\s+/).map(z=>D(z,H)).join(" "),D=(J,H)=>{const z=H.loose?u[c.TILDELOOSE]:u[c.TILDE];return J.replace(z,(X,re,j,le,q)=>{s("tilde",J,X,re,j,le,q);let R;return A(re)?R="":A(j)?R=`>=${re}.0.0 <${+re+1}.0.0-0`:A(le)?R=`>=${re}.${j}.0 <${re}.${+j+1}.0-0`:q?(s("replaceTilde pr",q),R=`>=${re}.${j}.${le}-${q} <${re}.${+j+1}.0-0`):R=`>=${re}.${j}.${le} <${re}.${+j+1}.0-0`,s("tilde return",R),R})},O=(J,H)=>J.trim().split(/\s+/).map(z=>T(z,H)).join(" "),T=(J,H)=>{s("caret",J,H);const z=H.loose?u[c.CARETLOOSE]:u[c.CARET],X=H.includePrerelease?"-0":"";return J.replace(z,(re,j,le,q,R)=>{s("caret",J,re,j,le,q,R);let G;return A(j)?G="":A(le)?G=`>=${j}.0.0${X} <${+j+1}.0.0-0`:A(q)?j==="0"?G=`>=${j}.${le}.0${X} <${j}.${+le+1}.0-0`:G=`>=${j}.${le}.0${X} <${+j+1}.0.0-0`:R?(s("replaceCaret pr",R),j==="0"?le==="0"?G=`>=${j}.${le}.${q}-${R} <${j}.${le}.${+q+1}-0`:G=`>=${j}.${le}.${q}-${R} <${j}.${+le+1}.0-0`:G=`>=${j}.${le}.${q}-${R} <${+j+1}.0.0-0`):(s("no pr"),j==="0"?le==="0"?G=`>=${j}.${le}.${q}${X} <${j}.${le}.${+q+1}-0`:G=`>=${j}.${le}.${q}${X} <${j}.${+le+1}.0-0`:G=`>=${j}.${le}.${q} <${+j+1}.0.0-0`),s("caret return",G),G})},F=(J,H)=>(s("replaceXRanges",J,H),J.split(/\s+/).map(z=>C(z,H)).join(" ")),C=(J,H)=>{J=J.trim();const z=H.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return J.replace(z,(X,re,j,le,q,R)=>{s("xRange",J,X,re,j,le,q,R);const G=A(j),K=G||A(le),Y=K||A(q),se=Y;return re==="="&&se&&(re=""),R=H.includePrerelease?"-0":"",G?re===">"||re==="<"?X="<0.0.0-0":X="*":re&&se?(K&&(le=0),q=0,re===">"?(re=">=",K?(j=+j+1,le=0,q=0):(le=+le+1,q=0)):re==="<="&&(re="<",K?j=+j+1:le=+le+1),re==="<"&&(R="-0"),X=`${re+j}.${le}.${q}${R}`):K?X=`>=${j}.0.0${R} <${+j+1}.0.0-0`:Y&&(X=`>=${j}.${le}.0${R} <${j}.${+le+1}.0-0`),s("xRange return",X),X})},N=(J,H)=>(s("replaceStars",J,H),J.trim().replace(u[c.STAR],"")),L=(J,H)=>(s("replaceGTE0",J,H),J.trim().replace(u[H.includePrerelease?c.GTE0PRE:c.GTE0],"")),I=J=>(H,z,X,re,j,le,q,R,G,K,Y,se)=>(A(X)?z="":A(re)?z=`>=${X}.0.0${J?"-0":""}`:A(j)?z=`>=${X}.${re}.0${J?"-0":""}`:le?z=`>=${z}`:z=`>=${z}${J?"-0":""}`,A(G)?R="":A(K)?R=`<${+G+1}.0.0-0`:A(Y)?R=`<${G}.${+K+1}.0-0`:se?R=`<=${G}.${K}.${Y}-${se}`:J?R=`<${G}.${K}.${+Y+1}-0`:R=`<=${R}`,`${z} ${R}`.trim()),Q=(J,H,z)=>{for(let X=0;X<J.length;X++)if(!J[X].test(H))return!1;if(H.prerelease.length&&!z.includePrerelease){for(let X=0;X<J.length;X++)if(s(J[X].semver),J[X].semver!==a.ANY&&J[X].semver.prerelease.length>0){const re=J[X].semver;if(re.major===H.major&&re.minor===H.minor&&re.patch===H.patch)return!0}return!1}return!0};return ok}var lk,yz;function EFe(){if(yz)return lk;yz=1;const e=xQ();return lk=(n,r,i)=>{try{r=new e(r,i)}catch{return!1}return r.test(n)},lk}var SFe=EFe(),yQ=fFe(SFe);function wFe(e,t,n){const r=e.open(t),i=250,{origin:a}=new URL(t);let s=40;function o(c){c.source===r&&(s=0,e.removeEventListener("message",o,!1))}e.addEventListener("message",o,!1);function u(){s<=0||(r.postMessage(n,a),setTimeout(u,i),s-=1)}setTimeout(u,i)}var AFe=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function vQ(e,...t){for(const n of t)TFe(e,n);return e}function TFe(e,t){for(const n of Object.keys(t))Vd(e,n,t[n],!0)}const po=fbe;let cm=eCe;const vz=typeof window<"u"?window:void 0;cm===void 0&&vz?.vl?.compile&&(cm=vz.vl);const kFe={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},CFe={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},sp={vega:"Vega","vega-lite":"Vega-Lite"},N_={vega:po.version,"vega-lite":cm?cm.version:"not available"},FFe={vega:e=>e,"vega-lite":(e,t,n)=>cm.compile(e,{config:n,logger:t}).spec},DFe=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,OFe="chart-wrapper";function MFe(e){return typeof e=="function"}function _z(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,a=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+a),s.document.title=`${sp[r]} JSON Source`}function RFe(e,t,n){if(e.$schema){const r=oQ(e.$schema);n&&n!==r.library&&t.warn(`The given visualization spec is written in ${sp[r.library]}, but mode argument sets ${sp[n]??n}.`);const i=r.library;return yQ(N_[i],`^${r.version.slice(1)}`)||t.warn(`The input spec uses ${sp[i]} ${r.version}, but the current version of ${sp[i]} is v${N_[i]}.`),i}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":n??"vega"}function _Q(e){return!!(e&&"load"in e)}function bz(e){return _Q(e)?e:po.loader(e)}function NFe(e){const t=e.usermeta?.embedOptions??{};return Ge(t.defaultStyle)&&(t.defaultStyle=!1),t}async function $Fe(e,t,n={}){let r,i;Ge(t)?(i=bz(n.loader),r=JSON.parse(await i.load(t))):r=t;const a=NFe(r),s=a.loader;(!i||s)&&(i=bz(n.loader??s));const o=await Ez(a,i),u=await Ez(n,i),c={...vQ(u,o),config:Gd(u.config??{},o.config??{})};return await IFe(e,r,c,i)}async function Ez(e,t){const n=Ge(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=Ge(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return{...e,...r?{patch:r}:{},...n?{config:n}:{}}}function LFe(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function IFe(e,t,n={},r){const i=n.theme?Gd(BCe[n.theme],n.config??{}):n.config,a=Ac(n.actions)?n.actions:vQ({},kFe,n.actions??{}),s={...CFe,...n.i18n},o=n.renderer??"svg",u=n.logger??X_(po.Warn);n.logLevel!==void 0&&u.level(n.logLevel);const c=n.downloadFileName??"visualization",h=typeof e=="string"?document.querySelector(e):e;if(!h)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const D="vega-embed-style",{root:O,rootContainer:T}=LFe(h);if(!O.getElementById(D)){const F=document.createElement("style");F.id=D,F.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?AFe.toString():n.defaultStyle,T.appendChild(F)}}const d=RFe(t,u,n.mode);let p=FFe[d](t,u,i);if(d==="vega-lite"&&p.$schema){const D=oQ(p.$schema);yQ(N_.vega,`^${D.version.slice(1)}`)||u.warn(`The compiled spec uses Vega ${D.version}, but current version is v${N_.vega}.`)}h.classList.add("vega-embed"),a&&h.classList.add("has-actions"),h.innerHTML="";let m=h;if(a){const D=document.createElement("div");D.classList.add(OFe),h.appendChild(D),m=D}const y=n.patch;if(y&&(p=y instanceof Function?y(p):QE(p,y,!0,!1).newDocument),n.formatLocale&&po.formatLocale(n.formatLocale),n.timeFormatLocale&&po.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const D in n.expressionFunctions){const O=n.expressionFunctions[D];"fn"in O?po.expressionFunction(D,O.fn,O.visitor):O instanceof Function&&po.expressionFunction(D,O)}const{ast:v}=n,_=po.parse(p,d==="vega-lite"?{}:i,{ast:v}),E=new(n.viewClass||po.View)(_,{loader:r,logger:u,renderer:o,...v?{expr:po.expressionInterpreter??n.expr??bbe}:{}});if(E.addSignalListener("autosize",(D,O)=>{const{type:T}=O;T=="fit-x"?(m.classList.add("fit-x"),m.classList.remove("fit-y")):T=="fit-y"?(m.classList.remove("fit-x"),m.classList.add("fit-y")):T=="fit"?m.classList.add("fit-x","fit-y"):m.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const{loader:D,tooltip:O}=n,T=D&&!_Q(D)?D?.baseURL:void 0,F=MFe(O)?O:new YCe({baseURL:T,...O===!0?{}:O}).call;E.tooltip(F)}let{hover:w}=n;if(w===void 0&&(w=d==="vega"),w){const{hoverSet:D,updateSet:O}=typeof w=="boolean"?{}:w;E.hover(D,O)}n&&(n.width!=null&&E.width(n.width),n.height!=null&&E.height(n.height),n.padding!=null&&E.padding(n.padding)),await E.initialize(m,n.bind).runAsync();let A;if(a!==!1){let D=h;if(n.defaultStyle!==!1||n.forceActionsMenu){const T=document.createElement("details");T.title=s.CLICK_TO_VIEW_ACTIONS,h.append(T),D=T;const F=document.createElement("summary");F.innerHTML=DFe,T.append(F),A=C=>{T.contains(C.target)||T.removeAttribute("open")},document.addEventListener("click",A)}const O=document.createElement("div");if(D.append(O),O.classList.add("vega-actions"),a===!0||a.export!==!1){for(const T of["svg","png"])if(a===!0||a.export===!0||a.export[T]){const F=s[`${T.toUpperCase()}_ACTION`],C=document.createElement("a"),N=qe(n.scaleFactor)?n.scaleFactor[T]:n.scaleFactor;C.text=F,C.href="#",C.target="_blank",C.download=`${c}.${T}`,C.addEventListener("mousedown",async function(L){L.preventDefault();const I=await E.toImageURL(T,N);this.href=I}),O.append(C)}}if(a===!0||a.source!==!1){const T=document.createElement("a");T.text=s.SOURCE_ACTION,T.href="#",T.addEventListener("click",function(F){_z(vA(t),n.sourceHeader??"",n.sourceFooter??"",d),F.preventDefault()}),O.append(T)}if(d==="vega-lite"&&(a===!0||a.compiled!==!1)){const T=document.createElement("a");T.text=s.COMPILED_ACTION,T.href="#",T.addEventListener("click",function(F){_z(vA(p),n.sourceHeader??"",n.sourceFooter??"","vega"),F.preventDefault()}),O.append(T)}if(a===!0||a.editor!==!1){const T=n.editorUrl??"https://vega.github.io/editor/",F=document.createElement("a");F.text=s.EDITOR_ACTION,F.href="#",F.addEventListener("click",function(C){wFe(window,T,{config:i,mode:y?"vega":d,renderer:o,spec:vA(y?p:t)}),C.preventDefault()}),O.append(F)}}function k(){A&&document.removeEventListener("click",A),E.finalize()}return{view:E,spec:t,vgSpec:p,finalize:k,embedOptions:n}}const zFe=({spec:e})=>{const t=wi.useRef(null);return wi.useEffect(()=>{t.current&&e&&$Fe(t.current,e,{actions:!0,renderer:"svg"}).then(n=>{}).catch(n=>console.error(n))},[e]),tt.jsx("div",{ref:t,className:"w-full h-full flex justify-center"})};var t2={exports:{}};var BFe=t2.exports,Sz;function PFe(){return Sz||(Sz=1,(function(e,t){((n,r)=>{e.exports=r()})(BFe,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,a=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},u=0,c={};function h(F){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var N=D(C);N.chunkSize=parseInt(N.chunkSize),C.step||C.chunk||(N.chunkSize=null),this._handle=new v(N),(this._handle.streamer=this)._config=N}).call(this,F),this.parseChunk=function(C,N){var L=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<L){let Q=this._config.newline;Q||(I=this._config.quoteChar||'"',Q=this._handle.guessLineEndings(C,I)),C=[...C.split(Q).slice(L)].join(Q)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(I=this._config.beforeFirstChunk(C))!==void 0&&(C=I),this.isFirstChunk=!1,this._halted=!1;var L=this._partialLine+C,I=(this._partialLine="",this._handle.parse(L,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(C=I.meta.cursor,L=(this._finished||(this._partialLine=L.substring(C-this._baseIndex),this._baseIndex=C),I&&I.data&&(this._rowCount+=I.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:I,workerId:c.WORKER_ID,finished:L});else if(T(this._config.chunk)&&!N){if(this._config.chunk(I,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=I=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(I.data),this._completeResults.errors=this._completeResults.errors.concat(I.errors),this._completeResults.meta=I.meta),this._completed||!L||!T(this._config.complete)||I&&I.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),L||I&&I.meta.paused||this._nextChunk(),I}this._halted=!0},this._sendError=function(C){T(this._config.error)?this._config.error(C):s&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:C,finished:!1})}}function d(F){var C;(F=F||{}).chunkSize||(F.chunkSize=c.RemoteChunkSize),h.call(this,F),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),a||(C.onload=O(this._chunkLoaded,this),C.onerror=O(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var N,L=this._config.downloadRequestHeaders;for(N in L)C.setRequestHeader(N,L[N])}var I;this._config.chunkSize&&(I=this._start+this._config.chunkSize-1,C.setRequestHeader("Range","bytes="+this._start+"-"+I));try{C.send(this._config.downloadRequestBody)}catch(Q){this._chunkError(Q.message)}a&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize||C.responseText.length,this._finished=!this._config.chunkSize||this._start>=(N=>(N=N.getResponseHeader("Content-Range"))!==null?parseInt(N.substring(N.lastIndexOf("/")+1)):-1)(C),this.parseChunk(C.responseText)))},this._chunkError=function(N){N=C.statusText||N,this._sendError(new Error(N))}}function p(F){(F=F||{}).chunkSize||(F.chunkSize=c.LocalChunkSize),h.call(this,F);var C,N,L=typeof FileReader<"u";this.stream=function(I){this._input=I,N=I.slice||I.webkitSlice||I.mozSlice,L?((C=new FileReader).onload=O(this._chunkLoaded,this),C.onerror=O(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var I=this._input,Q=(this._config.chunkSize&&(Q=Math.min(this._start+this._config.chunkSize,this._input.size),I=N.call(I,this._start,Q)),C.readAsText(I,this._config.encoding));L||this._chunkLoaded({target:{result:Q}})},this._chunkLoaded=function(I){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(I.target.result)},this._chunkError=function(){this._sendError(C.error)}}function m(F){var C;h.call(this,F=F||{}),this.stream=function(N){return C=N,this._nextChunk()},this._nextChunk=function(){var N,L;if(!this._finished)return N=this._config.chunkSize,C=N?(L=C.substring(0,N),C.substring(N)):(L=C,""),this._finished=!C,this.parseChunk(L)}}function y(F){h.call(this,F=F||{});var C=[],N=!0,L=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(I){this._input=I,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){L&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):N=!0},this._streamData=O(function(I){try{C.push(typeof I=="string"?I:I.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(Q){this._streamError(Q)}},this),this._streamError=O(function(I){this._streamCleanUp(),this._sendError(I)},this),this._streamEnd=O(function(){this._streamCleanUp(),L=!0,this._streamData("")},this),this._streamCleanUp=O(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(F){var C,N,L,I,Q=Math.pow(2,53),J=-Q,H=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,X=this,re=0,j=0,le=!1,q=!1,R=[],G={data:[],errors:[],meta:{}};function K(_e){return F.skipEmptyLines==="greedy"?_e.join("").trim()==="":_e.length===1&&_e[0].length===0}function Y(){if(G&&L&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),L=!1),F.skipEmptyLines&&(G.data=G.data.filter(function(P){return!K(P)})),se()){let P=function(Ze,Le){T(F.transformHeader)&&(Ze=F.transformHeader(Ze,Le)),R.push(Ze)};var ke=P;if(G)if(Array.isArray(G.data[0])){for(var _e=0;se()&&_e<G.data.length;_e++)G.data[_e].forEach(P);G.data.splice(0,1)}else G.data.forEach(P)}function ae(P,Ze){for(var Le=F.header?{}:[],He=0;He<P.length;He++){var Re=He,Fe=P[He],Fe=((nt,bt)=>($t=>(F.dynamicTypingFunction&&F.dynamicTyping[$t]===void 0&&(F.dynamicTyping[$t]=F.dynamicTypingFunction($t)),(F.dynamicTyping[$t]||F.dynamicTyping)===!0))(nt)?bt==="true"||bt==="TRUE"||bt!=="false"&&bt!=="FALSE"&&(($t=>{if(H.test($t)&&($t=parseFloat($t),J<$t&&$t<Q))return 1})(bt)?parseFloat(bt):z.test(bt)?new Date(bt):bt===""?null:bt):bt)(Re=F.header?He>=R.length?"__parsed_extra":R[He]:Re,Fe=F.transform?F.transform(Fe,Re):Fe);Re==="__parsed_extra"?(Le[Re]=Le[Re]||[],Le[Re].push(Fe)):Le[Re]=Fe}return F.header&&(He>R.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+R.length+" fields but parsed "+He,j+Ze):He<R.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+R.length+" fields but parsed "+He,j+Ze)),Le}var ue;G&&(F.header||F.dynamicTyping||F.transform)&&(ue=1,!G.data.length||Array.isArray(G.data[0])?(G.data=G.data.map(ae),ue=G.data.length):G.data=ae(G.data,0),F.header&&G.meta&&(G.meta.fields=R),j+=ue)}function se(){return F.header&&R.length===0}function ve(_e,ae,ue,ke){_e={type:_e,code:ae,message:ue},ke!==void 0&&(_e.row=ke),G.errors.push(_e)}T(F.step)&&(I=F.step,F.step=function(_e){G=_e,se()?Y():(Y(),G.data.length!==0&&(re+=_e.data.length,F.preview&&re>F.preview?N.abort():(G.data=G.data[0],I(G,X))))}),this.parse=function(_e,ae,ue){var ke=F.quoteChar||'"',ke=(F.newline||(F.newline=this.guessLineEndings(_e,ke)),L=!1,F.delimiter?T(F.delimiter)&&(F.delimiter=F.delimiter(_e),G.meta.delimiter=F.delimiter):((ke=((P,Ze,Le,He,Re)=>{var Fe,nt,bt,$t;Re=Re||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Kn=0;Kn<Re.length;Kn++){for(var xr,Xr=Re[Kn],dt=0,Nn=0,Yt=0,Dn=(bt=void 0,new E({comments:He,delimiter:Xr,newline:Ze,preview:10}).parse(P)),Kt=0;Kt<Dn.data.length;Kt++)Le&&K(Dn.data[Kt])?Yt++:(xr=Dn.data[Kt].length,Nn+=xr,bt===void 0?bt=xr:0<xr&&(dt+=Math.abs(xr-bt),bt=xr));0<Dn.data.length&&(Nn/=Dn.data.length-Yt),(nt===void 0||dt<=nt)&&($t===void 0||$t<Nn)&&1.99<Nn&&(nt=dt,Fe=Xr,$t=Nn)}return{successful:!!(F.delimiter=Fe),bestDelimiter:Fe}})(_e,F.newline,F.skipEmptyLines,F.comments,F.delimitersToGuess)).successful?F.delimiter=ke.bestDelimiter:(L=!0,F.delimiter=c.DefaultDelimiter),G.meta.delimiter=F.delimiter),D(F));return F.preview&&F.header&&ke.preview++,C=_e,N=new E(ke),G=N.parse(C,ae,ue),Y(),le?{meta:{paused:!0}}:G||{meta:{paused:!1}}},this.paused=function(){return le},this.pause=function(){le=!0,N.abort(),C=T(F.chunk)?"":C.substring(N.getCharIndex())},this.resume=function(){X.streamer._halted?(le=!1,X.streamer.parseChunk(C,!0)):setTimeout(X.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,N.abort(),G.meta.aborted=!0,T(F.complete)&&F.complete(G),C=""},this.guessLineEndings=function(P,ke){P=P.substring(0,1048576);var ke=new RegExp(_(ke)+"([^]*?)"+_(ke),"gm"),ue=(P=P.replace(ke,"")).split("\r"),ke=P.split(`
`),P=1<ke.length&&ke[0].length<ue[0].length;if(ue.length===1||P)return`
`;for(var Ze=0,Le=0;Le<ue.length;Le++)ue[Le][0]===`
`&&Ze++;return Ze>=ue.length/2?`\r
`:"\r"}}function _(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(F){var C=(F=F||{}).delimiter,N=F.newline,L=F.comments,I=F.step,Q=F.preview,J=F.fastMode,H=null,z=!1,X=F.quoteChar==null?'"':F.quoteChar,re=X;if(F.escapeChar!==void 0&&(re=F.escapeChar),(typeof C!="string"||-1<c.BAD_DELIMITERS.indexOf(C))&&(C=","),L===C)throw new Error("Comment character same as delimiter");L===!0?L="#":(typeof L!="string"||-1<c.BAD_DELIMITERS.indexOf(L))&&(L=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var j=0,le=!1;this.parse=function(q,R,G){if(typeof q!="string")throw new Error("Input must be a string");var K=q.length,Y=C.length,se=N.length,ve=L.length,_e=T(I),ae=[],ue=[],ke=[],P=j=0;if(!q)return dt();if(J||J!==!1&&q.indexOf(X)===-1){for(var Ze=q.split(N),Le=0;Le<Ze.length;Le++){if(ke=Ze[Le],j+=ke.length,Le!==Ze.length-1)j+=N.length;else if(G)return dt();if(!L||ke.substring(0,ve)!==L){if(_e){if(ae=[],$t(ke.split(C)),Nn(),le)return dt()}else $t(ke.split(C));if(Q&&Q<=Le)return ae=ae.slice(0,Q),dt(!0)}}return dt()}for(var He=q.indexOf(C,j),Re=q.indexOf(N,j),Fe=new RegExp(_(re)+_(X),"g"),nt=q.indexOf(X,j);;)if(q[j]===X)for(nt=j,j++;;){if((nt=q.indexOf(X,nt+1))===-1)return G||ue.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ae.length,index:j}),xr();if(nt===K-1)return xr(q.substring(j,nt).replace(Fe,X));if(X===re&&q[nt+1]===re)nt++;else if(X===re||nt===0||q[nt-1]!==re){He!==-1&&He<nt+1&&(He=q.indexOf(C,nt+1));var bt=Kn((Re=Re!==-1&&Re<nt+1?q.indexOf(N,nt+1):Re)===-1?He:Math.min(He,Re));if(q.substr(nt+1+bt,Y)===C){ke.push(q.substring(j,nt).replace(Fe,X)),q[j=nt+1+bt+Y]!==X&&(nt=q.indexOf(X,j)),He=q.indexOf(C,j),Re=q.indexOf(N,j);break}if(bt=Kn(Re),q.substring(nt+1+bt,nt+1+bt+se)===N){if(ke.push(q.substring(j,nt).replace(Fe,X)),Xr(nt+1+bt+se),He=q.indexOf(C,j),nt=q.indexOf(X,j),_e&&(Nn(),le))return dt();if(Q&&ae.length>=Q)return dt(!0);break}ue.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ae.length,index:j}),nt++}}else if(L&&ke.length===0&&q.substring(j,j+ve)===L){if(Re===-1)return dt();j=Re+se,Re=q.indexOf(N,j),He=q.indexOf(C,j)}else if(He!==-1&&(He<Re||Re===-1))ke.push(q.substring(j,He)),j=He+Y,He=q.indexOf(C,j);else{if(Re===-1)break;if(ke.push(q.substring(j,Re)),Xr(Re+se),_e&&(Nn(),le))return dt();if(Q&&ae.length>=Q)return dt(!0)}return xr();function $t(Yt){ae.push(Yt),P=j}function Kn(Yt){var Dn=0;return Dn=Yt!==-1&&(Yt=q.substring(nt+1,Yt))&&Yt.trim()===""?Yt.length:Dn}function xr(Yt){return G||(Yt===void 0&&(Yt=q.substring(j)),ke.push(Yt),j=K,$t(ke),_e&&Nn()),dt()}function Xr(Yt){j=Yt,$t(ke),ke=[],Re=q.indexOf(N,j)}function dt(Yt){if(F.header&&!R&&ae.length&&!z){var Dn=ae[0],Kt=Object.create(null),Wr=new Set(Dn);let gt=!1;for(let Qt=0;Qt<Dn.length;Qt++){let yn=Dn[Qt];if(Kt[yn=T(F.transformHeader)?F.transformHeader(yn,Qt):yn]){let Vt,Sn=Kt[yn];for(;Vt=yn+"_"+Sn,Sn++,Wr.has(Vt););Wr.add(Vt),Dn[Qt]=Vt,Kt[yn]++,gt=!0,(H=H===null?{}:H)[Vt]=yn}else Kt[yn]=1,Dn[Qt]=yn;Wr.add(yn)}gt&&console.warn("Duplicate headers found and renamed."),z=!0}return{data:ae,errors:ue,meta:{delimiter:C,linebreak:N,aborted:le,truncated:!!Yt,cursor:P+(R||0),renamedHeaders:H}}}function Nn(){I(dt()),ae=[],ue=[]}},this.abort=function(){le=!0},this.getCharIndex=function(){return j}}function w(F){var C=F.data,N=o[C.workerId],L=!1;if(C.error)N.userError(C.error,C.file);else if(C.results&&C.results.data){var I={abort:function(){L=!0,A(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(T(N.userStep)){for(var Q=0;Q<C.results.data.length&&(N.userStep({data:C.results.data[Q],errors:C.results.errors,meta:C.results.meta},I),!L);Q++);delete C.results}else T(N.userChunk)&&(N.userChunk(C.results,I,C.file),delete C.results)}C.finished&&!L&&A(C.workerId,C.results)}function A(F,C){var N=o[F];T(N.userComplete)&&N.userComplete(C),N.terminate(),delete o[F]}function k(){throw new Error("Not implemented.")}function D(F){if(typeof F!="object"||F===null)return F;var C,N=Array.isArray(F)?[]:{};for(C in F)N[C]=D(F[C]);return N}function O(F,C){return function(){F.apply(C,arguments)}}function T(F){return typeof F=="function"}return c.parse=function(F,C){var N=(C=C||{}).dynamicTyping||!1;if(T(N)&&(C.dynamicTypingFunction=N,N={}),C.dynamicTyping=N,C.transform=!!T(C.transform)&&C.transform,!C.worker||!c.WORKERS_SUPPORTED)return N=null,c.NODE_STREAM_INPUT,typeof F=="string"?(F=(L=>L.charCodeAt(0)!==65279?L:L.slice(1))(F),N=new(C.download?d:m)(C)):F.readable===!0&&T(F.read)&&T(F.on)?N=new y(C):(r.File&&F instanceof File||F instanceof Object)&&(N=new p(C)),N.stream(F);(N=(()=>{var L;return!!c.WORKERS_SUPPORTED&&(L=(()=>{var I=r.URL||r.webkitURL||null,Q=n.toString();return c.BLOB_URL||(c.BLOB_URL=I.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",Q,")();"],{type:"text/javascript"})))})(),(L=new r.Worker(L)).onmessage=w,L.id=u++,o[L.id]=L)})()).userStep=C.step,N.userChunk=C.chunk,N.userComplete=C.complete,N.userError=C.error,C.step=T(C.step),C.chunk=T(C.chunk),C.complete=T(C.complete),C.error=T(C.error),delete C.worker,N.postMessage({input:F,config:C,workerId:N.id})},c.unparse=function(F,C){var N=!1,L=!0,I=",",Q=`\r
`,J='"',H=J+J,z=!1,X=null,re=!1,j=((()=>{if(typeof C=="object"){if(typeof C.delimiter!="string"||c.BAD_DELIMITERS.filter(function(R){return C.delimiter.indexOf(R)!==-1}).length||(I=C.delimiter),typeof C.quotes!="boolean"&&typeof C.quotes!="function"&&!Array.isArray(C.quotes)||(N=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(z=C.skipEmptyLines),typeof C.newline=="string"&&(Q=C.newline),typeof C.quoteChar=="string"&&(J=C.quoteChar),typeof C.header=="boolean"&&(L=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");X=C.columns}C.escapeChar!==void 0&&(H=C.escapeChar+J),C.escapeFormulae instanceof RegExp?re=C.escapeFormulae:typeof C.escapeFormulae=="boolean"&&C.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(_(J),"g"));if(typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(F)){if(!F.length||Array.isArray(F[0]))return le(null,F,z);if(typeof F[0]=="object")return le(X||Object.keys(F[0]),F,z)}else if(typeof F=="object")return typeof F.data=="string"&&(F.data=JSON.parse(F.data)),Array.isArray(F.data)&&(F.fields||(F.fields=F.meta&&F.meta.fields||X),F.fields||(F.fields=Array.isArray(F.data[0])?F.fields:typeof F.data[0]=="object"?Object.keys(F.data[0]):[]),Array.isArray(F.data[0])||typeof F.data[0]=="object"||(F.data=[F.data])),le(F.fields||[],F.data||[],z);throw new Error("Unable to serialize unrecognized input");function le(R,G,K){var Y="",se=(typeof R=="string"&&(R=JSON.parse(R)),typeof G=="string"&&(G=JSON.parse(G)),Array.isArray(R)&&0<R.length),ve=!Array.isArray(G[0]);if(se&&L){for(var _e=0;_e<R.length;_e++)0<_e&&(Y+=I),Y+=q(R[_e],_e);0<G.length&&(Y+=Q)}for(var ae=0;ae<G.length;ae++){var ue=(se?R:G[ae]).length,ke=!1,P=se?Object.keys(G[ae]).length===0:G[ae].length===0;if(K&&!se&&(ke=K==="greedy"?G[ae].join("").trim()==="":G[ae].length===1&&G[ae][0].length===0),K==="greedy"&&se){for(var Ze=[],Le=0;Le<ue;Le++){var He=ve?R[Le]:Le;Ze.push(G[ae][He])}ke=Ze.join("").trim()===""}if(!ke){for(var Re=0;Re<ue;Re++){0<Re&&!P&&(Y+=I);var Fe=se&&ve?R[Re]:Re;Y+=q(G[ae][Fe],Re)}ae<G.length-1&&(!K||0<ue&&!P)&&(Y+=Q)}}return Y}function q(R,G){var K,Y;return R==null?"":R.constructor===Date?JSON.stringify(R).slice(1,25):(Y=!1,re&&typeof R=="string"&&re.test(R)&&(R="'"+R,Y=!0),K=R.toString().replace(j,H),(Y=Y||N===!0||typeof N=="function"&&N(R,G)||Array.isArray(N)&&N[G]||((se,ve)=>{for(var _e=0;_e<ve.length;_e++)if(-1<se.indexOf(ve[_e]))return!0;return!1})(K,c.BAD_DELIMITERS)||-1<K.indexOf(I)||K.charAt(0)===" "||K.charAt(K.length-1)===" ")?J+K+J:K)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!a&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=E,c.ParserHandle=v,c.NetworkStreamer=d,c.FileStreamer=p,c.StringStreamer=m,c.ReadableStreamStreamer=y,r.jQuery&&((i=r.jQuery).fn.parse=function(F){var C=F.config||{},N=[];return this.each(function(Q){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var J=0;J<this.files.length;J++)N.push({file:this.files[J],inputElem:this,instanceConfig:i.extend({},C)})}),L(),this;function L(){if(N.length===0)T(F.complete)&&F.complete();else{var Q,J,H,z,X=N[0];if(T(F.before)){var re=F.before(X.file,X.inputElem);if(typeof re=="object"){if(re.action==="abort")return Q="AbortError",J=X.file,H=X.inputElem,z=re.reason,void(T(F.error)&&F.error({name:Q},J,H,z));if(re.action==="skip")return void I();typeof re.config=="object"&&(X.instanceConfig=i.extend(X.instanceConfig,re.config))}else if(re==="skip")return void I()}var j=X.instanceConfig.complete;X.instanceConfig.complete=function(le){T(j)&&j(le,X.file,X.inputElem),I()},c.parse(X.file,X.instanceConfig)}}function I(){N.splice(0,1),L()}}),s&&(r.onmessage=function(F){F=F.data,c.WORKER_ID===void 0&&F&&(c.WORKER_ID=F.workerId),typeof F.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(F.input,F.config),finished:!0}):(r.File&&F.input instanceof File||F.input instanceof Object)&&(F=c.parse(F.input,F.config))&&r.postMessage({workerId:c.WORKER_ID,results:F,finished:!0})}),(d.prototype=Object.create(h.prototype)).constructor=d,(p.prototype=Object.create(h.prototype)).constructor=p,(m.prototype=Object.create(m.prototype)).constructor=m,(y.prototype=Object.create(h.prototype)).constructor=y,c})})(t2)),t2.exports}var UFe=PFe();const HFe=G4(UFe);var bQ=1252,jFe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],yO={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},vO=function(e){jFe.indexOf(e)!=-1&&(bQ=yO[0]=e)};function qFe(){vO(1252)}var zs=function(e){vO(e)};function EQ(){zs(1200),qFe()}function wz(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e.charCodeAt(n);return t}function GFe(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n)+(e.charCodeAt(2*n+1)<<8));return t.join("")}function SQ(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var op=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return t==255&&n==254?GFe(e.slice(2)):t==254&&n==255?SQ(e.slice(2)):t==65279?e.slice(1):e},_v=function(t){return String.fromCharCode(t)},Az=function(t){return String.fromCharCode(t)},fm,Ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Tz(e){for(var t="",n=0,r=0,i=0,a=0,s=0,o=0,u=0,c=0;c<e.length;)n=e.charCodeAt(c++),a=n>>2,r=e.charCodeAt(c++),s=(n&3)<<4|r>>4,i=e.charCodeAt(c++),o=(r&15)<<2|i>>6,u=i&63,isNaN(r)?o=u=64:isNaN(i)&&(u=64),t+=Ju.charAt(a)+Ju.charAt(s)+Ju.charAt(o)+Ju.charAt(u);return t}function Na(e){var t="",n=0,r=0,i=0,a=0,s=0,o=0,u=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)a=Ju.indexOf(e.charAt(c++)),s=Ju.indexOf(e.charAt(c++)),n=a<<2|s>>4,t+=String.fromCharCode(n),o=Ju.indexOf(e.charAt(c++)),r=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(r)),u=Ju.indexOf(e.charAt(c++)),i=(o&3)<<6|u,u!==64&&(t+=String.fromCharCode(i));return t}var Mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),N0=(function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,n){return n?new Buffer(t,n):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}})();function Sc(e){return Mt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function kz(e){return Mt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Rs=function(t){return Mt?N0(t,"binary"):t.split("").map(function(n){return n.charCodeAt(0)&255})};function $0(e){if(Array.isArray(e))return e.map(function(r){return String.fromCharCode(r)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function _O(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return _O(new Uint8Array(e));for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t}var ju=Mt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:N0(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if(typeof e[t]=="string")throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function VFe(e){for(var t=[],n=0,r=e.length+250,i=Sc(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[n++]=s;else if(s<2048)i[n++]=192|s>>6&31,i[n++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[n++]=240|s>>8&7,i[n++]=128|s>>2&63,i[n++]=128|o>>6&15|(s&3)<<4,i[n++]=128|o&63}else i[n++]=224|s>>12&15,i[n++]=128|s>>6&63,i[n++]=128|s&63;n>r&&(t.push(i.slice(0,n)),n=0,i=Sc(65535),r=65530)}return t.push(i.slice(0,n)),ju(t)}var $i=/\u0000/g,lp=/[\u0001-\u0006]/g;function id(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Bs(e,t){var n=""+e;return n.length>=t?n:Bn("0",t-n.length)+n}function bO(e,t){var n=""+e;return n.length>=t?n:Bn(" ",t-n.length)+n}function $_(e,t){var n=""+e;return n.length>=t?n:n+Bn(" ",t-n.length)}function XFe(e,t){var n=""+Math.round(e);return n.length>=t?n:Bn("0",t-n.length)+n}function WFe(e,t){var n=""+e;return n.length>=t?n:Bn("0",t-n.length)+n}var Cz=Math.pow(2,32);function $h(e,t){if(e>Cz||e<-Cz)return XFe(e,t);var n=Math.round(e);return WFe(n,t)}function L_(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Fz=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],uk=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function YFe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var yt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Dz={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},KFe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function I_(e,t,n){for(var r=e<0?-1:1,i=e*r,a=0,s=1,o=0,u=1,c=0,h=0,d=Math.floor(i);c<t&&(d=Math.floor(i),o=d*s+a,h=d*c+u,!(i-d<5e-8));)i=1/(i-d),a=s,s=o,u=c,c=h;if(h>t&&(c>t?(h=u,o=a):(h=c,o=s)),!n)return[0,r*o,h];var p=Math.floor(r*o/h);return[p,r*o-p*h,h]}function Mf(e,t,n){if(e>2958465||e<0)return null;var r=e|0,i=Math.floor(86400*(e-r)),a=0,s=[],o={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++r,++o.D)),r===60)s=n?[1317,10,29]:[1900,2,29],a=3;else if(r===0)s=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var u=new Date(1900,0,1);u.setDate(u.getDate()+r-1),s=[u.getFullYear(),u.getMonth()+1,u.getDate()],a=u.getDay(),r<60&&(a=(a+6)%7),n&&(a=n6e(u,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var wQ=new Date(1899,11,31,0,0,0),QFe=wQ.getTime(),ZFe=new Date(1900,2,1,0,0,0);function AQ(e,t){var n=e.getTime();return t?n-=1461*24*60*60*1e3:e>=ZFe&&(n+=1440*60*1e3),(n-(QFe+(e.getTimezoneOffset()-wQ.getTimezoneOffset())*6e4))/(1440*60*1e3)}function EO(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function JFe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function e6e(e){var t=e<0?12:11,n=EO(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10),n.length<=t)?n:e.toExponential(5)}function t6e(e){var t=EO(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function hm(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),n;return t>=-4&&t<=-1?n=e.toPrecision(10+t):Math.abs(t)<=9?n=e6e(e):t===10?n=e.toFixed(10).substr(0,12):n=t6e(e),EO(JFe(n.toUpperCase()))}function d0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):hm(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ds(14,AQ(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function n6e(e,t){t[0]-=581;var n=e.getDay();return e<60&&(n=(n+6)%7),n}function r6e(e,t,n,r){var i="",a=0,s=0,o=n.y,u,c=0;switch(e){case 98:o=n.y+543;case 121:switch(t.length){case 1:case 2:u=o%100,c=2;break;default:u=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:u=n.m,c=t.length;break;case 3:return uk[n.m-1][1];case 5:return uk[n.m-1][0];default:return uk[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:u=n.d,c=t.length;break;case 3:return Fz[n.q][0];default:return Fz[n.q][1]}break;case 104:switch(t.length){case 1:case 2:u=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:u=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:u=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return n.u===0&&(t=="s"||t=="ss")?Bs(n.S,t.length):(r>=2?s=r===3?1e3:100:s=r===1?10:1,a=Math.round(s*(n.S+n.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=Bs(a,2+r),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":u=n.D*24+n.H;break;case"[m]":case"[mm]":u=(n.D*24+n.H)*60+n.M;break;case"[s]":case"[ss]":u=((n.D*24+n.H)*60+n.M)*60+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:u=o,c=1;break}var h=c>0?Bs(u,c):"";return h}function ec(e){var t=3;if(e.length<=t)return e;for(var n=e.length%t,r=e.substr(0,n);n!=e.length;n+=t)r+=(r.length>0?",":"")+e.substr(n,t);return r}var TQ=/%/g;function i6e(e,t,n){var r=t.replace(TQ,""),i=t.length-r.length;return jl(e,r,n*Math.pow(10,2*i))+Bn("%",i)}function a6e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return jl(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function kQ(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+kQ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),n.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a);n.substr(0,2)==="0.";)n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i),n=n.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,c,h){return u+c+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var CQ=/# (\?+)( ?)\/( ?)(\d+)/;function s6e(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),a=Math.floor(i/r),s=i-a*r,o=r;return n+(a===0?"":""+a)+" "+(s===0?Bn(" ",e[1].length+1+e[4].length):bO(s,e[1].length)+e[2]+"/"+e[3]+Bs(o,e[4].length))}function o6e(e,t,n){return n+(t===0?"":""+t)+Bn(" ",e[1].length+2+e[4].length)}var FQ=/^#*0*\.([0#]+)/,DQ=/\).*[0#]/,OQ=/\(###\) ###\\?-####/;function Ei(e){for(var t="",n,r=0;r!=e.length;++r)switch(n=e.charCodeAt(r)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(n)}return t}function Oz(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function Mz(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function l6e(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function u6e(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ka(e,t,n){if(e.charCodeAt(0)===40&&!t.match(DQ)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?Ka("n",r,n):"("+Ka("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return a6e(e,t,n);if(t.indexOf("%")!==-1)return i6e(e,t,n);if(t.indexOf("E")!==-1)return kQ(t,n);if(t.charCodeAt(0)===36)return"$"+Ka(e,t.substr(t.charAt(1)==" "?2:1),n);var i,a,s,o,u=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+$h(u,t.length);if(t.match(/^[#?]+$/))return i=$h(n,0),i==="0"&&(i=""),i.length>t.length?i:Ei(t.substr(0,t.length-i.length))+i;if(a=t.match(CQ))return s6e(a,u,c);if(t.match(/^#+0+$/))return c+$h(u,t.length-t.indexOf("0"));if(a=t.match(FQ))return i=Oz(n,a[1].length).replace(/^([^\.]+)$/,"$1."+Ei(a[1])).replace(/\.$/,"."+Ei(a[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+Bn("0",Ei(a[1]).length-v.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+Oz(u,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+ec($h(u,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+Ka(e,t,-n):ec(""+(Math.floor(n)+l6e(n,a[1].length)))+"."+Bs(Mz(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return Ka(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=id(Ka(e,t.replace(/[\\-]/g,""),n)),s=0,id(id(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(t.match(OQ))return i=Ka(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=I_(u,Math.pow(10,s)-1,!1),i=""+c,h=jl("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=$_(o[2],s),h.length<a[4].length&&(h=Ei(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=I_(u,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?bO(o[1],s)+a[2]+"/"+a[3]+$_(o[2],s):Bn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=$h(n,0),t.length<=i.length?i:Ei(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,p=t.length-i.length-d;return Ei(t.substr(0,d)+i+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=Mz(n,a[1].length),n<0?"-"+Ka(e,t,-n):ec(u6e(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Bs(0,3-y.length):"")+y})+"."+Bs(s,a[1].length);switch(t){case"###,##0.00":return Ka(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var m=ec($h(u,0));return m!=="0"?c+m:"";case"###,###.00":return Ka(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return Ka(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function c6e(e,t,n){for(var r=t.length-1;t.charCodeAt(r-1)===44;)--r;return jl(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}function f6e(e,t,n){var r=t.replace(TQ,""),i=t.length-r.length;return jl(e,r,n*Math.pow(10,2*i))+Bn("%",i)}function MQ(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+MQ(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),n=(t/Math.pow(10,a)).toPrecision(r+1+(i+a)%i),!n.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);n.indexOf(".")===-1?n=n.charAt(0)+"."+n.substr(1)+"E+"+(s-n.length+a):n+="E+"+(s-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,u,c,h){return u+c+h.substr(0,(i+a)%i)+"."+h.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function go(e,t,n){if(e.charCodeAt(0)===40&&!t.match(DQ)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?go("n",r,n):"("+go("n",r,-n)+")"}if(t.charCodeAt(t.length-1)===44)return c6e(e,t,n);if(t.indexOf("%")!==-1)return f6e(e,t,n);if(t.indexOf("E")!==-1)return MQ(t,n);if(t.charCodeAt(0)===36)return"$"+go(e,t.substr(t.charAt(1)==" "?2:1),n);var i,a,s,o,u=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Bs(u,t.length);if(t.match(/^[#?]+$/))return i=""+n,n===0&&(i=""),i.length>t.length?i:Ei(t.substr(0,t.length-i.length))+i;if(a=t.match(CQ))return o6e(a,u,c);if(t.match(/^#+0+$/))return c+Bs(u,t.length-t.indexOf("0"));if(a=t.match(FQ))return i=(""+n).replace(/^([^\.]+)$/,"$1."+Ei(a[1])).replace(/\.$/,"."+Ei(a[1])),i=i.replace(/\.(\d*)$/,function(y,v){return"."+v+Bn("0",Ei(a[1]).length-v.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+u).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+ec(""+u);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+go(e,t,-n):ec(""+n)+"."+Bn("0",a[1].length);if(a=t.match(/^#,#*,#0/))return go(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=id(go(e,t.replace(/[\\-]/g,""),n)),s=0,id(id(t.replace(/\\/g,"")).replace(/[0#]/g,function(y){return s<i.length?i.charAt(s++):y==="0"?"0":""}));if(t.match(OQ))return i=go(e,"##########",n),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var h="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=I_(u,Math.pow(10,s)-1,!1),i=""+c,h=jl("n",a[1],o[1]),h.charAt(h.length-1)==" "&&(h=h.substr(0,h.length-1)+"0"),i+=h+a[2]+"/"+a[3],h=$_(o[2],s),h.length<a[4].length&&(h=Ei(a[4].substr(a[4].length-h.length))+h),i+=h,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=I_(u,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?bO(o[1],s)+a[2]+"/"+a[3]+$_(o[2],s):Bn(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:Ei(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var d=t.indexOf(".")-s,p=t.length-i.length-d;return Ei(t.substr(0,d)+i+t.substr(t.length-p))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+go(e,t,-n):ec(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?Bs(0,3-y.length):"")+y})+"."+Bs(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=ec(""+u);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return go(e,t.slice(0,t.lastIndexOf(".")),n)+Ei(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function jl(e,t,n){return(n|0)===n?go(e,t,n):Ka(e,t,n)}function h6e(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),n===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var RQ=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function xg(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":L_(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(r=n;e.charAt(t++)!=="]"&&t<e.length;)r+=e.charAt(t);if(r.match(RQ))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||n=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function d6e(e,t,n,r){for(var i=[],a="",s=0,o="",u="t",c,h,d,p="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!L_(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(d=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(d);i[i.length]={t:"t",v:a},++s;break;case"\\":var m=e.charAt(++s),y=m==="("||m===")"?m:"t";i[i.length]={t:y,v:m},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Mf(t,n,e.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},u=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Mf(t,n),c==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&u.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=p),i[i.length]={t:o,v:a},u=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=Mf(t,n)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",p="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",s+=5,p="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",s+=5,p="h"):(v.t="t",++s),c==null&&v.t==="T")return"";i[i.length]=v,u=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(RQ)){if(c==null&&(c=Mf(t,n),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},u=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",xg(e)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},u=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:r===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var _=0,E=0,w;for(s=i.length-1,u="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=p,u="h",_<1&&(_=1);break;case"s":(w=i[s].v.match(/\.0+$/))&&(E=Math.max(E,w[0].length-1)),_<3&&(_=3);case"d":case"y":case"M":case"e":u=i[s].t;break;case"m":u==="s"&&(i[s].t="M",_<2&&(_=2));break;case"X":break;case"Z":_<1&&i[s].v.match(/[Hh]/)&&(_=1),_<2&&i[s].v.match(/[Mm]/)&&(_=2),_<3&&i[s].v.match(/[Ss]/)&&(_=3)}switch(_){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var A="",k;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=r6e(i[s].t.charCodeAt(0),i[s].v,c,E),i[s].t="t";break;case"n":case"?":for(k=s+1;i[k]!=null&&((o=i[k].t)==="?"||o==="D"||(o===" "||o==="t")&&i[k+1]!=null&&(i[k+1].t==="?"||i[k+1].t==="t"&&i[k+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[k].v==="/"||i[k].v===" "&&i[k+1]!=null&&i[k+1].t=="?"));)i[s].v+=i[k].v,i[k]={v:"",t:";"},++k;A+=i[s].v,s=k-1;break;case"G":i[s].t="t",i[s].v=d0(t,n);break}var D="",O,T;if(A.length>0){A.charCodeAt(0)==40?(O=t<0&&A.charCodeAt(0)===45?-t:t,T=jl("n",A,O)):(O=t<0&&r>1?-t:t,T=jl("n",A,O),O<0&&i[0]&&i[0].t=="t"&&(T=T.substr(1),i[0].v="-"+i[0].v)),k=T.length-1;var F=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){F=s;break}var C=i.length;if(F===i.length&&T.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(k>=i[s].v.length-1?(k-=i[s].v.length,i[s].v=T.substr(k+1,i[s].v.length)):k<0?i[s].v="":(i[s].v=T.substr(0,k+1),k=-1),i[s].t="t",C=s);k>=0&&C<i.length&&(i[C].v=T.substr(0,k+1)+i[C].v)}else if(F!==i.length&&T.indexOf("E")===-1){for(k=T.indexOf(".")-1,s=F;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(h=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")-1:i[s].v.length-1,D=i[s].v.substr(h+1);h>=0;--h)k>=0&&(i[s].v.charAt(h)==="0"||i[s].v.charAt(h)==="#")&&(D=T.charAt(k--)+D);i[s].v=D,i[s].t="t",C=s}for(k>=0&&C<i.length&&(i[C].v=T.substr(0,k+1)+i[C].v),k=T.indexOf(".")+1,s=F;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==F)){for(h=i[s].v.indexOf(".")>-1&&s===F?i[s].v.indexOf(".")+1:0,D=i[s].v.substr(0,h);h<i[s].v.length;++h)k<T.length&&(D+=T.charAt(k++));i[s].v=D,i[s].t="t",C=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(O=r>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=jl(i[s].t,i[s].v,O),i[s].t="t");var N="";for(s=0;s!==i.length;++s)i[s]!=null&&(N+=i[s].v);return N}var Rz=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Nz(e,t){if(t==null)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0;break}return!1}function g6e(e,t){var n=h6e(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if(typeof t!="number")return[4,n.length===4||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"];break}var a=t>0?n[0]:t<0?n[1]:n[2];if(n[0].indexOf("[")===-1&&n[1].indexOf("[")===-1)return[r,a];if(n[0].match(/\[[=<>]/)!=null||n[1].match(/\[[=<>]/)!=null){var s=n[0].match(Rz),o=n[1].match(Rz);return Nz(t,s)?[r,n[0]]:Nz(t,o)?[r,n[1]]:[r,n[s!=null&&o!=null?2:1]]}return[r,a]}function ds(e,t,n){n==null&&(n={});var r="";switch(typeof e){case"string":e=="m/d/yy"&&n.dateNF?r=n.dateNF:r=e;break;case"number":e==14&&n.dateNF?r=n.dateNF:r=(n.table!=null?n.table:yt)[e],r==null&&(r=n.table&&n.table[Dz[e]]||yt[Dz[e]]),r==null&&(r=KFe[e]||"General");break}if(L_(r,0))return d0(t,n);t instanceof Date&&(t=AQ(t,n.date1904));var i=g6e(r,t);if(L_(i[1]))return d0(t,n);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return d6e(i[1],t,n,i[0])}function jf(e,t){if(typeof t!="number"){t=+t||-1;for(var n=0;n<392;++n){if(yt[n]==null){t<0&&(t=n);continue}if(yt[n]==e){t=n;break}}t<0&&(t=391)}return yt[t]=e,t}function NQ(){yt=YFe()}var p6e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},$Q=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function m6e(e){var t=typeof e=="number"?yt[e]:e;return t=t.replace($Q,"(\\d+)"),new RegExp("^"+t+"$")}function x6e(e,t,n){var r=-1,i=-1,a=-1,s=-1,o=-1,u=-1;(t.match($Q)||[]).forEach(function(d,p){var m=parseInt(n[p+1],10);switch(d.toLowerCase().charAt(0)){case"y":r=m;break;case"d":a=m;break;case"h":s=m;break;case"s":u=m;break;case"m":s>=0?o=m:i=m;break}}),u>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var h=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(u>=0?u:0)).slice(-2);return s==-1&&o==-1&&u==-1?c:r==-1&&i==-1&&a==-1?h:c+"T"+h}var y6e=(function(){var e={};e.version="1.2.0";function t(){for(var T=0,F=new Array(256),C=0;C!=256;++C)T=C,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,F[C]=T;return typeof Int32Array<"u"?new Int32Array(F):F}var n=t();function r(T){var F=0,C=0,N=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(N=0;N!=256;++N)L[N]=T[N];for(N=0;N!=256;++N)for(C=T[N],F=256+N;F<4096;F+=256)C=L[F]=C>>>8^T[C&255];var I=[];for(N=1;N!=16;++N)I[N-1]=typeof Int32Array<"u"?L.subarray(N*256,N*256+256):L.slice(N*256,N*256+256);return I}var i=r(n),a=i[0],s=i[1],o=i[2],u=i[3],c=i[4],h=i[5],d=i[6],p=i[7],m=i[8],y=i[9],v=i[10],_=i[11],E=i[12],w=i[13],A=i[14];function k(T,F){for(var C=F^-1,N=0,L=T.length;N<L;)C=C>>>8^n[(C^T.charCodeAt(N++))&255];return~C}function D(T,F){for(var C=F^-1,N=T.length-15,L=0;L<N;)C=A[T[L++]^C&255]^w[T[L++]^C>>8&255]^E[T[L++]^C>>16&255]^_[T[L++]^C>>>24]^v[T[L++]]^y[T[L++]]^m[T[L++]]^p[T[L++]]^d[T[L++]]^h[T[L++]]^c[T[L++]]^u[T[L++]]^o[T[L++]]^s[T[L++]]^a[T[L++]]^n[T[L++]];for(N+=15;L<N;)C=C>>>8^n[(C^T[L++])&255];return~C}function O(T,F){for(var C=F^-1,N=0,L=T.length,I=0,Q=0;N<L;)I=T.charCodeAt(N++),I<128?C=C>>>8^n[(C^I)&255]:I<2048?(C=C>>>8^n[(C^(192|I>>6&31))&255],C=C>>>8^n[(C^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,Q=T.charCodeAt(N++)&1023,C=C>>>8^n[(C^(240|I>>8&7))&255],C=C>>>8^n[(C^(128|I>>2&63))&255],C=C>>>8^n[(C^(128|Q>>6&15|(I&3)<<4))&255],C=C>>>8^n[(C^(128|Q&63))&255]):(C=C>>>8^n[(C^(224|I>>12&15))&255],C=C>>>8^n[(C^(128|I>>6&63))&255],C=C>>>8^n[(C^(128|I&63))&255]);return~C}return e.table=n,e.bstr=k,e.buf=D,e.str=O,e})(),It=(function(){var t={};t.version="1.2.1";function n(B,ee){for(var V=B.split("/"),W=ee.split("/"),Z=0,te=0,he=Math.min(V.length,W.length);Z<he;++Z){if(te=V[Z].length-W[Z].length)return te;if(V[Z]!=W[Z])return V[Z]<W[Z]?-1:1}return V.length-W.length}function r(B){if(B.charAt(B.length-1)=="/")return B.slice(0,-1).indexOf("/")===-1?B:r(B.slice(0,-1));var ee=B.lastIndexOf("/");return ee===-1?B:B.slice(0,ee+1)}function i(B){if(B.charAt(B.length-1)=="/")return i(B.slice(0,-1));var ee=B.lastIndexOf("/");return ee===-1?B:B.slice(ee+1)}function a(B,ee){typeof ee=="string"&&(ee=new Date(ee));var V=ee.getHours();V=V<<6|ee.getMinutes(),V=V<<5|ee.getSeconds()>>>1,B.write_shift(2,V);var W=ee.getFullYear()-1980;W=W<<4|ee.getMonth()+1,W=W<<5|ee.getDate(),B.write_shift(2,W)}function s(B){var ee=B.read_shift(2)&65535,V=B.read_shift(2)&65535,W=new Date,Z=V&31;V>>>=5;var te=V&15;V>>>=4,W.setMilliseconds(0),W.setFullYear(V+1980),W.setMonth(te-1),W.setDate(Z);var he=ee&31;ee>>>=5;var we=ee&63;return ee>>>=6,W.setHours(ee),W.setMinutes(we),W.setSeconds(he<<1),W}function o(B){Ir(B,0);for(var ee={},V=0;B.l<=B.length-4;){var W=B.read_shift(2),Z=B.read_shift(2),te=B.l+Z,he={};switch(W){case 21589:V=B.read_shift(1),V&1&&(he.mtime=B.read_shift(4)),Z>5&&(V&2&&(he.atime=B.read_shift(4)),V&4&&(he.ctime=B.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}B.l=te,ee[W]=he}return ee}var u;function c(){return u||(u={})}function h(B,ee){if(B[0]==80&&B[1]==75)return Uc(B,ee);if((B[0]|32)==109&&(B[1]|32)==105)return jc(B,ee);if(B.length<512)throw new Error("CFB file size "+B.length+" < 512");var V=3,W=512,Z=0,te=0,he=0,we=0,de=0,ge=[],me=B.slice(0,512);Ir(me,0);var Me=d(me);switch(V=Me[0],V){case 3:W=512;break;case 4:W=4096;break;case 0:if(Me[1]==0)return Uc(B,ee);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}W!==512&&(me=B.slice(0,W),Ir(me,28));var Pe=B.slice(0,W);p(me,V);var Xe=me.read_shift(4,"i");if(V===3&&Xe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Xe);me.l+=4,he=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),we=me.read_shift(4,"i"),Z=me.read_shift(4,"i"),de=me.read_shift(4,"i"),te=me.read_shift(4,"i");for(var Ie=-1,je=0;je<109&&(Ie=me.read_shift(4,"i"),!(Ie<0));++je)ge[je]=Ie;var Ke=m(B,W);_(de,te,Ke,W,ge);var gn=w(Ke,he,ge,W);gn[he].name="!Directory",Z>0&&we!==Q&&(gn[we].name="!MiniFAT"),gn[ge[0]].name="!FAT",gn.fat_addrs=ge,gn.ssz=W;var pn={},wn=[],La=[],qc=[];A(he,gn,Ke,wn,Z,pn,La,we),y(La,qc,wn),wn.shift();var lu={FileIndex:La,FullPaths:qc};return ee&&ee.raw&&(lu.raw={header:Pe,sectors:Ke}),lu}function d(B){if(B[B.l]==80&&B[B.l+1]==75)return[0,0];B.chk(J,"Header Signature: "),B.l+=16;var ee=B.read_shift(2,"u");return[B.read_shift(2,"u"),ee]}function p(B,ee){var V=9;switch(B.l+=2,V=B.read_shift(2)){case 9:if(ee!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(ee!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}B.chk("0600","Mini Sector Shift: "),B.chk("000000000000","Reserved: ")}function m(B,ee){for(var V=Math.ceil(B.length/ee)-1,W=[],Z=1;Z<V;++Z)W[Z-1]=B.slice(Z*ee,(Z+1)*ee);return W[V-1]=B.slice(V*ee),W}function y(B,ee,V){for(var W=0,Z=0,te=0,he=0,we=0,de=V.length,ge=[],me=[];W<de;++W)ge[W]=me[W]=W,ee[W]=V[W];for(;we<me.length;++we)W=me[we],Z=B[W].L,te=B[W].R,he=B[W].C,ge[W]===W&&(Z!==-1&&ge[Z]!==Z&&(ge[W]=ge[Z]),te!==-1&&ge[te]!==te&&(ge[W]=ge[te])),he!==-1&&(ge[he]=W),Z!==-1&&W!=ge[W]&&(ge[Z]=ge[W],me.lastIndexOf(Z)<we&&me.push(Z)),te!==-1&&W!=ge[W]&&(ge[te]=ge[W],me.lastIndexOf(te)<we&&me.push(te));for(W=1;W<de;++W)ge[W]===W&&(te!==-1&&ge[te]!==te?ge[W]=ge[te]:Z!==-1&&ge[Z]!==Z&&(ge[W]=ge[Z]));for(W=1;W<de;++W)if(B[W].type!==0){if(we=W,we!=ge[we])do we=ge[we],ee[W]=ee[we]+"/"+ee[W];while(we!==0&&ge[we]!==-1&&we!=ge[we]);ge[W]=-1}for(ee[0]+="/",W=1;W<de;++W)B[W].type!==2&&(ee[W]+="/")}function v(B,ee,V){for(var W=B.start,Z=B.size,te=[],he=W;V&&Z>0&&he>=0;)te.push(ee.slice(he*I,he*I+I)),Z-=I,he=kf(V,he*4);return te.length===0?or(0):ju(te).slice(0,B.size)}function _(B,ee,V,W,Z){var te=Q;if(B===Q){if(ee!==0)throw new Error("DIFAT chain shorter than expected")}else if(B!==-1){var he=V[B],we=(W>>>2)-1;if(!he)return;for(var de=0;de<we&&(te=kf(he,de*4))!==Q;++de)Z.push(te);_(kf(he,W-4),ee-1,V,W,Z)}}function E(B,ee,V,W,Z){var te=[],he=[];Z||(Z=[]);var we=W-1,de=0,ge=0;for(de=ee;de>=0;){Z[de]=!0,te[te.length]=de,he.push(B[de]);var me=V[Math.floor(de*4/W)];if(ge=de*4&we,W<4+ge)throw new Error("FAT boundary crossed: "+de+" 4 "+W);if(!B[me])break;de=kf(B[me],ge)}return{nodes:te,data:qz([he])}}function w(B,ee,V,W){var Z=B.length,te=[],he=[],we=[],de=[],ge=W-1,me=0,Me=0,Pe=0,Xe=0;for(me=0;me<Z;++me)if(we=[],Pe=me+ee,Pe>=Z&&(Pe-=Z),!he[Pe]){de=[];var Ie=[];for(Me=Pe;Me>=0;){Ie[Me]=!0,he[Me]=!0,we[we.length]=Me,de.push(B[Me]);var je=V[Math.floor(Me*4/W)];if(Xe=Me*4&ge,W<4+Xe)throw new Error("FAT boundary crossed: "+Me+" 4 "+W);if(!B[je]||(Me=kf(B[je],Xe),Ie[Me]))break}te[Pe]={nodes:we,data:qz([de])}}return te}function A(B,ee,V,W,Z,te,he,we){for(var de=0,ge=W.length?2:0,me=ee[B].data,Me=0,Pe=0,Xe;Me<me.length;Me+=128){var Ie=me.slice(Me,Me+128);Ir(Ie,64),Pe=Ie.read_shift(2),Xe=kO(Ie,0,Pe-ge),W.push(Xe);var je={name:Xe,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},Ke=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Ke!==0&&(je.ct=k(Ie,Ie.l-8));var gn=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);gn!==0&&(je.mt=k(Ie,Ie.l-8)),je.start=Ie.read_shift(4,"i"),je.size=Ie.read_shift(4,"i"),je.size<0&&je.start<0&&(je.size=je.type=0,je.start=Q,je.name=""),je.type===5?(de=je.start,Z>0&&de!==Q&&(ee[de].name="!StreamData")):je.size>=4096?(je.storage="fat",ee[je.start]===void 0&&(ee[je.start]=E(V,je.start,ee.fat_addrs,ee.ssz)),ee[je.start].name=je.name,je.content=ee[je.start].data.slice(0,je.size)):(je.storage="minifat",je.size<0?je.size=0:de!==Q&&je.start!==Q&&ee[de]&&(je.content=v(je,ee[de].data,(ee[we]||{}).data))),je.content&&Ir(je.content,0),te[Xe]=je,he.push(je)}}function k(B,ee){return new Date((_a(B,ee+4)/1e7*Math.pow(2,32)+_a(B,ee)/1e7-11644473600)*1e3)}function D(B,ee){return c(),h(u.readFileSync(B),ee)}function O(B,ee){var V=ee&&ee.type;switch(V||Mt&&Buffer.isBuffer(B)&&(V="buffer"),V||"base64"){case"file":return D(B,ee);case"base64":return h(Rs(Na(B)),ee);case"binary":return h(Rs(B),ee)}return h(B,ee)}function T(B,ee){var V=ee||{},W=V.root||"Root Entry";if(B.FullPaths||(B.FullPaths=[]),B.FileIndex||(B.FileIndex=[]),B.FullPaths.length!==B.FileIndex.length)throw new Error("inconsistent CFB structure");B.FullPaths.length===0&&(B.FullPaths[0]=W+"/",B.FileIndex[0]={name:W,type:5}),V.CLSID&&(B.FileIndex[0].clsid=V.CLSID),F(B)}function F(B){var ee="Sh33tJ5";if(!It.find(B,"/"+ee)){var V=or(4);V[0]=55,V[1]=V[3]=50,V[2]=54,B.FileIndex.push({name:ee,type:2,content:V,size:4,L:69,R:69,C:69}),B.FullPaths.push(B.FullPaths[0]+ee),C(B)}}function C(B,ee){T(B);for(var V=!1,W=!1,Z=B.FullPaths.length-1;Z>=0;--Z){var te=B.FileIndex[Z];switch(te.type){case 0:W?V=!0:(B.FileIndex.pop(),B.FullPaths.pop());break;case 1:case 2:case 5:W=!0,isNaN(te.R*te.L*te.C)&&(V=!0),te.R>-1&&te.L>-1&&te.R==te.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!ee)){var he=new Date(1987,1,19),we=0,de=Object.create?Object.create(null):{},ge=[];for(Z=0;Z<B.FullPaths.length;++Z)de[B.FullPaths[Z]]=!0,B.FileIndex[Z].type!==0&&ge.push([B.FullPaths[Z],B.FileIndex[Z]]);for(Z=0;Z<ge.length;++Z){var me=r(ge[Z][0]);W=de[me],W||(ge.push([me,{name:i(me).replace("/",""),type:1,clsid:z,ct:he,mt:he,content:null}]),de[me]=!0)}for(ge.sort(function(Xe,Ie){return n(Xe[0],Ie[0])}),B.FullPaths=[],B.FileIndex=[],Z=0;Z<ge.length;++Z)B.FullPaths[Z]=ge[Z][0],B.FileIndex[Z]=ge[Z][1];for(Z=0;Z<ge.length;++Z){var Me=B.FileIndex[Z],Pe=B.FullPaths[Z];if(Me.name=i(Pe).replace("/",""),Me.L=Me.R=Me.C=-(Me.color=1),Me.size=Me.content?Me.content.length:0,Me.start=0,Me.clsid=Me.clsid||z,Z===0)Me.C=ge.length>1?1:-1,Me.size=0,Me.type=5;else if(Pe.slice(-1)=="/"){for(we=Z+1;we<ge.length&&r(B.FullPaths[we])!=Pe;++we);for(Me.C=we>=ge.length?-1:we,we=Z+1;we<ge.length&&r(B.FullPaths[we])!=r(Pe);++we);Me.R=we>=ge.length?-1:we,Me.type=1}else r(B.FullPaths[Z+1]||"")==r(Pe)&&(Me.R=Z+1),Me.type=2}}}function N(B,ee){var V=ee||{};if(V.fileType=="mad")return aS(B,V);switch(C(B),V.fileType){case"zip":return U0(B,V)}var W=(function(Xe){for(var Ie=0,je=0,Ke=0;Ke<Xe.FileIndex.length;++Ke){var gn=Xe.FileIndex[Ke];if(gn.content){var pn=gn.content.length;pn>0&&(pn<4096?Ie+=pn+63>>6:je+=pn+511>>9)}}for(var wn=Xe.FullPaths.length+3>>2,La=Ie+7>>3,qc=Ie+127>>7,lu=La+je+wn+qc,io=lu+127>>7,Sg=io<=109?0:Math.ceil((io-109)/127);lu+io+Sg+127>>7>io;)Sg=++io<=109?0:Math.ceil((io-109)/127);var Hi=[1,Sg,io,qc,wn,je,Ie,0];return Xe.FileIndex[0].size=Ie<<6,Hi[7]=(Xe.FileIndex[0].start=Hi[0]+Hi[1]+Hi[2]+Hi[3]+Hi[4]+Hi[5])+(Hi[6]+7>>3),Hi})(B),Z=or(W[7]<<9),te=0,he=0;{for(te=0;te<8;++te)Z.write_shift(1,H[te]);for(te=0;te<8;++te)Z.write_shift(2,0);for(Z.write_shift(2,62),Z.write_shift(2,3),Z.write_shift(2,65534),Z.write_shift(2,9),Z.write_shift(2,6),te=0;te<3;++te)Z.write_shift(2,0);for(Z.write_shift(4,0),Z.write_shift(4,W[2]),Z.write_shift(4,W[0]+W[1]+W[2]+W[3]-1),Z.write_shift(4,0),Z.write_shift(4,4096),Z.write_shift(4,W[3]?W[0]+W[1]+W[2]-1:Q),Z.write_shift(4,W[3]),Z.write_shift(-4,W[1]?W[0]-1:Q),Z.write_shift(4,W[1]),te=0;te<109;++te)Z.write_shift(-4,te<W[2]?W[1]+te:-1)}if(W[1])for(he=0;he<W[1];++he){for(;te<236+he*127;++te)Z.write_shift(-4,te<W[2]?W[1]+te:-1);Z.write_shift(-4,he===W[1]-1?Q:he+1)}var we=function(Xe){for(he+=Xe;te<he-1;++te)Z.write_shift(-4,te+1);Xe&&(++te,Z.write_shift(-4,Q))};for(he=te=0,he+=W[1];te<he;++te)Z.write_shift(-4,X.DIFSECT);for(he+=W[2];te<he;++te)Z.write_shift(-4,X.FATSECT);we(W[3]),we(W[4]);for(var de=0,ge=0,me=B.FileIndex[0];de<B.FileIndex.length;++de)me=B.FileIndex[de],me.content&&(ge=me.content.length,!(ge<4096)&&(me.start=he,we(ge+511>>9)));for(we(W[6]+7>>3);Z.l&511;)Z.write_shift(-4,X.ENDOFCHAIN);for(he=te=0,de=0;de<B.FileIndex.length;++de)me=B.FileIndex[de],me.content&&(ge=me.content.length,!(!ge||ge>=4096)&&(me.start=he,we(ge+63>>6)));for(;Z.l&511;)Z.write_shift(-4,X.ENDOFCHAIN);for(te=0;te<W[4]<<2;++te){var Me=B.FullPaths[te];if(!Me||Me.length===0){for(de=0;de<17;++de)Z.write_shift(4,0);for(de=0;de<3;++de)Z.write_shift(4,-1);for(de=0;de<12;++de)Z.write_shift(4,0);continue}me=B.FileIndex[te],te===0&&(me.start=me.size?me.start-1:Q);var Pe=te===0&&V.root||me.name;if(ge=2*(Pe.length+1),Z.write_shift(64,Pe,"utf16le"),Z.write_shift(2,ge),Z.write_shift(1,me.type),Z.write_shift(1,me.color),Z.write_shift(-4,me.L),Z.write_shift(-4,me.R),Z.write_shift(-4,me.C),me.clsid)Z.write_shift(16,me.clsid,"hex");else for(de=0;de<4;++de)Z.write_shift(4,0);Z.write_shift(4,me.state||0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(4,me.start),Z.write_shift(4,me.size),Z.write_shift(4,0)}for(te=1;te<B.FileIndex.length;++te)if(me=B.FileIndex[te],me.size>=4096)if(Z.l=me.start+1<<9,Mt&&Buffer.isBuffer(me.content))me.content.copy(Z,Z.l,0,me.size),Z.l+=me.size+511&-512;else{for(de=0;de<me.size;++de)Z.write_shift(1,me.content[de]);for(;de&511;++de)Z.write_shift(1,0)}for(te=1;te<B.FileIndex.length;++te)if(me=B.FileIndex[te],me.size>0&&me.size<4096)if(Mt&&Buffer.isBuffer(me.content))me.content.copy(Z,Z.l,0,me.size),Z.l+=me.size+63&-64;else{for(de=0;de<me.size;++de)Z.write_shift(1,me.content[de]);for(;de&63;++de)Z.write_shift(1,0)}if(Mt)Z.l=Z.length;else for(;Z.l<Z.length;)Z.write_shift(1,0);return Z}function L(B,ee){var V=B.FullPaths.map(function(de){return de.toUpperCase()}),W=V.map(function(de){var ge=de.split("/");return ge[ge.length-(de.slice(-1)=="/"?2:1)]}),Z=!1;ee.charCodeAt(0)===47?(Z=!0,ee=V[0].slice(0,-1)+ee):Z=ee.indexOf("/")!==-1;var te=ee.toUpperCase(),he=Z===!0?V.indexOf(te):W.indexOf(te);if(he!==-1)return B.FileIndex[he];var we=!te.match(lp);for(te=te.replace($i,""),we&&(te=te.replace(lp,"!")),he=0;he<V.length;++he)if((we?V[he].replace(lp,"!"):V[he]).replace($i,"")==te||(we?W[he].replace(lp,"!"):W[he]).replace($i,"")==te)return B.FileIndex[he];return null}var I=64,Q=-2,J="d0cf11e0a1b11ae1",H=[208,207,17,224,161,177,26,225],z="00000000000000000000000000000000",X={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:Q,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function re(B,ee,V){c();var W=N(B,V);u.writeFileSync(ee,W)}function j(B){for(var ee=new Array(B.length),V=0;V<B.length;++V)ee[V]=String.fromCharCode(B[V]);return ee.join("")}function le(B,ee){var V=N(B,ee);switch(ee&&ee.type||"buffer"){case"file":return c(),u.writeFileSync(ee.filename,V),V;case"binary":return typeof V=="string"?V:j(V);case"base64":return Tz(typeof V=="string"?V:j(V));case"buffer":if(Mt)return Buffer.isBuffer(V)?V:N0(V);case"array":return typeof V=="string"?Rs(V):V}return V}var q;function R(B){try{var ee=B.InflateRaw,V=new ee;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)q=B;else throw new Error("zlib does not expose bytesRead")}catch(W){console.error("cannot use native zlib: "+(W.message||W))}}function G(B,ee){if(!q)return yx(B,ee);var V=q.InflateRaw,W=new V,Z=W._processChunk(B.slice(B.l),W._finishFlushFlag);return B.l+=W.bytesRead,Z}function K(B){return q?q.deflateRawSync(B):gt(B)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ve=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function _e(B){var ee=(B<<1|B<<11)&139536|(B<<5|B<<15)&558144;return(ee>>16|ee>>8|ee)&255}for(var ae=typeof Uint8Array<"u",ue=ae?new Uint8Array(256):[],ke=0;ke<256;++ke)ue[ke]=_e(ke);function P(B,ee){var V=ue[B&255];return ee<=8?V>>>8-ee:(V=V<<8|ue[B>>8&255],ee<=16?V>>>16-ee:(V=V<<8|ue[B>>16&255],V>>>24-ee))}function Ze(B,ee){var V=ee&7,W=ee>>>3;return(B[W]|(V<=6?0:B[W+1]<<8))>>>V&3}function Le(B,ee){var V=ee&7,W=ee>>>3;return(B[W]|(V<=5?0:B[W+1]<<8))>>>V&7}function He(B,ee){var V=ee&7,W=ee>>>3;return(B[W]|(V<=4?0:B[W+1]<<8))>>>V&15}function Re(B,ee){var V=ee&7,W=ee>>>3;return(B[W]|(V<=3?0:B[W+1]<<8))>>>V&31}function Fe(B,ee){var V=ee&7,W=ee>>>3;return(B[W]|(V<=1?0:B[W+1]<<8))>>>V&127}function nt(B,ee,V){var W=ee&7,Z=ee>>>3,te=(1<<V)-1,he=B[Z]>>>W;return V<8-W||(he|=B[Z+1]<<8-W,V<16-W)||(he|=B[Z+2]<<16-W,V<24-W)||(he|=B[Z+3]<<24-W),he&te}function bt(B,ee,V){var W=ee&7,Z=ee>>>3;return W<=5?B[Z]|=(V&7)<<W:(B[Z]|=V<<W&255,B[Z+1]=(V&7)>>8-W),ee+3}function $t(B,ee,V){var W=ee&7,Z=ee>>>3;return V=(V&1)<<W,B[Z]|=V,ee+1}function Kn(B,ee,V){var W=ee&7,Z=ee>>>3;return V<<=W,B[Z]|=V&255,V>>>=8,B[Z+1]=V,ee+8}function xr(B,ee,V){var W=ee&7,Z=ee>>>3;return V<<=W,B[Z]|=V&255,V>>>=8,B[Z+1]=V&255,B[Z+2]=V>>>8,ee+16}function Xr(B,ee){var V=B.length,W=2*V>ee?2*V:ee+5,Z=0;if(V>=ee)return B;if(Mt){var te=kz(W);if(B.copy)B.copy(te);else for(;Z<B.length;++Z)te[Z]=B[Z];return te}else if(ae){var he=new Uint8Array(W);if(he.set)he.set(B);else for(;Z<V;++Z)he[Z]=B[Z];return he}return B.length=W,B}function dt(B){for(var ee=new Array(B),V=0;V<B;++V)ee[V]=0;return ee}function Nn(B,ee,V){var W=1,Z=0,te=0,he=0,we=0,de=B.length,ge=ae?new Uint16Array(32):dt(32);for(te=0;te<32;++te)ge[te]=0;for(te=de;te<V;++te)B[te]=0;de=B.length;var me=ae?new Uint16Array(de):dt(de);for(te=0;te<de;++te)ge[Z=B[te]]++,W<Z&&(W=Z),me[te]=0;for(ge[0]=0,te=1;te<=W;++te)ge[te+16]=we=we+ge[te-1]<<1;for(te=0;te<de;++te)we=B[te],we!=0&&(me[te]=ge[we+16]++);var Me=0;for(te=0;te<de;++te)if(Me=B[te],Me!=0)for(we=P(me[te],W)>>W-Me,he=(1<<W+4-Me)-1;he>=0;--he)ee[we|he<<Me]=Me&15|te<<4;return W}var Yt=ae?new Uint16Array(512):dt(512),Dn=ae?new Uint16Array(32):dt(32);if(!ae){for(var Kt=0;Kt<512;++Kt)Yt[Kt]=0;for(Kt=0;Kt<32;++Kt)Dn[Kt]=0}(function(){for(var B=[],ee=0;ee<32;ee++)B.push(5);Nn(B,Dn,32);var V=[];for(ee=0;ee<=143;ee++)V.push(8);for(;ee<=255;ee++)V.push(9);for(;ee<=279;ee++)V.push(7);for(;ee<=287;ee++)V.push(8);Nn(V,Yt,288)})();var Wr=(function(){for(var ee=ae?new Uint8Array(32768):[],V=0,W=0;V<ve.length-1;++V)for(;W<ve[V+1];++W)ee[W]=V;for(;W<32768;++W)ee[W]=29;var Z=ae?new Uint8Array(259):[];for(V=0,W=0;V<se.length-1;++V)for(;W<se[V+1];++W)Z[W]=V;function te(we,de){for(var ge=0;ge<we.length;){var me=Math.min(65535,we.length-ge),Me=ge+me==we.length;for(de.write_shift(1,+Me),de.write_shift(2,me),de.write_shift(2,~me&65535);me-- >0;)de[de.l++]=we[ge++]}return de.l}function he(we,de){for(var ge=0,me=0,Me=ae?new Uint16Array(32768):[];me<we.length;){var Pe=Math.min(65535,we.length-me);if(Pe<10){for(ge=bt(de,ge,+(me+Pe==we.length)),ge&7&&(ge+=8-(ge&7)),de.l=ge/8|0,de.write_shift(2,Pe),de.write_shift(2,~Pe&65535);Pe-- >0;)de[de.l++]=we[me++];ge=de.l*8;continue}ge=bt(de,ge,+(me+Pe==we.length)+2);for(var Xe=0;Pe-- >0;){var Ie=we[me];Xe=(Xe<<5^Ie)&32767;var je=-1,Ke=0;if((je=Me[Xe])&&(je|=me&-32768,je>me&&(je-=32768),je<me))for(;we[je+Ke]==we[me+Ke]&&Ke<250;)++Ke;if(Ke>2){Ie=Z[Ke],Ie<=22?ge=Kn(de,ge,ue[Ie+1]>>1)-1:(Kn(de,ge,3),ge+=5,Kn(de,ge,ue[Ie-23]>>5),ge+=3);var gn=Ie<8?0:Ie-4>>2;gn>0&&(xr(de,ge,Ke-se[Ie]),ge+=gn),Ie=ee[me-je],ge=Kn(de,ge,ue[Ie]>>3),ge-=3;var pn=Ie<4?0:Ie-2>>1;pn>0&&(xr(de,ge,me-je-ve[Ie]),ge+=pn);for(var wn=0;wn<Ke;++wn)Me[Xe]=me&32767,Xe=(Xe<<5^we[me])&32767,++me;Pe-=Ke-1}else Ie<=143?Ie=Ie+48:ge=$t(de,ge,1),ge=Kn(de,ge,ue[Ie]),Me[Xe]=me&32767,++me}ge=Kn(de,ge,0)-1}return de.l=(ge+7)/8|0,de.l}return function(de,ge){return de.length<8?te(de,ge):he(de,ge)}})();function gt(B){var ee=or(50+Math.floor(B.length*1.1)),V=Wr(B,ee);return ee.slice(0,V)}var Qt=ae?new Uint16Array(32768):dt(32768),yn=ae?new Uint16Array(32768):dt(32768),Vt=ae?new Uint16Array(128):dt(128),Sn=1,ys=1;function xi(B,ee){var V=Re(B,ee)+257;ee+=5;var W=Re(B,ee)+1;ee+=5;var Z=He(B,ee)+4;ee+=4;for(var te=0,he=ae?new Uint8Array(19):dt(19),we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de=1,ge=ae?new Uint8Array(8):dt(8),me=ae?new Uint8Array(8):dt(8),Me=he.length,Pe=0;Pe<Z;++Pe)he[Y[Pe]]=te=Le(B,ee),de<te&&(de=te),ge[te]++,ee+=3;var Xe=0;for(ge[0]=0,Pe=1;Pe<=de;++Pe)me[Pe]=Xe=Xe+ge[Pe-1]<<1;for(Pe=0;Pe<Me;++Pe)(Xe=he[Pe])!=0&&(we[Pe]=me[Xe]++);var Ie=0;for(Pe=0;Pe<Me;++Pe)if(Ie=he[Pe],Ie!=0){Xe=ue[we[Pe]]>>8-Ie;for(var je=(1<<7-Ie)-1;je>=0;--je)Vt[Xe|je<<Ie]=Ie&7|Pe<<3}var Ke=[];for(de=1;Ke.length<V+W;)switch(Xe=Vt[Fe(B,ee)],ee+=Xe&7,Xe>>>=3){case 16:for(te=3+Ze(B,ee),ee+=2,Xe=Ke[Ke.length-1];te-- >0;)Ke.push(Xe);break;case 17:for(te=3+Le(B,ee),ee+=3;te-- >0;)Ke.push(0);break;case 18:for(te=11+Fe(B,ee),ee+=7;te-- >0;)Ke.push(0);break;default:Ke.push(Xe),de<Xe&&(de=Xe);break}var gn=Ke.slice(0,V),pn=Ke.slice(V);for(Pe=V;Pe<286;++Pe)gn[Pe]=0;for(Pe=W;Pe<30;++Pe)pn[Pe]=0;return Sn=Nn(gn,Qt,286),ys=Nn(pn,yn,30),ee}function rS(B,ee){if(B[0]==3&&!(B[1]&3))return[Sc(ee),2];for(var V=0,W=0,Z=kz(ee||1<<18),te=0,he=Z.length>>>0,we=0,de=0;(W&1)==0;){if(W=Le(B,V),V+=3,W>>>1)W>>1==1?(we=9,de=5):(V=xi(B,V),we=Sn,de=ys);else{V&7&&(V+=8-(V&7));var ge=B[V>>>3]|B[(V>>>3)+1]<<8;if(V+=32,ge>0)for(!ee&&he<te+ge&&(Z=Xr(Z,te+ge),he=Z.length);ge-- >0;)Z[te++]=B[V>>>3],V+=8;continue}for(;;){!ee&&he<te+32767&&(Z=Xr(Z,te+32767),he=Z.length);var me=nt(B,V,we),Me=W>>>1==1?Yt[me]:Qt[me];if(V+=Me&15,Me>>>=4,(Me>>>8&255)===0)Z[te++]=Me;else{if(Me==256)break;Me-=257;var Pe=Me<8?0:Me-4>>2;Pe>5&&(Pe=0);var Xe=te+se[Me];Pe>0&&(Xe+=nt(B,V,Pe),V+=Pe),me=nt(B,V,de),Me=W>>>1==1?Dn[me]:yn[me],V+=Me&15,Me>>>=4;var Ie=Me<4?0:Me-2>>1,je=ve[Me];for(Ie>0&&(je+=nt(B,V,Ie),V+=Ie),!ee&&he<Xe&&(Z=Xr(Z,Xe+100),he=Z.length);te<Xe;)Z[te]=Z[te-je],++te}}}return ee?[Z,V+7>>>3]:[Z.slice(0,te),V+7>>>3]}function yx(B,ee){var V=B.slice(B.l||0),W=rS(V,ee);return B.l+=W[1],W[0]}function vx(B,ee){if(B)typeof console<"u"&&console.error(ee);else throw new Error(ee)}function Uc(B,ee){var V=B;Ir(V,0);var W=[],Z=[],te={FileIndex:W,FullPaths:Z};T(te,{root:ee.root});for(var he=V.length-4;(V[he]!=80||V[he+1]!=75||V[he+2]!=5||V[he+3]!=6)&&he>=0;)--he;V.l=he+4,V.l+=4;var we=V.read_shift(2);V.l+=6;var de=V.read_shift(4);for(V.l=de,he=0;he<we;++he){V.l+=20;var ge=V.read_shift(4),me=V.read_shift(4),Me=V.read_shift(2),Pe=V.read_shift(2),Xe=V.read_shift(2);V.l+=8;var Ie=V.read_shift(4),je=o(V.slice(V.l+Me,V.l+Me+Pe));V.l+=Me+Pe+Xe;var Ke=V.l;V.l=Ie+4,P0(V,ge,me,te,je),V.l=Ke}return te}function P0(B,ee,V,W,Z){B.l+=2;var te=B.read_shift(2),he=B.read_shift(2),we=s(B);if(te&8257)throw new Error("Unsupported ZIP encryption");for(var de=B.read_shift(4),ge=B.read_shift(4),me=B.read_shift(4),Me=B.read_shift(2),Pe=B.read_shift(2),Xe="",Ie=0;Ie<Me;++Ie)Xe+=String.fromCharCode(B[B.l++]);if(Pe){var je=o(B.slice(B.l,B.l+Pe));(je[21589]||{}).mt&&(we=je[21589].mt),((Z||{})[21589]||{}).mt&&(we=Z[21589].mt)}B.l+=Pe;var Ke=B.slice(B.l,B.l+ge);switch(he){case 8:Ke=G(B,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var gn=!1;te&8&&(de=B.read_shift(4),de==134695760&&(de=B.read_shift(4),gn=!0),ge=B.read_shift(4),me=B.read_shift(4)),ge!=ee&&vx(gn,"Bad compressed size: "+ee+" != "+ge),me!=V&&vx(gn,"Bad uncompressed size: "+V+" != "+me),j0(W,Xe,Ke,{unsafe:!0,mt:we})}function U0(B,ee){var V=ee||{},W=[],Z=[],te=or(1),he=V.compression?8:0,we=0,de=0,ge=0,me=0,Me=0,Pe=B.FullPaths[0],Xe=Pe,Ie=B.FileIndex[0],je=[],Ke=0;for(de=1;de<B.FullPaths.length;++de)if(Xe=B.FullPaths[de].slice(Pe.length),Ie=B.FileIndex[de],!(!Ie.size||!Ie.content||Xe=="Sh33tJ5")){var gn=me,pn=or(Xe.length);for(ge=0;ge<Xe.length;++ge)pn.write_shift(1,Xe.charCodeAt(ge)&127);pn=pn.slice(0,pn.l),je[Me]=y6e.buf(Ie.content,0);var wn=Ie.content;he==8&&(wn=K(wn)),te=or(30),te.write_shift(4,67324752),te.write_shift(2,20),te.write_shift(2,we),te.write_shift(2,he),Ie.mt?a(te,Ie.mt):te.write_shift(4,0),te.write_shift(-4,je[Me]),te.write_shift(4,wn.length),te.write_shift(4,Ie.content.length),te.write_shift(2,pn.length),te.write_shift(2,0),me+=te.length,W.push(te),me+=pn.length,W.push(pn),me+=wn.length,W.push(wn),te=or(46),te.write_shift(4,33639248),te.write_shift(2,0),te.write_shift(2,20),te.write_shift(2,we),te.write_shift(2,he),te.write_shift(4,0),te.write_shift(-4,je[Me]),te.write_shift(4,wn.length),te.write_shift(4,Ie.content.length),te.write_shift(2,pn.length),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(4,0),te.write_shift(4,gn),Ke+=te.l,Z.push(te),Ke+=pn.length,Z.push(pn),++Me}return te=or(22),te.write_shift(4,101010256),te.write_shift(2,0),te.write_shift(2,0),te.write_shift(2,Me),te.write_shift(2,Me),te.write_shift(4,Ke),te.write_shift(4,me),te.write_shift(2,0),ju([ju(W),ju(Z),te])}var $a={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function H0(B,ee){if(B.ctype)return B.ctype;var V=B.name||"",W=V.match(/\.([^\.]+)$/);return W&&$a[W[1]]||ee&&(W=(V=ee).match(/[\.\\]([^\.\\])+$/),W&&$a[W[1]])?$a[W[1]]:"application/octet-stream"}function Hc(B){for(var ee=Tz(B),V=[],W=0;W<ee.length;W+=76)V.push(ee.slice(W,W+76));return V.join(`\r
`)+`\r
`}function iS(B){var ee=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var me=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});ee=ee.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ee.charAt(0)==`
`&&(ee="=0D"+ee.slice(1)),ee=ee.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],W=ee.split(`\r
`),Z=0;Z<W.length;++Z){var te=W[Z];if(te.length==0){V.push("");continue}for(var he=0;he<te.length;){var we=76,de=te.slice(he,he+we);de.charAt(we-1)=="="?we--:de.charAt(we-2)=="="?we-=2:de.charAt(we-3)=="="&&(we-=3),de=te.slice(he,he+we),he+=we,he<te.length&&(de+="="),V.push(de)}}return V.join(`\r
`)}function _x(B){for(var ee=[],V=0;V<B.length;++V){for(var W=B[V];V<=B.length&&W.charAt(W.length-1)=="=";)W=W.slice(0,W.length-1)+B[++V];ee.push(W)}for(var Z=0;Z<ee.length;++Z)ee[Z]=ee[Z].replace(/[=][0-9A-Fa-f]{2}/g,function(te){return String.fromCharCode(parseInt(te.slice(1),16))});return Rs(ee.join(`\r
`))}function _g(B,ee,V){for(var W="",Z="",te="",he,we=0;we<10;++we){var de=ee[we];if(!de||de.match(/^\s*$/))break;var ge=de.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":W=ge[2].trim();break;case"content-type":te=ge[2].trim();break;case"content-transfer-encoding":Z=ge[2].trim();break}}switch(++we,Z.toLowerCase()){case"base64":he=Rs(Na(ee.slice(we).join("")));break;case"quoted-printable":he=_x(ee.slice(we));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Z)}var me=j0(B,W.slice(V.length),he,{unsafe:!0});te&&(me.ctype=te)}function jc(B,ee){if(j(B.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=ee&&ee.root||"",W=(Mt&&Buffer.isBuffer(B)?B.toString("binary"):j(B)).split(`\r
`),Z=0,te="";for(Z=0;Z<W.length;++Z)if(te=W[Z],!!/^Content-Location:/i.test(te)&&(te=te.slice(te.indexOf("file")),V||(V=te.slice(0,te.lastIndexOf("/")+1)),te.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),te.slice(0,V.length)!=V););var he=(W[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var we="--"+(he[1]||""),de=[],ge=[],me={FileIndex:de,FullPaths:ge};T(me);var Me,Pe=0;for(Z=0;Z<W.length;++Z){var Xe=W[Z];Xe!==we&&Xe!==we+"--"||(Pe++&&_g(me,W.slice(Me,Z),V),Me=Z)}return me}function aS(B,ee){var V=ee||{},W=V.boundary||"SheetJS";W="------="+W;for(var Z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+W.slice(2)+'"',"","",""],te=B.FullPaths[0],he=te,we=B.FileIndex[0],de=1;de<B.FullPaths.length;++de)if(he=B.FullPaths[de].slice(te.length),we=B.FileIndex[de],!(!we.size||!we.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ke){return"_x"+Ke.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ke){return"_u"+Ke.charCodeAt(0).toString(16)+"_"});for(var ge=we.content,me=Mt&&Buffer.isBuffer(ge)?ge.toString("binary"):j(ge),Me=0,Pe=Math.min(1024,me.length),Xe=0,Ie=0;Ie<=Pe;++Ie)(Xe=me.charCodeAt(Ie))>=32&&Xe<128&&++Me;var je=Me>=Pe*4/5;Z.push(W),Z.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+he),Z.push("Content-Transfer-Encoding: "+(je?"quoted-printable":"base64")),Z.push("Content-Type: "+H0(we,he)),Z.push(""),Z.push(je?iS(me):Hc(me))}return Z.push(W+`--\r
`),Z.join(`\r
`)}function bx(B){var ee={};return T(ee,B),ee}function j0(B,ee,V,W){var Z=W&&W.unsafe;Z||T(B);var te=!Z&&It.find(B,ee);if(!te){var he=B.FullPaths[0];ee.slice(0,he.length)==he?he=ee:(he.slice(-1)!="/"&&(he+="/"),he=(he+ee).replace("//","/")),te={name:i(ee),type:2},B.FileIndex.push(te),B.FullPaths.push(he),Z||It.utils.cfb_gc(B)}return te.content=V,te.size=V?V.length:0,W&&(W.CLSID&&(te.clsid=W.CLSID),W.mt&&(te.mt=W.mt),W.ct&&(te.ct=W.ct)),te}function Ex(B,ee){T(B);var V=It.find(B,ee);if(V){for(var W=0;W<B.FileIndex.length;++W)if(B.FileIndex[W]==V)return B.FileIndex.splice(W,1),B.FullPaths.splice(W,1),!0}return!1}function bg(B,ee,V){T(B);var W=It.find(B,ee);if(W){for(var Z=0;Z<B.FileIndex.length;++Z)if(B.FileIndex[Z]==W)return B.FileIndex[Z].name=i(V),B.FullPaths[Z]=V,!0}return!1}function Eg(B){C(B,!0)}return t.find=L,t.read=O,t.parse=h,t.write=le,t.writeFile=re,t.utils={cfb_new:bx,cfb_add:j0,cfb_del:Ex,cfb_mov:bg,cfb_gc:Eg,ReadShift:Ap,CheckField:rZ,prep_blob:Ir,bconcat:ju,use_zlib:R,_deflateRaw:gt,_inflateRaw:yx,consts:X},t})();function v6e(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var n=t.read();return t.close(),n}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+e)}function Bo(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function SO(e){for(var t=[],n=Bo(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}var z_=new Date(1899,11,30,0,0,0);function Bi(e,t){var n=e.getTime(),r=z_.getTime()+(e.getTimezoneOffset()-z_.getTimezoneOffset())*6e4;return(n-r)/(1440*60*1e3)}var LQ=new Date,_6e=z_.getTime()+(LQ.getTimezoneOffset()-z_.getTimezoneOffset())*6e4,$z=LQ.getTimezoneOffset();function JE(e){var t=new Date;return t.setTime(e*24*60*60*1e3+_6e),t.getTimezoneOffset()!==$z&&t.setTime(t.getTime()+(t.getTimezoneOffset()-$z)*6e4),t}function b6e(e){var t=0,n=0,r=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(n=1,a>3&&(r=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":n*=24;case"H":n*=60;case"M":if(r)n*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=n*parseInt(i[a],10)}return t}var Lz=new Date("2017-02-19T19:06:09.000Z"),IQ=isNaN(Lz.getFullYear())?new Date("2/19/17"):Lz,E6e=IQ.getFullYear()==2017;function kr(e,t){var n=new Date(e);if(E6e)return t>0?n.setTime(n.getTime()+n.getTimezoneOffset()*60*1e3):t<0&&n.setTime(n.getTime()-n.getTimezoneOffset()*60*1e3),n;if(e instanceof Date)return e;if(IQ.getFullYear()==1917&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function g0(e,t){if(Mt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return cp(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return cp(SQ(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return cp(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return cp(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(a){return n[a]||a})}catch{}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function jr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=jr(e[n]));return t}function Bn(e,t){for(var n="";n.length<t;)n+=e;return n}function Hs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return!isNaN(t=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,a){return n=-n,a}),!isNaN(t=Number(r)))?t/n:t}var S6e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Hd(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&S6e.indexOf(s)==-1)return n}else if(s.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||a>1)&&r!=101?t:e.match(/[^-0-9:,\/\\]/)?n:t}var w6e=(function(){var e="abacaba".split(/(:?b)/i).length==5;return function(n,r,i){if(e||typeof r=="string")return n.split(r);for(var a=n.split(r),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}})();function zQ(e){return e?e.content&&e.type?g0(e.content,!0):e.data?op(e.data):e.asNodeBuffer&&Mt?op(e.asNodeBuffer().toString("binary")):e.asBinary?op(e.asBinary()):e._data&&e._data.getContent?op(g0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function BQ(e){if(!e)return null;if(e.data)return wz(e.data);if(e.asNodeBuffer&&Mt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?wz(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function A6e(e){return e&&e.name.slice(-4)===".bin"?BQ(e):zQ(e)}function Qa(e,t){for(var n=e.FullPaths||Bo(e.files),r=t.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),a=0;a<n.length;++a){var s=n[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==s||i==s)return e.files?e.files[n[a]]:e.FileIndex[a]}return null}function wO(e,t){var n=Qa(e,t);if(n==null)throw new Error("Cannot find file "+t+" in zip");return n}function nr(e,t,n){if(!n)return A6e(wO(e,t));if(!t)return null;try{return nr(e,t)}catch{return null}}function Ea(e,t,n){if(!n)return zQ(wO(e,t));if(!t)return null;try{return Ea(e,t)}catch{return null}}function T6e(e,t,n){return BQ(wO(e,t))}function Iz(e){for(var t=e.FullPaths||Bo(e.files),n=[],r=0;r<t.length;++r)t[r].slice(-1)!="/"&&n.push(t[r].replace(/^Root Entry[\/]/,""));return n.sort()}function k6e(e,t,n){if(e.FullPaths){if(typeof n=="string"){var r;return Mt?r=N0(n):r=VFe(n),It.utils.cfb_add(e,t,r)}It.utils.cfb_add(e,t,n)}else e.file(t,n)}function PQ(e,t){switch(t.type){case"base64":return It.read(e,{type:"base64"});case"binary":return It.read(e,{type:"binary"});case"buffer":case"array":return It.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function up(e,t){if(e.charAt(0)=="/")return e.slice(1);var n=t.split("/");t.slice(-1)!="/"&&n.pop();for(var r=e.split("/");r.length!==0;){var i=r.shift();i===".."?n.pop():i!=="."&&n.push(i)}return n.join("/")}var UQ=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,C6e=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,zz=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,F6e=/<[^>]*>/g,mi=UQ.match(zz)?zz:F6e,D6e=/<\w*:/,O6e=/<(\/?)\w+:/;function ct(e,t,n){for(var r={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(r[0]=e.slice(0,i)),i===e.length)return r;var s=e.match(C6e),o=0,u="",c=0,h="",d="",p=1;if(s)for(c=0;c!=s.length;++c){for(d=s[c],a=0;a!=d.length&&d.charCodeAt(a)!==61;++a);for(h=d.slice(0,a).trim();d.charCodeAt(a+1)==32;)++a;for(p=(i=d.charCodeAt(a+1))==34||i==39?1:0,u=d.slice(a+1+p,d.length-p),o=0;o!=h.length&&h.charCodeAt(o)!==58;++o);if(o===h.length)h.indexOf("_")>0&&(h=h.slice(0,h.indexOf("_"))),r[h]=u,r[h.toLowerCase()]=u;else{var m=(o===5&&h.slice(0,5)==="xmlns"?"xmlns":"")+h.slice(o+1);if(r[m]&&h.slice(o-3,o)=="ext")continue;r[m]=u,r[m.toLowerCase()]=u}}return r}function Jo(e){return e.replace(O6e,"<$1")}var HQ={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},M6e=SO(HQ),Bt=(function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function n(r){var i=r+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,u){return HQ[o]||String.fromCharCode(parseInt(u,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,u){return String.fromCharCode(parseInt(u,16))});var s=i.indexOf("]]>");return n(i.slice(0,a))+i.slice(a+9,s)+n(i.slice(s+3))}})(),R6e=/[&<>'"]/g,N6e=/[\u0000-\u001f]/g;function AO(e){var t=e+"";return t.replace(R6e,function(n){return M6e[n]}).replace(/\n/g,"<br/>").replace(N6e,function(n){return"&#x"+("000"+n.charCodeAt(0).toString(16)).slice(-4)+";"})}var Bz=(function(){var e=/&#(\d+);/g;function t(n,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(e,t)}})();function kn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ck(e){for(var t="",n=0,r=0,i=0,a=0,s=0,o=0;n<e.length;){if(r=e.charCodeAt(n++),r<128){t+=String.fromCharCode(r);continue}if(i=e.charCodeAt(n++),r>191&&r<224){s=(r&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(n++),r<240){t+=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(n++),o=((r&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function Pz(e){var t=Sc(2*e.length),n,r,i=1,a=0,s=0,o;for(r=0;r<e.length;r+=i)i=1,(o=e.charCodeAt(r))<128?n=o:o<224?(n=(o&31)*64+(e.charCodeAt(r+1)&63),i=2):o<240?(n=(o&15)*4096+(e.charCodeAt(r+1)&63)*64+(e.charCodeAt(r+2)&63),i=3):(i=4,n=(o&7)*262144+(e.charCodeAt(r+1)&63)*4096+(e.charCodeAt(r+2)&63)*64+(e.charCodeAt(r+3)&63),n-=65536,s=55296+(n>>>10&1023),n=56320+(n&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=n%256,t[a++]=n>>>8;return t.slice(0,a).toString("ucs2")}function Uz(e){return N0(e,"binary").toString("utf8")}var bv="foo bar baz",mn=Mt&&(Uz(bv)==ck(bv)&&Uz||Pz(bv)==ck(bv)&&Pz)||ck,cp=Mt?function(e){return N0(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(r&63)))}return t.join("")},dm=(function(){var e={};return function(n,r){var i=n+"|"+(r||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+n+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+n+">",r||"")}})(),jQ=(function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(n){for(var r=n.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)r=r.replace(e[i][0],e[i][1]);return r}})(),$6e=(function(){var e={};return function(n){return e[n]!==void 0?e[n]:e[n]=new RegExp("<(?:vt:)?"+n+">([\\s\\S]*?)</(?:vt:)?"+n+">","g")}})(),L6e=/<\/?(?:vt:)?variant>/g,I6e=/<(?:vt:)([^>]*)>([\s\S]*)</;function Hz(e,t){var n=ct(e),r=e.match($6e(n.baseType))||[],i=[];if(r.length!=n.size){if(t.WTF)throw new Error("unexpected vector length "+r.length+" != "+n.size);return i}return r.forEach(function(a){var s=a.replace(L6e,"").match(I6e);s&&i.push({v:mn(s[2]),t:s[1]})}),i}var z6e=/(^\s|\s$|\n)/;function B6e(e){return Bo(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function P6e(e,t,n){return"<"+e+(n!=null?B6e(n):"")+(t!=null?(t.match(z6e)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function TO(e){if(Mt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return mn($0(_O(e)));throw new Error("Bad input format: expected Buffer or string")}var gm=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,U6e={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},H6e=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function j6e(e,t){for(var n=1-2*(e[t+7]>>>7),r=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return r==2047?i==0?n*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}function q6e(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=r?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[n+o]=a&255;e[n+6]=(i&15)<<4|a&15,e[n+7]=i>>4|r}var jz=function(e){for(var t=[],n=10240,r=0;r<e[0].length;++r)if(e[0][r])for(var i=0,a=e[0][r].length;i<a;i+=n)t.push.apply(t,e[0][r].slice(i,i+n));return t},qz=Mt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:N0(t)})):jz(e)}:jz,Gz=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(Nl(e,i)));return r.join("").replace($i,"")},kO=Mt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace($i,""):Gz(e,t,n)}:Gz,Vz=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},qQ=Mt?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):Vz(e,t,n)}:Vz,Xz=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(Bh(e,i)));return r.join("")},hx=Mt?function(t,n,r){return Buffer.isBuffer(t)?t.toString("utf8",n,r):Xz(t,n,r)}:Xz,GQ=function(e,t){var n=_a(e,t);return n>0?hx(e,t+4,t+4+n-1):""},VQ=GQ,XQ=function(e,t){var n=_a(e,t);return n>0?hx(e,t+4,t+4+n-1):""},WQ=XQ,YQ=function(e,t){var n=2*_a(e,t);return n>0?hx(e,t+4,t+4+n-1):""},KQ=YQ,QQ=function(t,n){var r=_a(t,n);return r>0?kO(t,n+4,n+4+r):""},ZQ=QQ,JQ=function(e,t){var n=_a(e,t);return n>0?hx(e,t+4,t+4+n):""},eZ=JQ,tZ=function(e,t){return j6e(e,t)},B_=tZ,nZ=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Mt&&(VQ=function(t,n){if(!Buffer.isBuffer(t))return GQ(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},WQ=function(t,n){if(!Buffer.isBuffer(t))return XQ(t,n);var r=t.readUInt32LE(n);return r>0?t.toString("utf8",n+4,n+4+r-1):""},KQ=function(t,n){if(!Buffer.isBuffer(t))return YQ(t,n);var r=2*t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r-1)},ZQ=function(t,n){if(!Buffer.isBuffer(t))return QQ(t,n);var r=t.readUInt32LE(n);return t.toString("utf16le",n+4,n+4+r)},eZ=function(t,n){if(!Buffer.isBuffer(t))return JQ(t,n);var r=t.readUInt32LE(n);return t.toString("utf8",n+4,n+4+r)},B_=function(t,n){return Buffer.isBuffer(t)?t.readDoubleLE(n):tZ(t,n)},nZ=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Bh=function(e,t){return e[t]},Nl=function(e,t){return e[t+1]*256+e[t]},G6e=function(e,t){var n=e[t+1]*256+e[t];return n<32768?n:(65535-n+1)*-1},_a=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},kf=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},V6e=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ap(e,t){var n="",r,i,a=[],s,o,u,c;switch(t){case"dbcs":if(c=this.l,Mt&&Buffer.isBuffer(this))n=this.slice(this.l,this.l+2*e).toString("utf16le");else for(u=0;u<e;++u)n+=String.fromCharCode(Nl(this,c)),c+=2;e*=2;break;case"utf8":n=hx(this,this.l,this.l+e);break;case"utf16le":e*=2,n=kO(this,this.l,this.l+e);break;case"wstr":return Ap.call(this,e,"dbcs");case"lpstr-ansi":n=VQ(this,this.l),e=4+_a(this,this.l);break;case"lpstr-cp":n=WQ(this,this.l),e=4+_a(this,this.l);break;case"lpwstr":n=KQ(this,this.l),e=4+2*_a(this,this.l);break;case"lpp4":e=4+_a(this,this.l),n=ZQ(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+_a(this,this.l),n=eZ(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,n="";(s=Bh(this,this.l+e++))!==0;)a.push(_v(s));n=a.join("");break;case"_wstr":for(e=0,n="";(s=Nl(this,this.l+e))!==0;)a.push(_v(s)),e+=2;e+=2,n=a.join("");break;case"dbcs-cont":for(n="",c=this.l,u=0;u<e;++u){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Bh(this,c),this.l=c+1,o=Ap.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(_v(Nl(this,c))),c+=2}n=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(n="",c=this.l,u=0;u!=e;++u){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Bh(this,c),this.l=c+1,o=Ap.call(this,e-u,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(_v(Bh(this,c))),c+=1}n=a.join("");break;default:switch(e){case 1:return r=Bh(this,this.l),this.l++,r;case 2:return r=(t==="i"?G6e:Nl)(this,this.l),this.l+=2,r;case 4:case-4:return t==="i"||(this[this.l+3]&128)===0?(r=(e>0?kf:V6e)(this,this.l),this.l+=4,r):(i=_a(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=B_(this,this.l):i=B_([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:n=qQ(this,this.l,e);break}}return this.l+=e,n}var X6e=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},W6e=function(e,t,n){e[n]=t&255,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Y6e=function(e,t,n){e[n]=t&255,e[n+1]=t>>>8&255};function K6e(e,t,n){var r=0,i=0;if(n==="dbcs"){for(i=0;i!=t.length;++i)Y6e(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if(n==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;r=t.length}else if(n==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(n==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:r=1,this[this.l]=t&255;break;case 2:r=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:r=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:r=4,X6e(this,t,this.l);break;case 8:if(r=8,n==="f"){q6e(this,t,this.l);break}case 16:break;case-4:r=4,W6e(this,t,this.l);break}return this.l+=r,this}function rZ(e,t){var n=qQ(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Ir(e,t){e.l=t,e.read_shift=Ap,e.chk=rZ,e.write_shift=K6e}function pi(e,t){e.l+=t}function or(e){var t=Sc(e);return Ir(t,0),t}function ou(e,t,n){if(e){var r,i,a;Ir(e,e.l||0);for(var s=e.length,o=0,u=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=G_[o]||G_[65535];for(r=e.read_shift(1),a=r&127,i=1;i<4&&r&128;++i)a+=((r=e.read_shift(1))&127)<<7*i;u=e.l+a;var h=c.f&&c.f(e,a,n);if(e.l=u,t(h,c,o))return}}}function N4(){var e=[],t=Mt?256:2048,n=function(c){var h=or(c);return Ir(h,0),h},r=n(t),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&e.push(r),r=null)},a=function(c){return r&&c<r.length-r.l?r:(i(),r=n(Math.max(c+1,t)))},s=function(){return i(),ju(e)},o=function(c){i(),r=c,r.l==null&&(r.l=r.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function Tp(e,t,n){var r=jr(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Wz(e,t,n){var r=jr(e);return r.s=Tp(r.s,t.s,n),r.e=Tp(r.e,t.s,n),r}function kp(e,t){if(e.cRel&&e.c<0)for(e=jr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=jr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=mt(e);return!e.cRel&&e.cRel!=null&&(n=J6e(n)),!e.rRel&&e.rRel!=null&&(n=Q6e(n)),n}function fk(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+hr(e.s.c)+":"+(e.e.cRel?"":"$")+hr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+qr(e.s.r)+":"+(e.e.rRel?"":"$")+qr(e.e.r):kp(e.s,t.biff)+":"+kp(e.e,t.biff)}function CO(e){return parseInt(Z6e(e),10)-1}function qr(e){return""+(e+1)}function Q6e(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Z6e(e){return e.replace(/\$(\d+)$/,"$1")}function FO(e){for(var t=eDe(e),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function hr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function J6e(e){return e.replace(/^([A-Z])/,"$$$1")}function eDe(e){return e.replace(/^\$([A-Z])/,"$1")}function tDe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mi(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function mt(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function yg(e){var t=e.indexOf(":");return t==-1?{s:Mi(e),e:Mi(e)}:{s:Mi(e.slice(0,t)),e:Mi(e.slice(t+1))}}function zt(e,t){return typeof t>"u"||typeof t=="number"?zt(e.s,e.e):(typeof e!="string"&&(e=mt(e)),typeof t!="string"&&(t=mt(t)),e==t?e:e+":"+t)}function Hn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,a=e.length;for(n=0;r<a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=a&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function Yz(e,t){var n=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ds(e.z,n?Bi(t):t)}catch{}try{return e.w=ds((e.XF||{}).numFmtId||(n?14:0),n?Bi(t):t)}catch{return""+t}}function Ql(e,t,n){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),e.t=="e"?z0[e.v]||e.v:t==null?Yz(e,e.v):Yz(e,t))}function Pc(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function iZ(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&r.origin!=null){if(typeof r.origin=="number")s=r.origin;else{var u=typeof r.origin=="string"?Mi(r.origin):r.origin;s=u.r,o=u.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var h=Hn(a["!ref"]);c.s.c=h.s.c,c.s.r=h.s.r,c.e.c=Math.max(c.e.c,h.e.c),c.e.r=Math.max(c.e.r,h.e.r),s==-1&&(c.e.r=s=h.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var p=0;p!=t[d].length;++p)if(!(typeof t[d][p]>"u")){var m={v:t[d][p]},y=s+d,v=o+p;if(c.s.r>y&&(c.s.r=y),c.s.c>v&&(c.s.c=v),c.e.r<y&&(c.e.r=y),c.e.c<v&&(c.e.c=v),t[d][p]&&typeof t[d][p]=="object"&&!Array.isArray(t[d][p])&&!(t[d][p]instanceof Date))m=t[d][p];else if(Array.isArray(m.v)&&(m.f=t[d][p][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(r.nullError)m.t="e",m.v=0;else if(r.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=r.dateNF||yt[14],r.cellDates?(m.t="d",m.w=ds(m.z,Bi(m.v))):(m.t="n",m.v=Bi(m.v),m.w=ds(m.z,m.v))):m.t="s";if(i)a[y]||(a[y]=[]),a[y][v]&&a[y][v].z&&(m.z=a[y][v].z),a[y][v]=m;else{var _=mt({c:v,r:y});a[_]&&a[_].z&&(m.z=a[_].z),a[_]=m}}}return c.s.c<1e7&&(a["!ref"]=zt(c)),a}function vg(e,t){return iZ(null,e,t)}function nDe(e){return e.read_shift(4,"i")}function hi(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function rDe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function DO(e,t){var n=e.l,r=e.read_shift(1),i=hi(e),a=[],s={t:i,h:i};if((r&1)!==0){for(var o=e.read_shift(4),u=0;u!=o;++u)a.push(rDe(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=n+t,s}var iDe=DO;function xs(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function L0(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var aDe=hi;function OO(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var sDe=hi,$4=OO;function MO(e){var t=e.slice(e.l,e.l+4),n=t[0]&1,r=t[0]&2;e.l+=4;var i=r===0?B_([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):kf(t,0)>>2;return n?i/100:i}function aZ(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var I0=aZ;function ii(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function oDe(e){var t={},n=e.read_shift(1),r=n>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),u=e.read_shift(1);switch(e.l++,r){case 0:t.auto=1;break;case 1:t.index=i;var c=qf[i];c&&(t.rgb=mm(c));break;case 2:t.rgb=mm([s,o,u]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function lDe(e){var t=e.read_shift(1);e.l++;var n={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return n}function sZ(e,t){var n={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=e.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return n[e.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function uDe(e){return sZ(e,1)}function cDe(e){return sZ(e,2)}var RO=2,Ki=3,Ev=11,Kz=12,P_=19,Sv=64,fDe=65,hDe=71,dDe=4108,gDe=4126,vr=80,oZ=81,pDe=[vr,oZ],mDe={1:{n:"CodePage",t:RO},2:{n:"Category",t:vr},3:{n:"PresentationFormat",t:vr},4:{n:"ByteCount",t:Ki},5:{n:"LineCount",t:Ki},6:{n:"ParagraphCount",t:Ki},7:{n:"SlideCount",t:Ki},8:{n:"NoteCount",t:Ki},9:{n:"HiddenCount",t:Ki},10:{n:"MultimediaClipCount",t:Ki},11:{n:"ScaleCrop",t:Ev},12:{n:"HeadingPairs",t:dDe},13:{n:"TitlesOfParts",t:gDe},14:{n:"Manager",t:vr},15:{n:"Company",t:vr},16:{n:"LinksUpToDate",t:Ev},17:{n:"CharacterCount",t:Ki},19:{n:"SharedDoc",t:Ev},22:{n:"HyperlinksChanged",t:Ev},23:{n:"AppVersion",t:Ki,p:"version"},24:{n:"DigSig",t:fDe},26:{n:"ContentType",t:vr},27:{n:"ContentStatus",t:vr},28:{n:"Language",t:vr},29:{n:"Version",t:vr},255:{},2147483648:{n:"Locale",t:P_},2147483651:{n:"Behavior",t:P_},1919054434:{}},xDe={1:{n:"CodePage",t:RO},2:{n:"Title",t:vr},3:{n:"Subject",t:vr},4:{n:"Author",t:vr},5:{n:"Keywords",t:vr},6:{n:"Comments",t:vr},7:{n:"Template",t:vr},8:{n:"LastAuthor",t:vr},9:{n:"RevNumber",t:vr},10:{n:"EditTime",t:Sv},11:{n:"LastPrinted",t:Sv},12:{n:"CreatedDate",t:Sv},13:{n:"ModifiedDate",t:Sv},14:{n:"PageCount",t:Ki},15:{n:"WordCount",t:Ki},16:{n:"CharCount",t:Ki},17:{n:"Thumbnail",t:hDe},18:{n:"Application",t:vr},19:{n:"DocSecurity",t:Ki},255:{},2147483648:{n:"Locale",t:P_},2147483651:{n:"Behavior",t:P_},1919054434:{}},Qz={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},yDe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function vDe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var _De=vDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qf=jr(_De),z0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lZ={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Zz={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function bDe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function EDe(e){var t=bDe();if(!e||!e.match)return t;var n={};if((e.match(mi)||[]).forEach(function(r){var i=ct(r);switch(i[0].replace(D6e,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":n[i.Extension]=i.ContentType;break;case"<Override":t[Zz[i.ContentType]]!==void 0&&t[Zz[i.ContentType]].push(i.PartName);break}}),t.xmlns!==U6e.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=n,delete t.calcchains,t}var Xh={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function L4(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cp(e,t){var n={"!id":{}};if(!e)return n;t.charAt(0)!=="/"&&(t="/"+t);var r={};return(e.match(mi)||[]).forEach(function(i){var a=ct(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:up(a.Target,t);n[o]=s,r[a.Id]=s}}),n["!id"]=r,n}var SDe="application/vnd.oasis.opendocument.spreadsheet";function wDe(e,t){for(var n=TO(e),r,i;r=gm.exec(n);)switch(r[3]){case"manifest":break;case"file-entry":if(i=ct(r[0],!1),i.path=="/"&&i.type!==SDe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw r}}var Fp=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],ADe=(function(){for(var e=new Array(Fp.length),t=0;t<Fp.length;++t){var n=Fp[t],r="(?:"+n[0].slice(0,n[0].indexOf(":"))+":)"+n[0].slice(n[0].indexOf(":")+1);e[t]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return e})();function uZ(e){var t={};e=mn(e);for(var n=0;n<Fp.length;++n){var r=Fp[n],i=e.match(ADe[n]);i!=null&&i.length>0&&(t[r[1]]=Bt(i[1])),r[2]==="date"&&t[r[1]]&&(t[r[1]]=kr(t[r[1]]))}return t}var TDe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function cZ(e,t,n,r){var i=[];if(typeof e=="string")i=Hz(e,r);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(h){return{v:h}}));var s=typeof t=="string"?Hz(t,r).map(function(h){return h.v}):t,o=0,u=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(u=+i[c+1].v,i[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":n.Worksheets=u,n.SheetNames=s.slice(o,o+u);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":n.NamedRanges=u,n.DefinedNames=s.slice(o,o+u);break;case"Charts":case"Diagramme":n.Chartsheets=u,n.ChartNames=s.slice(o,o+u);break}o+=u}}function kDe(e,t,n){var r={};return t||(t={}),e=mn(e),TDe.forEach(function(i){var a=(e.match(dm(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=Bt(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(r[i[1]]=s[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&cZ(r.HeadingPairs,r.TitlesOfParts,t,n),t}var CDe=/<[^>]+>[^<]*/g;function FDe(e,t){var n={},r="",i=e.match(CDe);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=ct(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Bt(o.name);break;case"</property>":r=null;break;default:if(s.indexOf("<vt:")===0){var u=s.split(">"),c=u[0].slice(4),h=u[1];switch(c){case"lpstr":case"bstr":case"lpwstr":n[r]=Bt(h);break;case"bool":n[r]=kn(h);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":n[r]=parseInt(h,10);break;case"r4":case"r8":case"decimal":n[r]=parseFloat(h);break;case"filetime":case"date":n[r]=kr(h);break;case"cy":case"error":n[r]=Bt(h);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,u)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return n}var DDe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},hk;function ODe(e,t,n){hk||(hk=SO(DDe)),t=hk[t]||t,e[t]=n}function NO(e){var t=e.read_shift(4),n=e.read_shift(4);return new Date((n/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function fZ(e,t,n){var r=e.l,i=e.read_shift(0,"lpstr-cp");if(n)for(;e.l-r&3;)++e.l;return i}function hZ(e,t,n){var r=e.read_shift(0,"lpwstr");return r}function dZ(e,t,n){return t===31?hZ(e):fZ(e,t,n)}function I4(e,t,n){return dZ(e,t,n===!1?0:4)}function MDe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return dZ(e,t,0)}function RDe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r){var i=e.l;n[r]=e.read_shift(0,"lpwstr").replace($i,""),e.l-i&2&&(e.l+=2)}return n}function NDe(e){for(var t=e.read_shift(4),n=[],r=0;r!=t;++r)n[r]=e.read_shift(0,"lpstr-cp").replace($i,"");return n}function $De(e){var t=e.l,n=U_(e,oZ);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var r=U_(e,Ki);return[n,r]}function LDe(e){for(var t=e.read_shift(4),n=[],r=0;r<t/2;++r)n.push($De(e));return n}function Jz(e,t){for(var n=e.read_shift(4),r={},i=0;i!=n;++i){var a=e.read_shift(4),s=e.read_shift(4);r[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace($i,"").replace(lp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),r}function gZ(e){var t=e.read_shift(4),n=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),n}function IDe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function U_(e,t,n){var r=e.read_shift(2),i,a=n||{};if(e.l+=2,t!==Kz&&r!==t&&pDe.indexOf(t)===-1&&!((t&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+t+" saw "+r);switch(t===Kz?r:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return fZ(e,r,4).replace($i,"");case 31:return hZ(e);case 64:return NO(e);case 65:return gZ(e);case 71:return IDe(e);case 80:return I4(e,r,!a.raw).replace($i,"");case 81:return MDe(e,r).replace($i,"");case 4108:return LDe(e);case 4126:case 4127:return r==4127?RDe(e):NDe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+r)}}function eB(e,t){var n=e.l,r=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,u=-1,c={};for(s=0;s!=i;++s){var h=e.read_shift(4),d=e.read_shift(4);a[s]=[h,d+n]}a.sort(function(w,A){return w[1]-A[1]});var p={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var m=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,m=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],m=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],m=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(m=!1,e.l=a[s][1]),m)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var y=t[a[s][0]];if(p[y.n]=U_(e,y.t,{raw:!0}),y.p==="version"&&(p[y.n]=String(p[y.n]>>16)+"."+("0000"+String(p[y.n]&65535)).slice(-4)),y.n=="CodePage")switch(p[y.n]){case 0:p[y.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:zs(o=p[y.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+p[y.n])}}else if(a[s][0]===1){if(o=p.CodePage=U_(e,RO),zs(o),u!==-1){var v=e.l;e.l=a[u][1],c=Jz(e,o),e.l=v}}else if(a[s][0]===0){if(o===0){u=s,e.l=a[s+1][1];continue}c=Jz(e,o)}else{var _=c[a[s][0]],E;switch(e[e.l]){case 65:e.l+=4,E=gZ(e);break;case 30:e.l+=4,E=I4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,E=I4(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,E=e.read_shift(4,"i");break;case 19:e.l+=4,E=e.read_shift(4);break;case 5:e.l+=4,E=e.read_shift(8,"f");break;case 11:e.l+=4,E=Gn(e,4);break;case 64:e.l+=4,E=kr(NO(e));break;default:throw new Error("unparsed value: "+e[e.l])}p[_]=E}}return e.l=n+r,p}function tB(e,t,n){var r=e.content;if(!r)return{};Ir(r,0);var i,a,s,o,u=0;r.chk("feff","Byte Order: "),r.read_shift(2);var c=r.read_shift(4),h=r.read_shift(16);if(h!==It.utils.consts.HEADER_CLSID&&h!==n)throw new Error("Bad PropertySet CLSID "+h);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=r.read_shift(16),o=r.read_shift(4),i===1&&o!==r.l)throw new Error("Length mismatch: "+o+" !== "+r.l);i===2&&(s=r.read_shift(16),u=r.read_shift(4));var d=eB(r,t),p={SystemIdentifier:c};for(var m in d)p[m]=d[m];if(p.FMTID=a,i===1)return p;if(u-r.l==2&&(r.l+=2),r.l!==u)throw new Error("Length mismatch 2: "+r.l+" !== "+u);var y;try{y=eB(r,null)}catch{}for(m in y)p[m]=y[m];return p.FMTID=[a,s],p}function Ru(e,t){return e.read_shift(t),null}function zDe(e,t,n){for(var r=[],i=e.l+t;e.l<i;)r.push(n(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return r}function Gn(e,t){return e.read_shift(t)===1}function rr(e){return e.read_shift(2,"u")}function pZ(e,t){return zDe(e,t,rr)}function BDe(e){var t=e.read_shift(1),n=e.read_shift(1);return n===1?t:t===1}function dx(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";if(n&&n.biff>=8,!n||n.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else n.biff==12&&(i="wstr");n.biff>=2&&n.biff<=5&&(i="cpstr");var s=r?e.read_shift(r,i):"";return s}function PDe(e){var t=e.read_shift(2),n=e.read_shift(1),r=n&4,i=n&8,a=1+(n&1),s=0,o,u={};i&&(s=e.read_shift(2)),r&&(o=e.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",h=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*s),r&&(e.l+=o),u.t=h,i||(u.raw="<t>"+u.t+"</t>",u.r=u.t),u}function p0(e,t,n){var r;if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?r=e.read_shift(t,"sbcs-cont"):r=e.read_shift(t,"dbcs-cont"),r}function gx(e,t,n){var r=e.read_shift(n&&n.biff==2?1:2);return r===0?(e.l++,""):p0(e,r,n)}function B0(e,t,n){if(n.biff>5)return gx(e,t,n);var r=e.read_shift(1);return r===0?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function UDe(e){var t=e.read_shift(1);e.l++;var n=e.read_shift(2);return e.l+=2,[t,n]}function HDe(e){var t=e.read_shift(4),n=e.l,r=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),e.l=n);var i=e.read_shift((r?t-24:t)>>1,"utf16le").replace($i,"");return r&&(e.l+=24),i}function jDe(e){for(var t=e.read_shift(2),n="";t-- >0;)n+="../";var r=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return n+r.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace($i,"");return n+s}function qDe(e,t){var n=e.read_shift(16);switch(n){case"e0c9ea79f9bace118c8200aa004ba90b":return HDe(e);case"0303000000000000c000000000000046":return jDe(e);default:throw new Error("Unsupported Moniker "+n)}}function wv(e){var t=e.read_shift(4),n=t>0?e.read_shift(t,"utf16le").replace($i,""):"";return n}function GDe(e,t){var n=e.l+t,r=e.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=e.read_shift(2);e.l+=2;var a,s,o,u,c="",h,d;i&16&&(a=wv(e,n-e.l)),i&128&&(s=wv(e,n-e.l)),(i&257)===257&&(o=wv(e,n-e.l)),(i&257)===1&&(u=qDe(e,n-e.l)),i&8&&(c=wv(e,n-e.l)),i&32&&(h=e.read_shift(16)),i&64&&(d=NO(e)),e.l=n;var p=s||o||u||"";p&&c&&(p+="#"+c),p||(p="#"+c),i&2&&p.charAt(0)=="/"&&p.charAt(1)!="/"&&(p="file://"+p);var m={Target:p};return h&&(m.guid=h),d&&(m.time=d),a&&(m.Tooltip=a),m}function mZ(e){var t=e.read_shift(1),n=e.read_shift(1),r=e.read_shift(1),i=e.read_shift(1);return[t,n,r,i]}function xZ(e,t){var n=mZ(e);return n[3]=0,n}function el(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return{r:t,c:n,ixfe:r}}function VDe(e){var t=e.read_shift(2),n=e.read_shift(2);return e.l+=8,{type:t,flags:n}}function XDe(e,t,n){return t===0?"":B0(e,t,n)}function WDe(e,t,n){var r=n.biff>8?4:2,i=e.read_shift(r),a=e.read_shift(r,"i"),s=e.read_shift(r,"i");return[i,a,s]}function yZ(e){var t=e.read_shift(2),n=MO(e);return[t,n]}function YDe(e,t,n){e.l+=4,t-=4;var r=e.l+t,i=dx(e,t,n),a=e.read_shift(2);if(r-=e.l,a!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+a);return e.l+=a,i}function eS(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2);return{s:{c:r,r:t},e:{c:i,r:n}}}function vZ(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(1),i=e.read_shift(1);return{s:{c:r,r:t},e:{c:i,r:n}}}var KDe=vZ;function _Z(e){e.l+=4;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2);return e.l+=12,[n,t,r]}function QDe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function ZDe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Zr(e){e.l+=2,e.l+=e.read_shift(2)}var JDe={0:Zr,4:Zr,5:Zr,6:Zr,7:ZDe,8:Zr,9:Zr,10:Zr,11:Zr,12:Zr,13:QDe,14:Zr,15:Zr,16:Zr,17:Zr,18:Zr,19:Zr,20:Zr,21:_Z};function e5e(e,t){for(var n=e.l+t,r=[];e.l<n;){var i=e.read_shift(2);e.l-=2;try{r.push(JDe[i](e,n-e.l))}catch{return e.l=n,r}}return e.l!=n&&(e.l=n),r}function Av(e,t){var n={BIFFVer:0,dt:0};switch(n.BIFFVer=e.read_shift(2),t-=2,t>=2&&(n.dt=e.read_shift(2),e.l-=2),n.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+n.BIFFVer)}return e.read_shift(t),n}function t5e(e,t){return t===0||e.read_shift(2),1200}function n5e(e,t,n){if(n.enc)return e.l+=t,"";var r=e.l,i=B0(e,0,n);return e.read_shift(t+r-e.l),i}function r5e(e,t,n){var r=n&&n.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function i5e(e,t,n){var r=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=dx(e,0,n);return s.length===0&&(s="Sheet1"),{pos:r,hs:i,dt:a,name:s}}function a5e(e,t){for(var n=e.l+t,r=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<n;++s)a.push(PDe(e));return a.Count=r,a.Unique=i,a}function s5e(e,t){var n={};return n.dsst=e.read_shift(2),e.l+=t-2,n}function o5e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var n=e.read_shift(2);e.l+=4;var r=e.read_shift(1);return e.l+=3,r&7&&(t.level=r&7),r&32&&(t.hidden=!0),r&64&&(t.hpt=n/20),t}function l5e(e){var t=VDe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var n=e.read_shift(4);return n!==0}function u5e(e){return e.read_shift(2),e.read_shift(4)}function nB(e,t,n){var r=0;n&&n.biff==2||(r=e.read_shift(2));var i=e.read_shift(2);n&&n.biff==2&&(r=1-(i>>15),i&=32767);var a={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[a,i]}function c5e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),u=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,n],Dim:[r,i],Flags:a,CurTab:s,FirstTab:o,Selected:u,TabRatio:c}}function f5e(e,t,n){if(n&&n.biff>=2&&n.biff<5)return{};var r=e.read_shift(2);return{RTL:r&64}}function h5e(){}function d5e(e,t,n){var r={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(n&&n.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return r.name=dx(e,0,n),r}function g5e(e){var t=el(e);return t.isst=e.read_shift(4),t}function p5e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=e.l+t,i=el(e);n.biff==2&&e.l++;var a=gx(e,r-e.l,n);return i.val=a,i}function m5e(e,t,n){var r=e.read_shift(2),i=B0(e,0,n);return[r,i]}var x5e=B0;function rB(e,t,n){var r=e.l+t,i=n.biff==8||!n.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),u=e.read_shift(2);return e.l=r,{s:{r:a,c:o},e:{r:s,c:u}}}function y5e(e){var t=e.read_shift(2),n=e.read_shift(2),r=yZ(e);return{r:t,c:n,ixfe:r[0],rknum:r[1]}}function v5e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(yZ(e));if(e.l!==n)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:s,rkrec:a}}function _5e(e,t){for(var n=e.l+t-2,r=e.read_shift(2),i=e.read_shift(2),a=[];e.l<n;)a.push(e.read_shift(2));if(e.l!==n)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:s,ixfe:a}}function b5e(e,t,n,r){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),u=e.read_shift(2);return i.patternType=yDe[o>>26],r.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=u&127,i.icvBack=u>>7&127,i.fsxButton=u>>14&1),i}function E5e(e,t,n){var r={};return r.ifnt=e.read_shift(2),r.numFmtId=e.read_shift(2),r.flags=e.read_shift(2),r.fStyle=r.flags>>2&1,t-=6,r.data=b5e(e,t,r.fStyle,n),r}function S5e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function iB(e,t,n){var r=el(e);(n.biff==2||t==9)&&++e.l;var i=BDe(e);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function w5e(e,t,n){n.biffguess&&n.biff==2&&(n.biff=5);var r=el(e),i=ii(e);return r.val=i,r}var aB=XDe;function A5e(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(n.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=p0(e,a),o=[];r>e.l;)o.push(gx(e));return[a,i,s,o]}function sB(e,t,n){var r=e.read_shift(2),i,a={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return n.sbcch===14849&&(i=YDe(e,t-2,n)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var T5e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function oB(e,t,n){var r=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(n&&n.biff==2?1:2),u=0;(!n||n.biff>=5)&&(n.biff!=5&&(e.l+=2),u=e.read_shift(2),n.biff==5&&(e.l+=2),e.l+=4);var c=p0(e,s,n);i&32&&(c=T5e[c.charCodeAt(0)]);var h=r-e.l;n&&n.biff==2&&--h;var d=r==e.l||o===0||!(h>0)?[]:oRe(e,h,n,o);return{chKey:a,Name:c,itab:u,rgce:d}}function bZ(e,t,n){if(n.biff<8)return k5e(e,t,n);for(var r=[],i=e.l+t,a=e.read_shift(n.biff>8?4:2);a--!==0;)r.push(WDe(e,n.biff>8?12:6,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}function k5e(e,t,n){e[e.l+1]==3&&e[e.l]++;var r=dx(e,t,n);return r.charCodeAt(0)==3?r.slice(1):r}function C5e(e,t,n){if(n.biff<8){e.l+=t;return}var r=e.read_shift(2),i=e.read_shift(2),a=p0(e,r,n),s=p0(e,i,n);return[a,s]}function F5e(e,t,n){var r=vZ(e);e.l++;var i=e.read_shift(1);return t-=8,[lRe(e,t,n),i,r]}function lB(e,t,n){var r=KDe(e);switch(n.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[r,aRe(e,t,n)]}function D5e(e){var t=e.read_shift(4)!==0,n=e.read_shift(4)!==0,r=e.read_shift(4);return[t,n,r]}function O5e(e,t,n){if(!(n.biff<8)){var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=B0(e,0,n);return n.biff<8&&e.read_shift(1),[{r,c:i},o,s,a]}}function M5e(e,t,n){return O5e(e,t,n)}function R5e(e,t){for(var n=[],r=e.read_shift(2);r--;)n.push(eS(e));return n}function N5e(e,t,n){if(n&&n.biff<8)return L5e(e,t,n);var r=_Z(e),i=e5e(e,t-22,r[1]);return{cmo:r,ft:i}}var $5e={8:function(e,t){var n=e.l+t;e.l+=10;var r=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=n,{fmt:r}}};function L5e(e,t,n){e.l+=4;var r=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push(($5e[r]||pi)(e,t,n)),{cmo:[i,r,a],ft:s}}function I5e(e,t,n){var r=e.l,i="";try{e.l+=4;var a=(n.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=UDe(e,6,n);var o=e.read_shift(2);e.read_shift(2),rr(e,2);var u=e.read_shift(2);e.l+=u;for(var c=1;c<e.lens.length-1;++c){if(e.l-r!=e.lens[c])throw new Error("TxO: bad continue record");var h=e[e.l],d=p0(e,e.lens[c+1]-e.lens[c]-1);if(i+=d,i.length>=(h?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=r+t,{t:i}}catch{return e.l=r+t,{t:i}}}function z5e(e,t){var n=eS(e);e.l+=16;var r=GDe(e,t-24);return[n,r]}function B5e(e,t){e.read_shift(2);var n=eS(e),r=e.read_shift((t-10)/2,"dbcs-cont");return r=r.replace($i,""),[n,r]}function P5e(e){var t=[0,0],n;return n=e.read_shift(2),t[0]=Qz[n]||n,n=e.read_shift(2),t[1]=Qz[n]||n,t}function U5e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(xZ(e));return n}function H5e(e){for(var t=e.read_shift(2),n=[];t-- >0;)n.push(xZ(e));return n}function j5e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function EZ(e,t,n){if(!n.cellStyles)return pi(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),a=e.read_shift(r),s=e.read_shift(r),o=e.read_shift(r),u=e.read_shift(2);r==2&&(e.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:u};return(n.biff>=5||!n.biff)&&(c.level=u>>8&7),c}function q5e(e,t){var n={};return t<32||(e.l+=16,n.header=ii(e),n.footer=ii(e),e.l+=2),n}function G5e(e,t,n){var r={area:!1};if(n.biff!=5)return e.l+=t,r;var i=e.read_shift(1);return e.l+=3,i&16&&(r.area=!0),r}var V5e=el,X5e=pZ,W5e=gx;function Y5e(e){var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i={fmt:t,env:n,len:r,data:e.slice(e.l,e.l+r)};return e.l+=r,i}function K5e(e,t,n){n.biffguess&&n.biff==5&&(n.biff=2);var r=el(e);++e.l;var i=B0(e,t-7,n);return r.t="str",r.val=i,r}function Q5e(e){var t=el(e);++e.l;var n=ii(e);return t.t="n",t.val=n,t}function Z5e(e){var t=el(e);++e.l;var n=e.read_shift(2);return t.t="n",t.val=n,t}function J5e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function eOe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function tOe(e,t,n){var r=e.l+t,i=el(e),a=e.read_shift(2),s=p0(e,a,n);return e.l=r,i.t="str",i.val=s,i}var nOe=[2,3,48,49,131,139,140,245],uB=(function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=SO({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(o,u){var c=[],h=Sc(1);switch(u.type){case"base64":h=Rs(Na(o));break;case"binary":h=Rs(o);break;case"buffer":case"array":h=o;break}Ir(h,0);var d=h.read_shift(1),p=!!(d&136),m=!1,y=!1;switch(d){case 2:break;case 3:break;case 48:m=!0,p=!0;break;case 49:m=!0,p=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var v=0,_=521;d==2&&(v=h.read_shift(2)),h.l+=3,d!=2&&(v=h.read_shift(4)),v>1048576&&(v=1e6),d!=2&&(_=h.read_shift(2));var E=h.read_shift(2),w=u.codepage||1252;d!=2&&(h.l+=16,h.read_shift(1),h[h.l]!==0&&(w=e[h[h.l]]),h.l+=1,h.l+=2),y&&(h.l+=36);for(var A=[],k={},D=Math.min(h.length,d==2?521:_-10-(m?264:0)),O=y?32:11;h.l<D&&h[h.l]!=13;)switch(k={},k.name=fm.utils.decode(w,h.slice(h.l,h.l+O)).replace(/[\u0000\r\n].*$/g,""),h.l+=O,k.type=String.fromCharCode(h.read_shift(1)),d!=2&&!y&&(k.offset=h.read_shift(4)),k.len=h.read_shift(1),d==2&&(k.offset=h.read_shift(2)),k.dec=h.read_shift(1),k.name.length&&A.push(k),d!=2&&(h.l+=y?13:14),k.type){case"B":(!m||k.len!=8)&&u.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":u.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(h[h.l]!==13&&(h.l=_-1),h.read_shift(1)!==13)throw new Error("DBF Terminator not found "+h.l+" "+h[h.l]);h.l=_;var T=0,F=0;for(c[0]=[],F=0;F!=A.length;++F)c[0][F]=A[F].name;for(;v-- >0;){if(h[h.l]===42){h.l+=E;continue}for(++h.l,c[++T]=[],F=0,F=0;F!=A.length;++F){var C=h.slice(h.l,h.l+A[F].len);h.l+=A[F].len,Ir(C,0);var N=fm.utils.decode(w,C);switch(A[F].type){case"C":N.trim().length&&(c[T][F]=N.replace(/\s+$/,""));break;case"D":N.length===8?c[T][F]=new Date(+N.slice(0,4),+N.slice(4,6)-1,+N.slice(6,8)):c[T][F]=N;break;case"F":c[T][F]=parseFloat(N.trim());break;case"+":case"I":c[T][F]=y?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(N.trim().toUpperCase()){case"Y":case"T":c[T][F]=!0;break;case"N":case"F":c[T][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+N+"|")}break;case"M":if(!p)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));c[T][F]="##MEMO##"+(y?parseInt(N.trim(),10):C.read_shift(4));break;case"N":N=N.replace(/\u0000/g,"").trim(),N&&N!="."&&(c[T][F]=+N||0);break;case"@":c[T][F]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":c[T][F]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":c[T][F]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][F]=-C.read_shift(-8,"f");break;case"B":if(m&&A[F].len==8){c[T][F]=C.read_shift(8,"f");break}case"G":case"P":C.l+=A[F].len;break;case"0":if(A[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[F].type)}}}if(d!=2&&h.l<h.length&&h[h.l++]!=26)throw new Error("DBF EOF Marker missing "+(h.l-1)+" of "+h.length+" "+h[h.l-1].toString(16));return u&&u.sheetRows&&(c=c.slice(0,u.sheetRows)),u.DBF=A,c}function r(o,u){var c=u||{};c.dateNF||(c.dateNF="yyyymmdd");var h=vg(n(o,c),c);return h["!cols"]=c.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete c.DBF,h}function i(o,u){try{return Pc(r(o,u),u)}catch(c){if(u&&u.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,u){var c=u||{};if(+c.codepage>=0&&zs(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var h=N4(),d=q4(o,{header:1,raw:!0,cellDates:!0}),p=d[0],m=d.slice(1),y=o["!cols"]||[],v=0,_=0,E=0,w=1;for(v=0;v<p.length;++v){if(((y[v]||{}).DBF||{}).name){p[v]=y[v].DBF.name,++E;continue}if(p[v]!=null){if(++E,typeof p[v]=="number"&&(p[v]=p[v].toString(10)),typeof p[v]!="string")throw new Error("DBF Invalid column name "+p[v]+" |"+typeof p[v]+"|");if(p.indexOf(p[v])!==v){for(_=0;_<1024;++_)if(p.indexOf(p[v]+"_"+_)==-1){p[v]+="_"+_;break}}}}var A=Hn(o["!ref"]),k=[],D=[],O=[];for(v=0;v<=A.e.c-A.s.c;++v){var T="",F="",C=0,N=[];for(_=0;_<m.length;++_)m[_][v]!=null&&N.push(m[_][v]);if(N.length==0||p[v]==null){k[v]="?";continue}for(_=0;_<N.length;++_){switch(typeof N[_]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=N[_]instanceof Date?"D":"C";break;default:F="C"}C=Math.max(C,String(N[_]).length),T=T&&T!=F?"C":F}C>250&&(C=250),F=((y[v]||{}).DBF||{}).type,F=="C"&&y[v].DBF.len>C&&(C=y[v].DBF.len),T=="B"&&F=="N"&&(T="N",O[v]=y[v].DBF.dec,C=y[v].DBF.len),D[v]=T=="C"||F=="N"?C:a[T]||0,w+=D[v],k[v]=T}var L=h.next(32);for(L.write_shift(4,318902576),L.write_shift(4,m.length),L.write_shift(2,296+32*E),L.write_shift(2,w),v=0;v<4;++v)L.write_shift(4,0);for(L.write_shift(4,0|(+t[bQ]||3)<<8),v=0,_=0;v<p.length;++v)if(p[v]!=null){var I=h.next(32),Q=(p[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,Q,"sbcs"),I.write_shift(1,k[v]=="?"?"C":k[v],"sbcs"),I.write_shift(4,_),I.write_shift(1,D[v]||a[k[v]]||0),I.write_shift(1,O[v]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),_+=D[v]||a[k[v]]||0}var J=h.next(264);for(J.write_shift(4,13),v=0;v<65;++v)J.write_shift(4,0);for(v=0;v<m.length;++v){var H=h.next(w);for(H.write_shift(1,0),_=0;_<p.length;++_)if(p[_]!=null)switch(k[_]){case"L":H.write_shift(1,m[v][_]==null?63:m[v][_]?84:70);break;case"B":H.write_shift(8,m[v][_]||0,"f");break;case"N":var z="0";for(typeof m[v][_]=="number"&&(z=m[v][_].toFixed(O[_]||0)),E=0;E<D[_]-z.length;++E)H.write_shift(1,32);H.write_shift(1,z,"sbcs");break;case"D":m[v][_]?(H.write_shift(4,("0000"+m[v][_].getFullYear()).slice(-4),"sbcs"),H.write_shift(2,("00"+(m[v][_].getMonth()+1)).slice(-2),"sbcs"),H.write_shift(2,("00"+m[v][_].getDate()).slice(-2),"sbcs")):H.write_shift(8,"00000000","sbcs");break;case"C":var X=String(m[v][_]!=null?m[v][_]:"").slice(0,D[_]);for(H.write_shift(1,X,"sbcs"),E=0;E<D[_]-X.length;++E)H.write_shift(1,32);break}}return h.next(1).write_shift(1,26),h.end()}return{to_workbook:i,to_sheet:r,from_sheet:s}})(),rOe=(function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Bo(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(p,m){var y=e[m];return typeof y=="number"?Az(y):y},r=function(p,m,y){var v=m.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?p:Az(v)};e["|"]=254;function i(p,m){switch(m.type){case"base64":return a(Na(p),m);case"binary":return a(p,m);case"buffer":return a(Mt&&Buffer.isBuffer(p)?p.toString("binary"):$0(p),m);case"array":return a(g0(p),m)}throw new Error("Unrecognized type "+m.type)}function a(p,m){var y=p.split(/[\n\r]+/),v=-1,_=-1,E=0,w=0,A=[],k=[],D=null,O={},T=[],F=[],C=[],N=0,L;for(+m.codepage>=0&&zs(+m.codepage);E!==y.length;++E){N=0;var I=y[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),Q=I.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),J=Q[0],H;if(I.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":Q[1].charAt(0)=="P"&&k.push(I.slice(3).replace(/;;/g,";"));break;case"C":var z=!1,X=!1,re=!1,j=!1,le=-1,q=-1;for(w=1;w<Q.length;++w)switch(Q[w].charAt(0)){case"A":break;case"X":_=parseInt(Q[w].slice(1))-1,X=!0;break;case"Y":for(v=parseInt(Q[w].slice(1))-1,X||(_=0),L=A.length;L<=v;++L)A[L]=[];break;case"K":H=Q[w].slice(1),H.charAt(0)==='"'?H=H.slice(1,H.length-1):H==="TRUE"?H=!0:H==="FALSE"?H=!1:isNaN(Hs(H))?isNaN(Hd(H).getDate())||(H=kr(H)):(H=Hs(H),D!==null&&xg(D)&&(H=JE(H))),z=!0;break;case"E":j=!0;var R=ad(Q[w].slice(1),{r:v,c:_});A[v][_]=[A[v][_],R];break;case"S":re=!0,A[v][_]=[A[v][_],"S5S"];break;case"G":break;case"R":le=parseInt(Q[w].slice(1))-1;break;case"C":q=parseInt(Q[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}if(z&&(A[v][_]&&A[v][_].length==2?A[v][_][0]=H:A[v][_]=H,D=null),re){if(j)throw new Error("SYLK shared formula cannot have own formula");var G=le>-1&&A[le][q];if(!G||!G[1])throw new Error("SYLK shared formula cannot find base");A[v][_][1]=MZ(G[1],{r:v-le,c:_-q})}break;case"F":var K=0;for(w=1;w<Q.length;++w)switch(Q[w].charAt(0)){case"X":_=parseInt(Q[w].slice(1))-1,++K;break;case"Y":for(v=parseInt(Q[w].slice(1))-1,L=A.length;L<=v;++L)A[L]=[];break;case"M":N=parseInt(Q[w].slice(1))/20;break;case"F":break;case"G":break;case"P":D=k[parseInt(Q[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=Q[w].slice(1).split(" "),L=parseInt(C[0],10);L<=parseInt(C[1],10);++L)N=parseInt(C[2],10),F[L-1]=N===0?{hidden:!0}:{wch:N},jd(F[L-1]);break;case"C":_=parseInt(Q[w].slice(1))-1,F[_]||(F[_]={});break;case"R":v=parseInt(Q[w].slice(1))-1,T[v]||(T[v]={}),N>0?(T[v].hpt=N,T[v].hpx=xm(N)):N===0&&(T[v].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}K<1&&(D=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}}return T.length>0&&(O["!rows"]=T),F.length>0&&(O["!cols"]=F),m&&m.sheetRows&&(A=A.slice(0,m.sheetRows)),[A,O]}function s(p,m){var y=i(p,m),v=y[0],_=y[1],E=vg(v,m);return Bo(_).forEach(function(w){E[w]=_[w]}),E}function o(p,m){return Pc(s(p,m),m)}function u(p,m,y,v){var _="C;Y"+(y+1)+";X"+(v+1)+";K";switch(p.t){case"n":_+=p.v||0,p.f&&!p.F&&(_+=";E"+j8e(p.f,{r:y,c:v}));break;case"b":_+=p.v?"TRUE":"FALSE";break;case"e":_+=p.w||p.v;break;case"d":_+='"'+(p.w||p.v)+'"';break;case"s":_+='"'+p.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return _}function c(p,m){m.forEach(function(y,v){var _="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?_+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=j_(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=q_(y.wpx)),typeof y.wch=="number"&&(_+=Math.round(y.wch))),_.charAt(_.length-1)!=" "&&p.push(_)})}function h(p,m){m.forEach(function(y,v){var _="F;";y.hidden?_+="M0;":y.hpt?_+="M"+20*y.hpt+";":y.hpx&&(_+="M"+20*FZ(y.hpx)+";"),_.length>2&&p.push(_+"R"+(v+1))})}function d(p,m){var y=["ID;PWXL;N;E"],v=[],_=Hn(p["!ref"]),E,w=Array.isArray(p),A=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),p["!cols"]&&c(y,p["!cols"]),p["!rows"]&&h(y,p["!rows"]),y.push("B;Y"+(_.e.r-_.s.r+1)+";X"+(_.e.c-_.s.c+1)+";D"+[_.s.c,_.s.r,_.e.c,_.e.r].join(" "));for(var k=_.s.r;k<=_.e.r;++k)for(var D=_.s.c;D<=_.e.c;++D){var O=mt({r:k,c:D});E=w?(p[k]||[])[D]:p[O],!(!E||E.v==null&&(!E.f||E.F))&&v.push(u(E,p,k,D))}return y.join(A)+A+v.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:s,from_sheet:d}})(),iOe=(function(){function e(a,s){switch(s.type){case"base64":return t(Na(a),s);case"binary":return t(a,s);case"buffer":return t(Mt&&Buffer.isBuffer(a)?a.toString("binary"):$0(a),s);case"array":return t(g0(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),u=-1,c=-1,h=0,d=[];h!==o.length;++h){if(o[h].trim()==="BOT"){d[++u]=[],c=0;continue}if(!(u<0)){var p=o[h].trim().split(","),m=p[0],y=p[1];++h;for(var v=o[h]||"";(v.match(/["]/g)||[]).length&1&&h<o.length-1;)v+=`
`+o[++h];switch(v=v.trim(),+m){case-1:if(v==="BOT"){d[++u]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?d[u][c]=!0:v==="FALSE"?d[u][c]=!1:isNaN(Hs(y))?isNaN(Hd(y).getDate())?d[u][c]=y:d[u][c]=kr(y):d[u][c]=Hs(y),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),d[u][c++]=v!==""?v:null;break}if(v==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function n(a,s){return vg(e(a,s),s)}function r(a,s){return Pc(n(a,s),s)}var i=(function(){var a=function(u,c,h,d,p){u.push(c),u.push(h+","+d),u.push('"'+p.replace(/"/g,'""')+'"')},s=function(u,c,h,d){u.push(c+","+h),u.push(c==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(u){var c=[],h=Hn(u["!ref"]),d,p=Array.isArray(u);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,h.e.r-h.s.r+1,""),a(c,"TUPLES",0,h.e.c-h.s.c+1,""),a(c,"DATA",0,0,"");for(var m=h.s.r;m<=h.e.r;++m){s(c,-1,0,"BOT");for(var y=h.s.c;y<=h.e.c;++y){var v=mt({r:m,c:y});if(d=p?(u[m]||[])[y]:u[v],!d){s(c,1,0,"");continue}switch(d.t){case"n":var _=d.w;!_&&d.v!=null&&(_=d.v),_==null?d.f&&!d.F?s(c,1,0,"="+d.f):s(c,1,0,""):s(c,0,_,"V");break;case"b":s(c,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=ds(d.z||yt[14],Bi(kr(d.v)))),s(c,0,d.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var E=`\r
`,w=c.join(E);return w}})();return{to_workbook:r,to_sheet:n,from_sheet:i}})(),aOe=(function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(d,p){for(var m=d.split(`
`),y=-1,v=-1,_=0,E=[];_!==m.length;++_){var w=m[_].trim().split(":");if(w[0]==="cell"){var A=Mi(w[1]);if(E.length<=A.r)for(y=E.length;y<=A.r;++y)E[y]||(E[y]=[]);switch(y=A.r,v=A.c,w[2]){case"t":E[y][v]=e(w[3]);break;case"v":E[y][v]=+w[3];break;case"vtf":var k=w[w.length-1];case"vtc":switch(w[3]){case"nl":E[y][v]=!!+w[4];break;default:E[y][v]=+w[4];break}w[2]=="vtf"&&(E[y][v]=[E[y][v],k])}}}return p&&p.sheetRows&&(E=E.slice(0,p.sheetRows)),E}function r(d,p){return vg(n(d,p),p)}function i(d,p){return Pc(r(d,p),p)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),u="--SocialCalcSpreadsheetControlSave--";function c(d){if(!d||!d["!ref"])return"";for(var p=[],m=[],y,v="",_=yg(d["!ref"]),E=Array.isArray(d),w=_.s.r;w<=_.e.r;++w)for(var A=_.s.c;A<=_.e.c;++A)if(v=mt({r:w,c:A}),y=E?(d[w]||[])[A]:d[v],!(!y||y.v==null||y.t==="z")){switch(m=["cell",v,"t"],y.t){case"s":case"str":m.push(t(y.v));break;case"n":y.f?(m[2]="vtf",m[3]="n",m[4]=y.v,m[5]=t(y.f)):(m[2]="v",m[3]=y.v);break;case"b":m[2]="vt"+(y.f?"f":"c"),m[3]="nl",m[4]=y.v?"1":"0",m[5]=t(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var k=Bi(kr(y.v));m[2]="vtc",m[3]="nd",m[4]=""+k,m[5]=y.w||ds(y.z||yt[14],k);break;case"e":continue}p.push(m.join(":"))}return p.push("sheet:c:"+(_.e.c-_.s.c+1)+":r:"+(_.e.r-_.s.r+1)+":tvf:1"),p.push("valueformat:1:text-wiki"),p.join(`
`)}function h(d){return[a,s,o,s,c(d),u].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:h}})(),pm=(function(){function e(h,d,p,m,y){y.raw?d[p][m]=h:h===""||(h==="TRUE"?d[p][m]=!0:h==="FALSE"?d[p][m]=!1:isNaN(Hs(h))?isNaN(Hd(h).getDate())?d[p][m]=h:d[p][m]=kr(h):d[p][m]=Hs(h))}function t(h,d){var p=d||{},m=[];if(!h||h.length===0)return m;for(var y=h.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var _=10,E=0,w=0;w<=v;++w)E=y[w].indexOf(" "),E==-1?E=y[w].length:E++,_=Math.max(_,E);for(w=0;w<=v;++w){m[w]=[];var A=0;for(e(y[w].slice(0,_).trim(),m,w,A,p),A=1;A<=(y[w].length-_)/10+1;++A)e(y[w].slice(_+(A-1)*10,_+A*10).trim(),m,w,A,p)}return p.sheetRows&&(m=m.slice(0,p.sheetRows)),m}var n={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(h){for(var d={},p=!1,m=0,y=0;m<h.length;++m)(y=h.charCodeAt(m))==34?p=!p:!p&&y in n&&(d[y]=(d[y]||0)+1);y=[];for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m]);if(!y.length){d=r;for(m in d)Object.prototype.hasOwnProperty.call(d,m)&&y.push([d[m],m])}return y.sort(function(v,_){return v[0]-_[0]||r[v[1]]-r[_[1]]}),n[y.pop()[1]]||44}function a(h,d){var p=d||{},m="",y=p.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};h.slice(0,4)=="sep="?h.charCodeAt(5)==13&&h.charCodeAt(6)==10?(m=h.charAt(4),h=h.slice(7)):h.charCodeAt(5)==13||h.charCodeAt(5)==10?(m=h.charAt(4),h=h.slice(6)):m=i(h.slice(0,1024)):p&&p.FS?m=p.FS:m=i(h.slice(0,1024));var _=0,E=0,w=0,A=0,k=0,D=m.charCodeAt(0),O=!1,T=0,F=h.charCodeAt(0);h=h.replace(/\r\n/mg,`
`);var C=p.dateNF!=null?m6e(p.dateNF):null;function N(){var L=h.slice(A,k),I={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)I.t="z";else if(p.raw)I.t="s",I.v=L;else if(L.trim().length===0)I.t="s",I.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(I.t="s",I.v=L.slice(2,-1).replace(/""/g,'"')):G8e(L)?(I.t="n",I.f=L.slice(1)):(I.t="s",I.v=L);else if(L=="TRUE")I.t="b",I.v=!0;else if(L=="FALSE")I.t="b",I.v=!1;else if(!isNaN(w=Hs(L)))I.t="n",p.cellText!==!1&&(I.w=L),I.v=w;else if(!isNaN(Hd(L).getDate())||C&&L.match(C)){I.z=p.dateNF||yt[14];var Q=0;C&&L.match(C)&&(L=x6e(L,p.dateNF,L.match(C)||[]),Q=1),p.cellDates?(I.t="d",I.v=kr(L,Q)):(I.t="n",I.v=Bi(kr(L,Q))),p.cellText!==!1&&(I.w=ds(I.z,I.v instanceof Date?Bi(I.v):I.v)),p.cellNF||delete I.z}else I.t="s",I.v=L;if(I.t=="z"||(p.dense?(y[_]||(y[_]=[]),y[_][E]=I):y[mt({c:E,r:_})]=I),A=k+1,F=h.charCodeAt(A),v.e.c<E&&(v.e.c=E),v.e.r<_&&(v.e.r=_),T==D)++E;else if(E=0,++_,p.sheetRows&&p.sheetRows<=_)return!0}e:for(;k<h.length;++k)switch(T=h.charCodeAt(k)){case 34:F===34&&(O=!O);break;case D:case 10:case 13:if(!O&&N())break e;break}return k-A>0&&N(),y["!ref"]=zt(v),y}function s(h,d){return!(d&&d.PRN)||d.FS||h.slice(0,4)=="sep="||h.indexOf("	")>=0||h.indexOf(",")>=0||h.indexOf(";")>=0?a(h,d):vg(t(h,d),d)}function o(h,d){var p="",m=d.type=="string"?[0,0,0,0]:HO(h,d);switch(d.type){case"base64":p=Na(h);break;case"binary":p=h;break;case"buffer":d.codepage==65001?p=h.toString("utf8"):d.codepage&&typeof fm<"u"||(p=Mt&&Buffer.isBuffer(h)?h.toString("binary"):$0(h));break;case"array":p=g0(h);break;case"string":p=h;break;default:throw new Error("Unrecognized type "+d.type)}return m[0]==239&&m[1]==187&&m[2]==191?p=mn(p.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?p=mn(p):d.type=="binary"&&typeof fm<"u",p.slice(0,19)=="socialcalc:version:"?aOe.to_sheet(d.type=="string"?p:mn(p),d):s(p,d)}function u(h,d){return Pc(o(h,d),d)}function c(h){for(var d=[],p=Hn(h["!ref"]),m,y=Array.isArray(h),v=p.s.r;v<=p.e.r;++v){for(var _=[],E=p.s.c;E<=p.e.c;++E){var w=mt({r:v,c:E});if(m=y?(h[v]||[])[E]:h[w],!m||m.v==null){_.push("          ");continue}for(var A=(m.w||(Ql(m),m.w)||"").slice(0,10);A.length<10;)A+=" ";_.push(A+(E===0?" ":""))}d.push(_.join(""))}return d.join(`
`)}return{to_workbook:u,to_sheet:o,from_sheet:c}})();function sOe(e,t){var n=t||{},r=!!n.WTF;n.WTF=!0;try{var i=rOe.to_workbook(e,n);return n.WTF=r,i}catch(a){if(n.WTF=r,!a.message.match(/SYLK bad record ID/)&&r)throw a;return pm.to_workbook(e,t)}}var Dp=(function(){function e(R,G,K){if(R){Ir(R,R.l||0);for(var Y=K.Enum||le;R.l<R.length;){var se=R.read_shift(2),ve=Y[se]||Y[65535],_e=R.read_shift(2),ae=R.l+_e,ue=ve.f&&ve.f(R,_e,K);if(R.l=ae,G(ue,ve,se))return}}}function t(R,G){switch(G.type){case"base64":return n(Rs(Na(R)),G);case"binary":return n(Rs(R),G);case"buffer":case"array":return n(R,G)}throw"Unsupported type "+G.type}function n(R,G){if(!R)return R;var K=G||{},Y=K.dense?[]:{},se="Sheet1",ve="",_e=0,ae={},ue=[],ke=[],P={s:{r:0,c:0},e:{r:0,c:0}},Ze=K.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)K.Enum=le,e(R,function(Fe,nt,bt){switch(bt){case 0:K.vers=Fe,Fe>=4096&&(K.qpro=!0);break;case 6:P=Fe;break;case 204:Fe&&(ve=Fe);break;case 222:ve=Fe;break;case 15:case 51:K.qpro||(Fe[1].v=Fe[1].v.slice(1));case 13:case 14:case 16:bt==14&&(Fe[2]&112)==112&&(Fe[2]&15)>1&&(Fe[2]&15)<15&&(Fe[1].z=K.dateNF||yt[14],K.cellDates&&(Fe[1].t="d",Fe[1].v=JE(Fe[1].v))),K.qpro&&Fe[3]>_e&&(Y["!ref"]=zt(P),ae[se]=Y,ue.push(se),Y=K.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},_e=Fe[3],se=ve||"Sheet"+(_e+1),ve="");var $t=K.dense?(Y[Fe[0].r]||[])[Fe[0].c]:Y[mt(Fe[0])];if($t){$t.t=Fe[1].t,$t.v=Fe[1].v,Fe[1].z!=null&&($t.z=Fe[1].z),Fe[1].f!=null&&($t.f=Fe[1].f);break}K.dense?(Y[Fe[0].r]||(Y[Fe[0].r]=[]),Y[Fe[0].r][Fe[0].c]=Fe[1]):Y[mt(Fe[0])]=Fe[1];break}},K);else if(R[2]==26||R[2]==14)K.Enum=q,R[2]==14&&(K.qpro=!0,R.l=0),e(R,function(Fe,nt,bt){switch(bt){case 204:se=Fe;break;case 22:Fe[1].v=Fe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Fe[3]>_e&&(Y["!ref"]=zt(P),ae[se]=Y,ue.push(se),Y=K.dense?[]:{},P={s:{r:0,c:0},e:{r:0,c:0}},_e=Fe[3],se="Sheet"+(_e+1)),Ze>0&&Fe[0].r>=Ze)break;K.dense?(Y[Fe[0].r]||(Y[Fe[0].r]=[]),Y[Fe[0].r][Fe[0].c]=Fe[1]):Y[mt(Fe[0])]=Fe[1],P.e.c<Fe[0].c&&(P.e.c=Fe[0].c),P.e.r<Fe[0].r&&(P.e.r=Fe[0].r);break;case 27:Fe[14e3]&&(ke[Fe[14e3][0]]=Fe[14e3][1]);break;case 1537:ke[Fe[0]]=Fe[1],Fe[0]==_e&&(se=Fe[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(Y["!ref"]=zt(P),ae[ve||se]=Y,ue.push(ve||se),!ke.length)return{SheetNames:ue,Sheets:ae};for(var Le={},He=[],Re=0;Re<ke.length;++Re)ae[ue[Re]]?(He.push(ke[Re]||ue[Re]),Le[ke[Re]]=ae[ke[Re]]||ae[ue[Re]]):(He.push(ke[Re]),Le[ke[Re]]={"!ref":"A1"});return{SheetNames:He,Sheets:Le}}function r(R,G){var K=G||{};if(+K.codepage>=0&&zs(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=N4(),se=Hn(R["!ref"]),ve=Array.isArray(R),_e=[];ws(Y,0,a(1030)),ws(Y,6,u(se));for(var ae=Math.min(se.e.r,8191),ue=se.s.r;ue<=ae;++ue)for(var ke=qr(ue),P=se.s.c;P<=se.e.c;++P){ue===se.s.r&&(_e[P]=hr(P));var Ze=_e[P]+ke,Le=ve?(R[ue]||[])[P]:R[Ze];if(!(!Le||Le.t=="z"))if(Le.t=="n")(Le.v|0)==Le.v&&Le.v>=-32768&&Le.v<=32767?ws(Y,13,m(ue,P,Le.v)):ws(Y,14,v(ue,P,Le.v));else{var He=Ql(Le);ws(Y,15,d(ue,P,He.slice(0,239)))}}return ws(Y,1),Y.end()}function i(R,G){var K=G||{};if(+K.codepage>=0&&zs(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=N4();ws(Y,0,s(R));for(var se=0,ve=0;se<R.SheetNames.length;++se)(R.Sheets[R.SheetNames[se]]||{})["!ref"]&&ws(Y,27,j(R.SheetNames[se],ve++));var _e=0;for(se=0;se<R.SheetNames.length;++se){var ae=R.Sheets[R.SheetNames[se]];if(!(!ae||!ae["!ref"])){for(var ue=Hn(ae["!ref"]),ke=Array.isArray(ae),P=[],Ze=Math.min(ue.e.r,8191),Le=ue.s.r;Le<=Ze;++Le)for(var He=qr(Le),Re=ue.s.c;Re<=ue.e.c;++Re){Le===ue.s.r&&(P[Re]=hr(Re));var Fe=P[Re]+He,nt=ke?(ae[Le]||[])[Re]:ae[Fe];if(!(!nt||nt.t=="z"))if(nt.t=="n")ws(Y,23,N(Le,Re,_e,nt.v));else{var bt=Ql(nt);ws(Y,22,T(Le,Re,_e,bt.slice(0,239)))}}++_e}}return ws(Y,1),Y.end()}function a(R){var G=or(2);return G.write_shift(2,R),G}function s(R){var G=or(26);G.write_shift(2,4096),G.write_shift(2,4),G.write_shift(4,0);for(var K=0,Y=0,se=0,ve=0;ve<R.SheetNames.length;++ve){var _e=R.SheetNames[ve],ae=R.Sheets[_e];if(!(!ae||!ae["!ref"])){++se;var ue=yg(ae["!ref"]);K<ue.e.r&&(K=ue.e.r),Y<ue.e.c&&(Y=ue.e.c)}}return K>8191&&(K=8191),G.write_shift(2,K),G.write_shift(1,se),G.write_shift(1,Y),G.write_shift(2,0),G.write_shift(2,0),G.write_shift(1,1),G.write_shift(1,2),G.write_shift(4,0),G.write_shift(4,0),G}function o(R,G,K){var Y={s:{c:0,r:0},e:{c:0,r:0}};return G==8&&K.qpro?(Y.s.c=R.read_shift(1),R.l++,Y.s.r=R.read_shift(2),Y.e.c=R.read_shift(1),R.l++,Y.e.r=R.read_shift(2),Y):(Y.s.c=R.read_shift(2),Y.s.r=R.read_shift(2),G==12&&K.qpro&&(R.l+=2),Y.e.c=R.read_shift(2),Y.e.r=R.read_shift(2),G==12&&K.qpro&&(R.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function u(R){var G=or(8);return G.write_shift(2,R.s.c),G.write_shift(2,R.s.r),G.write_shift(2,R.e.c),G.write_shift(2,R.e.r),G}function c(R,G,K){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Y[0].c=R.read_shift(1),Y[3]=R.read_shift(1),Y[0].r=R.read_shift(2),R.l+=2):(Y[2]=R.read_shift(1),Y[0].c=R.read_shift(2),Y[0].r=R.read_shift(2)),Y}function h(R,G,K){var Y=R.l+G,se=c(R,G,K);if(se[1].t="s",K.vers==20768){R.l++;var ve=R.read_shift(1);return se[1].v=R.read_shift(ve,"utf8"),se}return K.qpro&&R.l++,se[1].v=R.read_shift(Y-R.l,"cstr"),se}function d(R,G,K){var Y=or(7+K.length);Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,R),Y.write_shift(1,39);for(var se=0;se<Y.length;++se){var ve=K.charCodeAt(se);Y.write_shift(1,ve>=128?95:ve)}return Y.write_shift(1,0),Y}function p(R,G,K){var Y=c(R,G,K);return Y[1].v=R.read_shift(2,"i"),Y}function m(R,G,K){var Y=or(7);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,R),Y.write_shift(2,K,"i"),Y}function y(R,G,K){var Y=c(R,G,K);return Y[1].v=R.read_shift(8,"f"),Y}function v(R,G,K){var Y=or(13);return Y.write_shift(1,255),Y.write_shift(2,G),Y.write_shift(2,R),Y.write_shift(8,K,"f"),Y}function _(R,G,K){var Y=R.l+G,se=c(R,G,K);if(se[1].v=R.read_shift(8,"f"),K.qpro)R.l=Y;else{var ve=R.read_shift(2);k(R.slice(R.l,R.l+ve),se),R.l+=ve}return se}function E(R,G,K){var Y=G&32768;return G&=-32769,G=(Y?R:0)+(G>=8192?G-16384:G),(Y?"":"$")+(K?hr(G):qr(G))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(R,G){Ir(R,0);for(var K=[],Y=0,se="",ve="",_e="",ae="";R.l<R.length;){var ue=R[R.l++];switch(ue){case 0:K.push(R.read_shift(8,"f"));break;case 1:ve=E(G[0].c,R.read_shift(2),!0),se=E(G[0].r,R.read_shift(2),!1),K.push(ve+se);break;case 2:{var ke=E(G[0].c,R.read_shift(2),!0),P=E(G[0].r,R.read_shift(2),!1);ve=E(G[0].c,R.read_shift(2),!0),se=E(G[0].r,R.read_shift(2),!1),K.push(ke+P+":"+ve+se)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(R.read_shift(2));break;case 6:{for(var Ze="";ue=R[R.l++];)Ze+=String.fromCharCode(ue);K.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:ae=K.pop(),_e=K.pop(),K.push(["AND","OR"][ue-20]+"("+_e+","+ae+")");break;default:if(ue<32&&A[ue])ae=K.pop(),_e=K.pop(),K.push(_e+A[ue]+ae);else if(w[ue]){if(Y=w[ue][1],Y==69&&(Y=R[R.l++]),Y>K.length){console.error("WK1 bad formula parse 0x"+ue.toString(16)+":|"+K.join("|")+"|");return}var Le=K.slice(-Y);K.length-=Y,K.push(w[ue][0]+"("+Le.join(",")+")")}else return ue<=7?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=24?console.error("WK1 unsupported op "+ue.toString(16)):ue<=30?console.error("WK1 invalid opcode "+ue.toString(16)):ue<=115?console.error("WK1 unsupported function opcode "+ue.toString(16)):console.error("WK1 unrecognized opcode "+ue.toString(16))}}K.length==1?G[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function D(R){var G=[{c:0,r:0},{t:"n",v:0},0];return G[0].r=R.read_shift(2),G[3]=R[R.l++],G[0].c=R[R.l++],G}function O(R,G){var K=D(R);return K[1].t="s",K[1].v=R.read_shift(G-4,"cstr"),K}function T(R,G,K,Y){var se=or(6+Y.length);se.write_shift(2,R),se.write_shift(1,K),se.write_shift(1,G),se.write_shift(1,39);for(var ve=0;ve<Y.length;++ve){var _e=Y.charCodeAt(ve);se.write_shift(1,_e>=128?95:_e)}return se.write_shift(1,0),se}function F(R,G){var K=D(R);K[1].v=R.read_shift(2);var Y=K[1].v>>1;if(K[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return K[1].v=Y,K}function C(R,G){var K=D(R),Y=R.read_shift(4),se=R.read_shift(4),ve=R.read_shift(2);if(ve==65535)return Y===0&&se===3221225472?(K[1].t="e",K[1].v=15):Y===0&&se===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var _e=ve&32768;return ve=(ve&32767)-16446,K[1].v=(1-_e*2)*(se*Math.pow(2,ve+32)+Y*Math.pow(2,ve)),K}function N(R,G,K,Y){var se=or(14);if(se.write_shift(2,R),se.write_shift(1,K),se.write_shift(1,G),Y==0)return se.write_shift(4,0),se.write_shift(4,0),se.write_shift(2,65535),se;var ve=0,_e=0,ae=0,ue=0;return Y<0&&(ve=1,Y=-Y),_e=Math.log2(Y)|0,Y/=Math.pow(2,_e-31),ue=Y>>>0,(ue&2147483648)==0&&(Y/=2,++_e,ue=Y>>>0),Y-=ue,ue|=2147483648,ue>>>=0,Y*=Math.pow(2,32),ae=Y>>>0,se.write_shift(4,ae),se.write_shift(4,ue),_e+=16383+(ve?32768:0),se.write_shift(2,_e),se}function L(R,G){var K=C(R);return R.l+=G-14,K}function I(R,G){var K=D(R),Y=R.read_shift(4);return K[1].v=Y>>6,K}function Q(R,G){var K=D(R),Y=R.read_shift(8,"f");return K[1].v=Y,K}function J(R,G){var K=Q(R);return R.l+=G-10,K}function H(R,G){return R[R.l+G-1]==0?R.read_shift(G,"cstr"):""}function z(R,G){var K=R[R.l++];K>G-1&&(K=G-1);for(var Y="";Y.length<K;)Y+=String.fromCharCode(R[R.l++]);return Y}function X(R,G,K){if(!(!K.qpro||G<21)){var Y=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var se=R.read_shift(G-21,"cstr");return[Y,se]}}function re(R,G){for(var K={},Y=R.l+G;R.l<Y;){var se=R.read_shift(2);if(se==14e3){for(K[se]=[0,""],K[se][0]=R.read_shift(2);R[R.l];)K[se][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return K}function j(R,G){var K=or(5+R.length);K.write_shift(2,14e3),K.write_shift(2,G);for(var Y=0;Y<R.length;++Y){var se=R.charCodeAt(Y);K[K.l++]=se>127?95:se}return K[K.l++]=0,K}var le={0:{n:"BOF",f:rr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:p},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:h},16:{n:"FORMULA",f:_},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:h},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:H},222:{n:"SHEETNAMELP",f:z},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:re},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:Q},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:H},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:X},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:t}})();function oOe(e){var t={},n=e.match(mi),r=0,i=!1;if(n)for(;r!=n.length;++r){var a=ct(n[r]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=yO[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var lOe=(function(){var e=dm("t"),t=dm("rPr");function n(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Bt(s[1])},u=a.match(t);return u&&(o.s=oOe(u[1])),o}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(r,"").split(i).map(n).filter(function(o){return o.v})}})(),uOe=(function(){var t=/(\r\n|\n)/g;function n(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var u=i.valign||"";return u=="superscript"||u=="super"?u="sup":u=="subscript"&&(u="sub"),u!=""&&(a.push("<"+u+">"),s.push("</"+u+">")),s.push("</span>"),i}function r(i){var a=[[],i.v,[]];return i.v?(i.s&&n(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(r).join("")}})(),cOe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,fOe=/<(?:\w+:)?r>/,hOe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function $O(e,t){var n=t?t.cellHTML:!0,r={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Bt(mn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=mn(e),n&&(r.h=AO(r.t))):e.match(fOe)&&(r.r=mn(e),r.t=Bt(mn((e.replace(hOe,"").match(cOe)||[]).join("").replace(mi,""))),n&&(r.h=uOe(lOe(r.r)))),r):{t:""}}var dOe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,gOe=/<(?:\w+:)?(?:si|sstItem)>/g,pOe=/<\/(?:\w+:)?(?:si|sstItem)>/;function mOe(e,t){var n=[],r="";if(!e)return n;var i=e.match(dOe);if(i){r=i[2].replace(gOe,"").split(pOe);for(var a=0;a!=r.length;++a){var s=$O(r[a].trim(),t);s!=null&&(n[n.length]=s)}i=ct(i[1]),n.Count=i.count,n.Unique=i.uniqueCount}return n}function xOe(e){return[e.read_shift(4),e.read_shift(4)]}function yOe(e,t){var n=[],r=!1;return ou(e,function(a,s,o){switch(o){case 159:n.Count=a[0],n.Unique=a[1];break;case 19:n.push(a);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(s.T,!r||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function SZ(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function ql(e,t){var n={};return n.Major=e.read_shift(2),n.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),n}function vOe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ql(e,4),t.U=ql(e,4),t.W=ql(e,4),t}function _Oe(e){for(var t=e.read_shift(4),n=e.l+t-4,r={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(r.name=e.read_shift(0,"lpp4"),r.comps=a,e.l!=n)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+n);return r}function bOe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(_Oe(e));return t}function EOe(e){var t=[];e.l+=4;for(var n=e.read_shift(4);n-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function SOe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ql(e,4),t.U=ql(e,4),t.W=ql(e,4),t}function wOe(e){var t=SOe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function wZ(e,t){var n=e.l+t,r={};r.Flags=e.read_shift(4)&63,e.l+=4,r.AlgID=e.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=e.read_shift(4),r.KeySize=e.read_shift(4),r.ProviderType=e.read_shift(4),e.l+=8,r.CSPName=e.read_shift(n-e.l>>1,"utf16le"),e.l=n,r}function AZ(e,t){var n={},r=e.l+t;return e.l+=4,n.Salt=e.slice(e.l,e.l+16),e.l+=16,n.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),n.VerifierHash=e.slice(e.l,r),e.l=r,n}function AOe(e){var t=ql(e);switch(t.Minor){case 2:return[t.Minor,TOe(e)];case 3:return[t.Minor,kOe()];case 4:return[t.Minor,COe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function TOe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var n=e.read_shift(4),r=wZ(e,n),i=AZ(e,e.length-e.l);return{t:"Std",h:r,v:i}}function kOe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function COe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var n=e.read_shift(e.length-e.l,"utf8"),r={};return n.replace(mi,function(a){var s=ct(a);switch(Jo(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){r[o]=s[o]});break;case"<dataIntegrity":r.encryptedHmacKey=s.encryptedHmacKey,r.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(s);break;default:throw s[0]}}),r}function FOe(e,t){var n={},r=n.EncryptionVersionInfo=ql(e,4);if(t-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);n.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,n.EncryptionHeader=wZ(e,i),t-=i,n.EncryptionVerifier=AZ(e,t),n}function DOe(e){var t={},n=t.EncryptionVersionInfo=ql(e,4);if(n.Major!=1||n.Minor!=1)throw"unrecognized version code "+n.Major+" : "+n.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function OOe(e){var t=0,n,r=SZ(e),i=r.length+1,a,s,o,u,c;for(n=Sc(i),n[0]=r.length,a=1;a!=i;++a)n[a]=r[a-1];for(a=i-1;a>=0;--a)s=n[a],o=(t&16384)===0?0:1,u=t<<1&32767,c=o|u,t=c^s;return t^52811}var TZ=(function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],n=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(s){return(s/2|s*128)&255},i=function(s,o){return r(s^o)},a=function(s){for(var o=t[s.length-1],u=104,c=s.length-1;c>=0;--c)for(var h=s[c],d=0;d!=7;++d)h&64&&(o^=n[u]),h*=2,--u;return o};return function(s){for(var o=SZ(s),u=a(o),c=o.length,h=Sc(16),d=0;d!=16;++d)h[d]=0;var p,m,y;for((c&1)===1&&(p=u>>8,h[c]=i(e[0],p),--c,p=u&255,m=o[o.length-1],h[c]=i(m,p));c>0;)--c,p=u>>8,h[c]=i(o[c],p),--c,p=u&255,h[c]=i(o[c],p);for(c=15,y=15-o.length;y>0;)p=u>>8,h[c]=i(e[y],p),--c,--y,p=u&255,h[c]=i(o[c],p),--c,--y;return h}})(),MOe=function(e,t,n,r,i){i||(i=t),r||(r=TZ(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=r[n],s=(s>>5|s<<3)&255,i[a]=s,++n;return[i,n,r]},ROe=function(e){var t=0,n=TZ(e);return function(r){var i=MOe("",r,t,n);return t=i[1],i[0]}};function NOe(e,t,n,r){var i={key:rr(e),verificationBytes:rr(e)};return n.password&&(i.verifier=OOe(n.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=ROe(n.password)),i}function $Oe(e,t,n){var r=n||{};return r.Info=e.read_shift(2),e.l-=2,r.Info===1?r.Data=DOe(e):r.Data=FOe(e,t),r}function LOe(e,t,n){var r={Type:n.biff>=8?e.read_shift(2):0};return r.Type?$Oe(e,t-2,r):NOe(e,n.biff>=8?t:t-2,n,r),r}var IOe=(function(){function e(i,a){switch(a.type){case"base64":return t(Na(i),a);case"binary":return t(i,a);case"buffer":return t(Mt&&Buffer.isBuffer(i)?i.toString("binary"):$0(i),a);case"array":return t(g0(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},u=i.match(/\\trowd.*?\\row\b/g);if(!u.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:u.length-1}};return u.forEach(function(h,d){Array.isArray(o)&&(o[d]=[]);for(var p=/\\\w+\b/g,m=0,y,v=-1;y=p.exec(h);){switch(y[0]){case"\\cell":var _=h.slice(m,p.lastIndex-y[0].length);if(_[0]==" "&&(_=_.slice(1)),++v,_.length){var E={v:_,t:"s"};Array.isArray(o)?o[d][v]=E:o[mt({r:d,c:v})]=E}break}m=p.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=zt(c),o}function n(i,a){return Pc(e(i,a),a)}function r(i){for(var a=["{\\rtf1\\ansi"],s=Hn(i["!ref"]),o,u=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var h=s.s.c;h<=s.e.c;++h)a.push("\\cellx"+(h+1));for(a.push("\\pard\\intbl"),h=s.s.c;h<=s.e.c;++h){var d=mt({r:c,c:h});o=u?(i[c]||[])[h]:i[d],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(Ql(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:n,to_sheet:e,from_sheet:r}})();function zOe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function mm(e){for(var t=0,n=1;t!=3;++t)n=n*256+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}function BOe(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(t,n,r),a=Math.min(t,n,r),s=i-a;if(s===0)return[0,0,t];var o=0,u=0,c=i+a;switch(u=s/(c>1?2-c:c),i){case t:o=((n-r)/s+6)%6;break;case n:o=(r-t)/s+2;break;case r:o=(t-n)/s+4;break}return[o/6,u,c/2]}function POe(e){var t=e[0],n=e[1],r=e[2],i=n*2*(r<.5?r:1-r),a=r-i/2,s=[a,a,a],o=6*t,u;if(n!==0)switch(o|0){case 0:case 6:u=i*o,s[0]+=i,s[1]+=u;break;case 1:u=i*(2-o),s[0]+=u,s[1]+=i;break;case 2:u=i*(o-2),s[1]+=i,s[2]+=u;break;case 3:u=i*(4-o),s[1]+=u,s[2]+=i;break;case 4:u=i*(o-4),s[2]+=i,s[0]+=u;break;case 5:u=i*(6-o),s[2]+=u,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function H_(e,t){if(t===0)return e;var n=BOe(zOe(e));return t<0?n[2]=n[2]*(1+t):n[2]=1-(1-n[2])*(1-t),mm(POe(n))}var kZ=6,UOe=15,HOe=1,Ci=kZ;function j_(e){return Math.floor((e+Math.round(128/Ci)/256)*Ci)}function q_(e){return Math.floor((e-5)/Ci*100+.5)/100}function z4(e){return Math.round((e*Ci+5)/Ci*256)/256}function dk(e){return z4(q_(j_(e)))}function LO(e){var t=Math.abs(e-dk(e)),n=Ci;if(t>.005)for(Ci=HOe;Ci<UOe;++Ci)Math.abs(e-dk(e))<=t&&(t=Math.abs(e-dk(e)),n=Ci);Ci=n}function jd(e){e.width?(e.wpx=j_(e.width),e.wch=q_(e.wpx),e.MDW=Ci):e.wpx?(e.wch=q_(e.wpx),e.width=z4(e.wch),e.MDW=Ci):typeof e.wch=="number"&&(e.width=z4(e.wch),e.wpx=j_(e.width),e.MDW=Ci),e.customWidth&&delete e.customWidth}var jOe=96,CZ=jOe;function FZ(e){return e*96/CZ}function xm(e){return e*CZ/96}var qOe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function GOe(e,t,n,r){t.Borders=[];var i={},a=!1;(e[0].match(mi)||[]).forEach(function(s){var o=ct(s);switch(Jo(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=kn(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=kn(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function VOe(e,t,n,r){t.Fills=[];var i={},a=!1;(e[0].match(mi)||[]).forEach(function(s){var o=ct(s);switch(Jo(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function XOe(e,t,n,r){t.Fonts=[];var i={},a=!1;(e[0].match(mi)||[]).forEach(function(s){var o=ct(s);switch(Jo(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=mn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?kn(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?kn(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?kn(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?kn(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?kn(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?kn(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?kn(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=yO[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=kn(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var u=qf[i.color.index];i.color.index==81&&(u=qf[1]),u||(u=qf[1]),i.color.rgb=u[0].toString(16)+u[1].toString(16)+u[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&n.themeElements&&n.themeElements.clrScheme&&(i.color.rgb=H_(n.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function WOe(e,t,n){t.NumberFmt=[];for(var r=Bo(yt),i=0;i<r.length;++i)t.NumberFmt[r[i]]=yt[r[i]];var a=e[0].match(mi);if(a)for(i=0;i<a.length;++i){var s=ct(a[i]);switch(Jo(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Bt(mn(s.formatCode)),u=parseInt(s.numFmtId,10);if(t.NumberFmt[u]=o,u>0){if(u>392){for(u=392;u>60&&t.NumberFmt[u]!=null;--u);t.NumberFmt[u]=o}jf(o,u)}}break;case"</numFmt>":break;default:if(n.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var Tv=["numFmtId","fillId","fontId","borderId","xfId"],kv=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function YOe(e,t,n){t.CellXf=[];var r,i=!1;(e[0].match(mi)||[]).forEach(function(a){var s=ct(a),o=0;switch(Jo(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=s,delete r[0],o=0;o<Tv.length;++o)r[Tv[o]]&&(r[Tv[o]]=parseInt(r[Tv[o]],10));for(o=0;o<kv.length;++o)r[kv[o]]&&(r[kv[o]]=kn(r[kv[o]]));if(t.NumberFmt&&r.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[r.numFmtId]==t.NumberFmt[o]){r.numFmtId=o;break}}t.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var u={};s.vertical&&(u.vertical=s.vertical),s.horizontal&&(u.horizontal=s.horizontal),s.textRotation!=null&&(u.textRotation=s.textRotation),s.indent&&(u.indent=s.indent),s.wrapText&&(u.wrapText=kn(s.wrapText)),r.alignment=u;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var KOe=(function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,n=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,u,c){var h={};if(!o)return h;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var d;return(d=o.match(t))&&WOe(d,h,c),(d=o.match(i))&&XOe(d,h,u,c),(d=o.match(r))&&VOe(d,h,u,c),(d=o.match(a))&&GOe(d,h,u,c),(d=o.match(n))&&YOe(d,h,c),h}})();function QOe(e,t){var n=e.read_shift(2),r=hi(e);return[n,r]}function ZOe(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=lDe(e);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var a=e.read_shift(2);switch(a===700&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(r.underline=s);var o=e.read_shift(1);o>0&&(r.family=o);var u=e.read_shift(1);switch(u>0&&(r.charset=u),e.l++,r.color=oDe(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=hi(e),r}var JOe=pi;function e8e(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}var t8e=pi;function n8e(e,t,n){var r={};r.NumberFmt=[];for(var i in yt)r.NumberFmt[i]=yt[i];r.CellXf=[],r.Fonts=[];var a=[],s=!1;return ou(e,function(u,c,h){switch(h){case 44:r.NumberFmt[u[0]]=u[1],jf(u[1],u[0]);break;case 43:r.Fonts.push(u),u.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(u.color.rgb=H_(t.themeElements.clrScheme[u.color.theme].rgb,u.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&r.CellXf.push(u);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(h),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(h);else if(c.T<0)a.pop();else if(!s||n.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+h.toString(16))}}),r}var r8e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function i8e(e,t,n){t.themeElements.clrScheme=[];var r={};(e[0].match(mi)||[]).forEach(function(i){var a=ct(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=a.val;break;case"<a:sysClr":r.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[r8e.indexOf(a[0])]=r,r={}):r.name=a[0].slice(3,a[0].length-1);break;default:if(n&&n.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function a8e(){}function s8e(){}var o8e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,l8e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,u8e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function c8e(e,t,n){t.themeElements={};var r;[["clrScheme",o8e,i8e],["fontScheme",l8e,a8e],["fmtScheme",u8e,s8e]].forEach(function(i){if(!(r=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,t,n)})}var f8e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function DZ(e,t){(!e||e.length===0)&&(e=h8e());var n,r={};if(!(n=e.match(f8e)))throw new Error("themeElements not found in theme");return c8e(n[0],r,t),r.raw=e,r}function h8e(e,t){var n=[UQ];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function d8e(e,t,n){var r=e.l+t,i=e.read_shift(4);if(i!==124226){if(!n.cellStyles){e.l=r;return}var a=e.slice(e.l);e.l=r;var s;try{s=PQ(a,{type:"array"})}catch{return}var o=Ea(s,"theme/theme/theme1.xml",!0);if(o)return DZ(o,n)}}function g8e(e){return e.read_shift(4)}function p8e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=m8e(e,4);break;case 2:t.xclrValue=mZ(e);break;case 3:t.xclrValue=g8e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function m8e(e,t){return pi(e,t)}function x8e(e,t){return pi(e,t)}function y8e(e){var t=e.read_shift(2),n=e.read_shift(2)-4,r=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=p8e(e);break;case 6:r[1]=x8e(e,n);break;case 14:case 15:r[1]=e.read_shift(n===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+n)}return r}function v8e(e,t){var n=e.l+t;e.l+=2;var r=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(y8e(e,n-e.l));return{ixfe:r,ext:a}}function _8e(e,t){t.forEach(function(n){n[0]})}function b8e(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:hi(e)}}function E8e(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function S8e(e){return e.l+=4,e.read_shift(4)!=0}function w8e(e,t,n){var r={Types:[],Cell:[],Value:[]},i=n||{},a=[],s=!1,o=2;return ou(e,function(u,c,h){switch(h){case 335:r.Types.push({name:u.name});break;case 51:u.forEach(function(d){o==1?r.Cell.push({type:r.Types[d[0]-1].name,index:d[1]}):o==0&&r.Value.push({type:r.Types[d[0]-1].name,index:d[1]})});break;case 337:o=u?1:0;break;case 338:o=2;break;case 35:a.push(h),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}}),r}function A8e(e,t,n){var r={Types:[],Cell:[],Value:[]};if(!e)return r;var i=!1,a=2,s;return e.replace(mi,function(o){var u=ct(o);switch(Jo(u[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:u.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<r.Types.length;++c)r.Types[c].name==u.name&&(s=r.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?r.Cell.push({type:r.Types[u.t-1].name,index:+u.v}):a==0&&r.Value.push({type:r.Types[u.t-1].name,index:+u.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+u.i);break;default:if(!i&&n.WTF)throw new Error("unrecognized "+u[0]+" in metadata")}return o}),r}function T8e(e){var t=[];if(!e)return t;var n=1;return(e.match(mi)||[]).forEach(function(r){var i=ct(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?n=i.i:i.i=n,t.push(i);break}}),t}function k8e(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=mt(n);var r=e.read_shift(1);return r&2&&(t.l="1"),r&8&&(t.a="1"),t}function C8e(e,t,n){var r=[];return ou(e,function(a,s,o){switch(o){case 63:r.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function F8e(e,t,n,r){if(!e)return e;var i=r||{},a=!1;ou(e,function(o,u,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!u.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function D8e(e,t){if(!e)return"??";var n=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][n].Target}function cB(e,t,n,r){var i=Array.isArray(e),a;t.forEach(function(s){var o=Mi(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var u=Hn(e["!ref"]||"BDWGO1000001:A1");u.s.r>o.r&&(u.s.r=o.r),u.e.r<o.r&&(u.e.r=o.r),u.s.c>o.c&&(u.s.c=o.c),u.e.c<o.c&&(u.e.c=o.c);var c=zt(u);c!==e["!ref"]&&(e["!ref"]=c)}a.c||(a.c=[]);var h={a:s.author,t:s.t,r:s.r,T:n};s.h&&(h.h=s.h);for(var d=a.c.length-1;d>=0;--d){if(!n&&a.c[d].T)return;n&&!a.c[d].T&&a.c.splice(d,1)}if(n&&r){for(d=0;d<r.length;++d)if(h.a==r[d].id){h.a=r[d].name||h.a;break}}a.c.push(h)})}function O8e(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var n=[],r=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&n.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var u=ct(o[0]),c={author:u.authorId&&n[u.authorId]||"sheetjsghost",ref:u.ref,guid:u.guid},h=Mi(u.ref);if(!(t.sheetRows&&t.sheetRows<=h.r)){var d=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),p=!!d&&!!d[1]&&$O(d[1])||{r:"",t:"",h:""};c.r=p.r,p.r=="<t></t>"&&(p.t=p.h=""),c.t=(p.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=p.h),r.push(c)}}}}),r}function M8e(e,t){var n=[],r=!1,i={},a=0;return e.replace(mi,function(o,u){var c=ct(o);switch(Jo(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&n.push(i);break;case"<text>":case"<text":a=u+o.length;break;case"</text>":i.t=e.slice(a,u).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),n}function R8e(e,t){var n=[],r=!1;return e.replace(mi,function(a){var s=ct(a);switch(Jo(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":n.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),n}function N8e(e){var t={};t.iauthor=e.read_shift(4);var n=I0(e);return t.rfx=n.s,t.ref=mt(n.s),e.l+=16,t}var $8e=hi;function L8e(e,t){var n=[],r=[],i={},a=!1;return ou(e,function(o,u,c){switch(c){case 632:r.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,n.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!u.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),n}var I8e="application/vnd.ms-office.vbaProject";function z8e(e){var t=It.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(n,r){if(!(n.slice(-1)==="/"||!n.match(/_VBA_PROJECT_CUR/))){var i=n.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");It.utils.cfb_add(t,i,e.FileIndex[r].content)}}),It.write(t)}function B8e(){return{"!type":"dialog"}}function P8e(){return{"!type":"dialog"}}function U8e(){return{"!type":"macro"}}function H8e(){return{"!type":"macro"}}var ad=(function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(r,i,a,s){var o=!1,u=!1;a.length==0?u=!0:a.charAt(0)=="["&&(u=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,h=s.length>0?parseInt(s,10)|0:0;return o?h+=t.c:--h,u?c+=t.r:--c,i+(o?"":"$")+hr(h)+(u?"":"$")+qr(c)}return function(i,a){return t=a,i.replace(e,n)}})(),OZ=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,j8e=(function(){return function(t,n){return t.replace(OZ,function(r,i,a,s,o,u){var c=FO(s)-(a?0:n.c),h=CO(u)-(o?0:n.r),d=h==0?"":o?h+1:"["+h+"]",p=c==0?"":a?c+1:"["+c+"]";return i+"R"+d+"C"+p})}})();function MZ(e,t){return e.replace(OZ,function(n,r,i,a,s,o){return r+(i=="$"?i+a:hr(FO(a)+t.c))+(s=="$"?s+o:qr(CO(o)+t.r))})}function q8e(e,t,n){var r=yg(t),i=r.s,a=Mi(n),s={r:a.r-i.r,c:a.c-i.c};return MZ(e,s)}function G8e(e){return e.length!=1}function fB(e){return e.replace(/_xlfn\./g,"")}function tr(e){e.l+=1}function wc(e,t){var n=e.read_shift(2);return[n&16383,n>>14&1,n>>15&1]}function RZ(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return NZ(e);n.biff==12&&(r=4)}var i=e.read_shift(r),a=e.read_shift(r),s=wc(e),o=wc(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function NZ(e){var t=wc(e),n=wc(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function V8e(e,t,n){if(n.biff<8)return NZ(e);var r=e.read_shift(n.biff==12?4:2),i=e.read_shift(n.biff==12?4:2),a=wc(e),s=wc(e);return{s:{r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function $Z(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return X8e(e);var r=e.read_shift(n&&n.biff==12?4:2),i=wc(e);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function X8e(e){var t=wc(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}function W8e(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:n&255,fQuoted:!!(n&16384),cRel:n>>15,rRel:n>>15}}function Y8e(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return K8e(e);var i=e.read_shift(r>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function K8e(e){var t=e.read_shift(2),n=e.read_shift(1),r=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,r==1&&t>=8192&&(t=t-16384),i==1&&n>=128&&(n=n-256),{r:t,c:n,cRel:i,rRel:r}}function Q8e(e,t,n){var r=(e[e.l++]&96)>>5,i=RZ(e,n.biff>=2&&n.biff<=5?6:8,n);return[r,i]}function Z8e(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=RZ(e,a,n);return[r,i,s]}function J8e(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}function eMe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[r,i]}function tMe(e,t,n){var r=(e[e.l++]&96)>>5,i=V8e(e,t-1,n);return[r,i]}function nMe(e,t,n){var r=(e[e.l++]&96)>>5;return e.l+=n.biff==2?6:n.biff==12?14:7,[r]}function hB(e){var t=e[e.l+1]&1,n=1;return e.l+=4,[t,n]}function rMe(e,t,n){e.l+=2;for(var r=e.read_shift(n&&n.biff==2?1:2),i=[],a=0;a<=r;++a)i.push(e.read_shift(n&&n.biff==2?1:2));return i}function iMe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function aMe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=2,[r,e.read_shift(n&&n.biff==2?1:2)]}function sMe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function oMe(e,t,n){var r=e[e.l+1]&255?1:0;return e.l+=n&&n.biff==2?3:4,[r]}function LZ(e){var t=e.read_shift(1),n=e.read_shift(1);return[t,n]}function lMe(e){return e.read_shift(2),LZ(e)}function uMe(e){return e.read_shift(2),LZ(e)}function cMe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=$Z(e,0,n);return[r,i]}function fMe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=Y8e(e,0,n);return[r,i]}function hMe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);n&&n.biff==5&&(e.l+=12);var a=$Z(e,0,n);return[r,i,a]}function dMe(e,t,n){var r=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[gRe[i],BZ[i],r]}function gMe(e,t,n){var r=e[e.l++],i=e.read_shift(1),a=n&&n.biff<=3?[r==88?-1:0,e.read_shift(1)]:pMe(e);return[i,(a[0]===0?BZ:dRe)[a[1]]]}function pMe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function mMe(e,t,n){e.l+=n&&n.biff==2?3:4}function xMe(e,t,n){if(e.l++,n&&n.biff==12)return[e.read_shift(4,"i"),0];var r=e.read_shift(2),i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function yMe(e){return e.l++,z0[e.read_shift(1)]}function vMe(e){return e.l++,e.read_shift(2)}function _Me(e){return e.l++,e.read_shift(1)!==0}function bMe(e){return e.l++,ii(e)}function EMe(e,t,n){return e.l++,dx(e,t-1,n)}function SMe(e,t){var n=[e.read_shift(1)];if(t==12)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2;break}switch(n[0]){case 4:n[1]=Gn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:n[1]=z0[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:n[1]=ii(e);break;case 2:n[1]=B0(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function wMe(e,t,n){for(var r=e.read_shift(n.biff==12?4:2),i=[],a=0;a!=r;++a)i.push((n.biff==12?I0:eS)(e));return i}function AMe(e,t,n){var r=0,i=0;n.biff==12?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,--i==0&&(i=256));for(var a=0,s=[];a!=r&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=SMe(e,n.biff);return s}function TMe(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,a=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[r,0,a]}function kMe(e,t,n){if(n.biff==5)return CMe(e);var r=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[r,i,a]}function CMe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}function FMe(e,t,n){var r=e.read_shift(1)>>>5&3;e.l+=n&&n.biff==2?3:4;var i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function DMe(e,t,n){var r=e.read_shift(1)>>>5&3,i=e.read_shift(n&&n.biff==2?1:2);return[r,i]}function OMe(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,n.biff==12&&(e.l+=2),[r]}function MMe(e,t,n){var r=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[r,i]}var RMe=pi,NMe=pi,$Me=pi;function px(e,t,n){return e.l+=2,[W8e(e)]}function IO(e){return e.l+=6,[]}var LMe=px,IMe=IO,zMe=IO,BMe=px;function IZ(e){return e.l+=2,[rr(e),e.read_shift(2)&1]}var PMe=px,UMe=IZ,HMe=IO,jMe=px,qMe=px,GMe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function VMe(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=GMe[n>>2&31];return{ixti:t,coltype:n&3,rt:s,idx:r,c:i,C:a}}function XMe(e){return e.l+=2,[e.read_shift(4)]}function WMe(e,t,n){return e.l+=5,e.l+=2,e.l+=n.biff==2?1:4,["PTGSHEET"]}function YMe(e,t,n){return e.l+=n.biff==2?4:5,["PTGENDSHEET"]}function KMe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function QMe(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2);return[t,n]}function ZMe(e){return e.l+=4,[0,0]}var dB={1:{n:"PtgExp",f:xMe},2:{n:"PtgTbl",f:$Me},3:{n:"PtgAdd",f:tr},4:{n:"PtgSub",f:tr},5:{n:"PtgMul",f:tr},6:{n:"PtgDiv",f:tr},7:{n:"PtgPower",f:tr},8:{n:"PtgConcat",f:tr},9:{n:"PtgLt",f:tr},10:{n:"PtgLe",f:tr},11:{n:"PtgEq",f:tr},12:{n:"PtgGe",f:tr},13:{n:"PtgGt",f:tr},14:{n:"PtgNe",f:tr},15:{n:"PtgIsect",f:tr},16:{n:"PtgUnion",f:tr},17:{n:"PtgRange",f:tr},18:{n:"PtgUplus",f:tr},19:{n:"PtgUminus",f:tr},20:{n:"PtgPercent",f:tr},21:{n:"PtgParen",f:tr},22:{n:"PtgMissArg",f:tr},23:{n:"PtgStr",f:EMe},26:{n:"PtgSheet",f:WMe},27:{n:"PtgEndSheet",f:YMe},28:{n:"PtgErr",f:yMe},29:{n:"PtgBool",f:_Me},30:{n:"PtgInt",f:vMe},31:{n:"PtgNum",f:bMe},32:{n:"PtgArray",f:nMe},33:{n:"PtgFunc",f:dMe},34:{n:"PtgFuncVar",f:gMe},35:{n:"PtgName",f:TMe},36:{n:"PtgRef",f:cMe},37:{n:"PtgArea",f:Q8e},38:{n:"PtgMemArea",f:FMe},39:{n:"PtgMemErr",f:RMe},40:{n:"PtgMemNoMem",f:NMe},41:{n:"PtgMemFunc",f:DMe},42:{n:"PtgRefErr",f:OMe},43:{n:"PtgAreaErr",f:J8e},44:{n:"PtgRefN",f:fMe},45:{n:"PtgAreaN",f:tMe},46:{n:"PtgMemAreaN",f:KMe},47:{n:"PtgMemNoMemN",f:QMe},57:{n:"PtgNameX",f:kMe},58:{n:"PtgRef3d",f:hMe},59:{n:"PtgArea3d",f:Z8e},60:{n:"PtgRefErr3d",f:MMe},61:{n:"PtgAreaErr3d",f:eMe},255:{}},JMe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},eRe={1:{n:"PtgElfLel",f:IZ},2:{n:"PtgElfRw",f:jMe},3:{n:"PtgElfCol",f:LMe},6:{n:"PtgElfRwV",f:qMe},7:{n:"PtgElfColV",f:BMe},10:{n:"PtgElfRadical",f:PMe},11:{n:"PtgElfRadicalS",f:HMe},13:{n:"PtgElfColS",f:IMe},15:{n:"PtgElfColSV",f:zMe},16:{n:"PtgElfRadicalLel",f:UMe},25:{n:"PtgList",f:VMe},29:{n:"PtgSxName",f:XMe},255:{}},tRe={0:{n:"PtgAttrNoop",f:ZMe},1:{n:"PtgAttrSemi",f:oMe},2:{n:"PtgAttrIf",f:aMe},4:{n:"PtgAttrChoose",f:rMe},8:{n:"PtgAttrGoto",f:iMe},16:{n:"PtgAttrSum",f:mMe},32:{n:"PtgAttrBaxcel",f:hB},33:{n:"PtgAttrBaxcel",f:hB},64:{n:"PtgAttrSpace",f:lMe},65:{n:"PtgAttrSpaceSemi",f:uMe},128:{n:"PtgAttrIfError",f:sMe},255:{}};function mx(e,t,n,r){if(r.biff<8)return pi(e,t);for(var i=e.l+t,a=[],s=0;s!==n.length;++s)switch(n[s][0]){case"PtgArray":n[s][1]=AMe(e,0,r),a.push(n[s][1]);break;case"PtgMemArea":n[s][2]=wMe(e,n[s][1],r),a.push(n[s][2]);break;case"PtgExp":r&&r.biff==12&&(n[s][1][1]=e.read_shift(4),a.push(n[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[s][0]}return t=i-e.l,t!==0&&a.push(pi(e,t)),a}function xx(e,t,n){for(var r=e.l+t,i,a,s=[];r!=e.l;)t=r-e.l,a=e[e.l],i=dB[a]||dB[JMe[a]],(a===24||a===25)&&(i=(a===24?eRe:tRe)[e[e.l+1]]),!i||!i.f?pi(e,t):s.push([i.n,i.f(e,t,n)]);return s}function nRe(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],a=0;a<r.length;++a){var s=r[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var rRe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function iRe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function zZ(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=r[1]==-1?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return n.SID!=null?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];case 355:default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[r[0]][0][3]?(i=r[1]==-1?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function gB(e,t,n){var r=zZ(e,t,n);return r=="#REF"?r:iRe(r,n)}function ni(e,t,n,r,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],u,c,h,d=0,p=0,m,y="";if(!e[0]||!e[0][0])return"";for(var v=-1,_="",E=0,w=e[0].length;E<w;++E){var A=e[0][E];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(u=o.pop(),c=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:_=Bn(" ",e[0][v][1][1]);break;case 1:_=Bn("\r",e[0][v][1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+_,v=-1}o.push(c+rRe[A[0]]+u);break;case"PtgIsect":u=o.pop(),c=o.pop(),o.push(c+" "+u);break;case"PtgUnion":u=o.pop(),c=o.pop(),o.push(c+","+u);break;case"PtgRange":u=o.pop(),c=o.pop(),o.push(c+":"+u);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":h=Tp(A[1][1],s,i),o.push(kp(h,a));break;case"PtgRefN":h=n?Tp(A[1][1],n,i):A[1][1],o.push(kp(h,a));break;case"PtgRef3d":d=A[1][1],h=Tp(A[1][2],s,i),y=gB(r,d,i),o.push(y+"!"+kp(h,a));break;case"PtgFunc":case"PtgFuncVar":var k=A[1][0],D=A[1][1];k||(k=0),k&=127;var O=k==0?[]:o.slice(-k);o.length-=k,D==="User"&&(D=O.shift()),o.push(D+"("+O.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":m=Wz(A[1][1],n?{s:n}:s,i),o.push(fk(m,i));break;case"PtgArea":m=Wz(A[1][1],s,i),o.push(fk(m,i));break;case"PtgArea3d":d=A[1][1],m=A[1][2],y=gB(r,d,i),o.push(y+"!"+fk(m,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":p=A[1][2];var T=(r.names||[])[p-1]||(r[0]||[])[p],F=T?T.Name:"SH33TJSNAME"+String(p);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),o.push(F);break;case"PtgNameX":var C=A[1][1];p=A[1][2];var N;if(i.biff<=5)C<0&&(C=-C),r[C]&&(N=r[C][p]);else{var L="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][p]&&r[C][p].itab>0&&(L=r.SheetNames[r[C][p].itab-1]+"!"):L=r.SheetNames[p-1]+"!"),r[C]&&r[C][p])L+=r[C][p].Name;else if(r[0]&&r[0][p])L+=r[0][p].Name;else{var I=(zZ(r,C,i)||"").split(";;");I[p-1]?L=I[p-1]:L+="SH33TJSERRX"}o.push(L);break}N||(N={Name:"SH33TJSERRY"}),o.push(N.Name);break;case"PtgParen":var Q="(",J=")";if(v>=0){switch(_="",e[0][v][1][0]){case 2:Q=Bn(" ",e[0][v][1][1])+Q;break;case 3:Q=Bn("\r",e[0][v][1][1])+Q;break;case 4:J=Bn(" ",e[0][v][1][1])+J;break;case 5:J=Bn("\r",e[0][v][1][1])+J;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(Q+o.pop()+J);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":h={c:A[1][1],r:A[1][0]};var H={c:n.c,r:n.r};if(r.sharedf[mt(h)]){var z=r.sharedf[mt(h)];o.push(ni(z,s,H,r,i))}else{var X=!1;for(u=0;u!=r.arrayf.length;++u)if(c=r.arrayf[u],!(h.c<c[0].s.c||h.c>c[0].e.c)&&!(h.r<c[0].s.r||h.r>c[0].e.r)){o.push(ni(c[1],s,H,r,i)),X=!0;break}X||o.push(A[1])}break;case"PtgArray":o.push("{"+nRe(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var re=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&re.indexOf(e[0][E][0])==-1){A=e[0][v];var j=!0;switch(A[1][0]){case 4:j=!1;case 0:_=Bn(" ",A[1][1]);break;case 5:j=!1;case 1:_=Bn("\r",A[1][1]);break;default:if(_="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((j?_:"")+o.pop()+(j?"":_)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function aRe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],pi(e,t-2)];var o=xx(e,s,n);return t!==s+i&&(a=mx(e,t-s-i,o,n)),e.l=r,[o,a]}function sRe(e,t,n){var r=e.l+t,i=n.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],pi(e,t-2)];var o=xx(e,s,n);return t!==s+i&&(a=mx(e,t-s-i,o,n)),e.l=r,[o,a]}function oRe(e,t,n,r){var i=e.l+t,a=xx(e,r,n),s;return i!==e.l&&(s=mx(e,i-e.l,a,n)),[a,s]}function lRe(e,t,n){var r=e.l+t,i,a=e.read_shift(2),s=xx(e,a,n);return a==65535?[[],pi(e,t-2)]:(t!==a+2&&(i=mx(e,r-a-2,s,n)),[s,i])}function uRe(e){var t;if(Nl(e,e.l+6)!==65535)return[ii(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function gk(e,t,n){var r=e.l+t,i=el(e);n.biff==2&&++e.l;var a=uRe(e),s=e.read_shift(1);n.biff!=2&&(e.read_shift(1),n.biff>=5&&e.read_shift(4));var o=sRe(e,r-e.l,n);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function tS(e,t,n){var r=e.read_shift(4),i=xx(e,r,n),a=e.read_shift(4),s=a>0?mx(e,a,i,n):null;return[i,s]}var cRe=tS,nS=tS,fRe=tS,hRe=tS,dRe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},BZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gRe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function pB(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,n){return n.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function pk(e){var t=e.split(":"),n=t[0].split(".")[0];return[n,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Op={},sd={};function Mp(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(n=[1,1,1,1,.5,.5]),e.left==null&&(e.left=n[0]),e.right==null&&(e.right=n[1]),e.top==null&&(e.top=n[2]),e.bottom==null&&(e.bottom=n[3]),e.header==null&&(e.header=n[4]),e.footer==null&&(e.footer=n[5])}}function PZ(e,t,n,r,i,a){try{r.cellNF&&(e.z=yt[t])}catch(o){if(r.WTF)throw o}if(!(e.t==="z"&&!r.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=kr(e.v)),(!r||r.cellText!==!1)&&e.t!=="z")try{if(yt[t]==null&&jf(p6e[t]||"General",t),e.t==="e")e.w=e.w||z0[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=hm(e.v);else if(e.t==="d"){var s=Bi(e.v);(s|0)===s?e.w=s.toString(10):e.w=hm(s)}else{if(e.v===void 0)return"";e.w=d0(e.v,sd)}else e.t==="d"?e.w=ds(t,Bi(e.v),sd):e.w=ds(t,e.v,sd)}catch(o){if(r.WTF)throw o}if(r.cellStyles&&n!=null)try{e.s=a.Fills[n],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=H_(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),r.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=H_(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),r.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(r.WTF&&a.Fills)throw o}}}function pRe(e,t){var n=Hn(t);n.s.r<=n.e.r&&n.s.c<=n.e.c&&n.s.r>=0&&n.s.c>=0&&(e["!ref"]=zt(n))}var mRe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,xRe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,yRe=/<(?:\w:)?hyperlink [^>]*>/mg,vRe=/"(\w*:\w*)"/,_Re=/<(?:\w:)?col\b[^>]*[\/]?>/g,bRe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,ERe=/<(?:\w:)?pageMargins[^>]*\/>/g,UZ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,SRe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,wRe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function ARe(e,t,n,r,i,a,s){if(!e)return e;r||(r={"!id":{}});var o=t.dense?[]:{},u={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",h="",d=e.match(xRe);d?(c=e.slice(0,d.index),h=e.slice(d.index+d[0].length)):c=h=e;var p=c.match(UZ);p?zO(p[0],o,i,n):(p=c.match(SRe))&&TRe(p[0],p[1]||"",o,i,n);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var y=c.slice(m,m+50).match(vRe);y&&pRe(o,y[1])}var v=c.match(wRe);v&&v[1]&&MRe(v[1],i);var _=[];if(t.cellStyles){var E=c.match(_Re);E&&FRe(_,E)}d&&RRe(d[1],o,t,u,a,s);var w=h.match(bRe);w&&(o["!autofilter"]=DRe(w[0]));var A=[],k=h.match(mRe);if(k)for(m=0;m!=k.length;++m)A[m]=Hn(k[m].slice(k[m].indexOf('"')+1));var D=h.match(yRe);D&&kRe(o,D,r);var O=h.match(ERe);if(O&&(o["!margins"]=CRe(ct(O[0]))),!o["!ref"]&&u.e.c>=u.s.c&&u.e.r>=u.s.r&&(o["!ref"]=zt(u)),t.sheetRows>0&&o["!ref"]){var T=Hn(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>u.e.r&&(T.e.r=u.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>u.e.c&&(T.e.c=u.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=zt(T))}return _.length>0&&(o["!cols"]=_),A.length>0&&(o["!merges"]=A),o}function zO(e,t,n,r){var i=ct(e);n.Sheets[r]||(n.Sheets[r]={}),i.codeName&&(n.Sheets[r].CodeName=Bt(mn(i.codeName)))}function TRe(e,t,n,r,i){zO(e.slice(0,e.indexOf(">")),n,r,i)}function kRe(e,t,n){for(var r=Array.isArray(e),i=0;i!=t.length;++i){var a=ct(mn(t[i]),!0);if(!a.ref)return;var s=((n||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Bt(a.location))):(a.Target="#"+Bt(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Hn(a.ref),u=o.s.r;u<=o.e.r;++u)for(var c=o.s.c;c<=o.e.c;++c){var h=mt({c,r:u});r?(e[u]||(e[u]=[]),e[u][c]||(e[u][c]={t:"z",v:void 0}),e[u][c].l=a):(e[h]||(e[h]={t:"z",v:void 0}),e[h].l=a)}}}function CRe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(n){e[n]&&(t[n]=parseFloat(e[n]))}),t}function FRe(e,t){for(var n=!1,r=0;r!=t.length;++r){var i=ct(t[r],!0);i.hidden&&(i.hidden=kn(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!n&&i.width&&(n=!0,LO(i.width)),jd(i);a<=s;)e[a++]=jr(i)}}function DRe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var ORe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function MRe(e,t){t.Views||(t.Views=[{}]),(e.match(ORe)||[]).forEach(function(n,r){var i=ct(n);t.Views[r]||(t.Views[r]={}),+i.zoomScale&&(t.Views[r].zoom=+i.zoomScale),kn(i.rightToLeft)&&(t.Views[r].RTL=!0)})}var RRe=(function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,n=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=dm("v"),s=dm("f");return function(u,c,h,d,p,m){for(var y=0,v="",_=[],E=[],w=0,A=0,k=0,D="",O,T,F=0,C=0,N,L,I=0,Q=0,J=Array.isArray(m.CellXf),H,z=[],X=[],re=Array.isArray(c),j=[],le={},q=!1,R=!!h.sheetStubs,G=u.split(t),K=0,Y=G.length;K!=Y;++K){v=G[K].trim();var se=v.length;if(se!==0){var ve=0;e:for(y=0;y<se;++y)switch(v[y]){case">":if(v[y-1]!="/"){++y;break e}if(h&&h.cellStyles){if(T=ct(v.slice(ve,y),!0),F=T.r!=null?parseInt(T.r,10):F+1,C=-1,h.sheetRows&&h.sheetRows<F)continue;le={},q=!1,T.ht&&(q=!0,le.hpt=parseFloat(T.ht),le.hpx=xm(le.hpt)),T.hidden=="1"&&(q=!0,le.hidden=!0),T.outlineLevel!=null&&(q=!0,le.level=+T.outlineLevel),q&&(j[F-1]=le)}break;case"<":ve=y;break}if(ve>=y)break;if(T=ct(v.slice(ve,y),!0),F=T.r!=null?parseInt(T.r,10):F+1,C=-1,!(h.sheetRows&&h.sheetRows<F)){d.s.r>F-1&&(d.s.r=F-1),d.e.r<F-1&&(d.e.r=F-1),h&&h.cellStyles&&(le={},q=!1,T.ht&&(q=!0,le.hpt=parseFloat(T.ht),le.hpx=xm(le.hpt)),T.hidden=="1"&&(q=!0,le.hidden=!0),T.outlineLevel!=null&&(q=!0,le.level=+T.outlineLevel),q&&(j[F-1]=le)),_=v.slice(y).split(e);for(var _e=0;_e!=_.length&&_[_e].trim().charAt(0)=="<";++_e);for(_=_.slice(_e),y=0;y!=_.length;++y)if(v=_[y].trim(),v.length!==0){if(E=v.match(n),w=y,A=0,k=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,E!=null&&E.length===2){for(w=0,D=E[1],A=0;A!=D.length&&!((k=D.charCodeAt(A)-64)<1||k>26);++A)w=26*w+k;--w,C=w}else++C;for(A=0;A!=v.length&&v.charCodeAt(A)!==62;++A);if(++A,T=ct(v.slice(0,A),!0),T.r||(T.r=mt({r:F-1,c:C})),D=v.slice(A),O={t:""},(E=D.match(a))!=null&&E[1]!==""&&(O.v=Bt(E[1])),h.cellFormula){if((E=D.match(s))!=null&&E[1]!==""){if(O.f=Bt(mn(E[1])).replace(/\r\n/g,`
`),h.xlfn||(O.f=fB(O.f)),E[0].indexOf('t="array"')>-1)O.F=(D.match(i)||[])[1],O.F.indexOf(":")>-1&&z.push([Hn(O.F),O.F]);else if(E[0].indexOf('t="shared"')>-1){L=ct(E[0]);var ae=Bt(mn(E[1]));h.xlfn||(ae=fB(ae)),X[parseInt(L.si,10)]=[L,ae,T.r]}}else(E=D.match(/<f[^>]*\/>/))&&(L=ct(E[0]),X[L.si]&&(O.f=q8e(X[L.si][1],X[L.si][2],T.r)));var ue=Mi(T.r);for(A=0;A<z.length;++A)ue.r>=z[A][0].s.r&&ue.r<=z[A][0].e.r&&ue.c>=z[A][0].s.c&&ue.c<=z[A][0].e.c&&(O.F=z[A][1])}if(T.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(R)O.t="z";else continue;else O.t=T.t||"n";switch(d.s.c>C&&(d.s.c=C),d.e.c<C&&(d.e.c=C),O.t){case"n":if(O.v==""||O.v==null){if(!R)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!R)continue;O.t="z"}else N=Op[parseInt(O.v,10)],O.v=N.t,O.r=N.r,h.cellHTML&&(O.h=N.h);break;case"str":O.t="s",O.v=O.v!=null?mn(O.v):"",h.cellHTML&&(O.h=AO(O.v));break;case"inlineStr":E=D.match(r),O.t="s",E!=null&&(N=$O(E[1]))?(O.v=N.t,h.cellHTML&&(O.h=N.h)):O.v="";break;case"b":O.v=kn(O.v);break;case"d":h.cellDates?O.v=kr(O.v,1):(O.v=Bi(kr(O.v,1)),O.t="n");break;case"e":(!h||h.cellText!==!1)&&(O.w=O.v),O.v=lZ[O.v];break}if(I=Q=0,H=null,J&&T.s!==void 0&&(H=m.CellXf[T.s],H!=null&&(H.numFmtId!=null&&(I=H.numFmtId),h.cellStyles&&H.fillId!=null&&(Q=H.fillId))),PZ(O,I,Q,h,p,m),h.cellDates&&J&&O.t=="n"&&xg(yt[I])&&(O.t="d",O.v=JE(O.v)),T.cm&&h.xlmeta){var ke=(h.xlmeta.Cell||[])[+T.cm-1];ke&&ke.type=="XLDAPR"&&(O.D=!0)}if(re){var P=Mi(T.r);c[P.r]||(c[P.r]=[]),c[P.r][P.c]=O}else c[T.r]=O}}}}j.length>0&&(c["!rows"]=j)}})();function NRe(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,a&7&&(n.level=a&7),a&16&&(n.hidden=!0),a&32&&(n.hpt=i/20),n}var $Re=I0;function LRe(){}function IRe(e,t){var n={},r=e[e.l];return++e.l,n.above=!(r&64),n.left=!(r&128),e.l+=18,n.name=aDe(e),n}function zRe(e){var t=xs(e);return[t]}function BRe(e){var t=L0(e);return[t]}function PRe(e){var t=xs(e),n=e.read_shift(1);return[t,n,"b"]}function URe(e){var t=L0(e),n=e.read_shift(1);return[t,n,"b"]}function HRe(e){var t=xs(e),n=e.read_shift(1);return[t,n,"e"]}function jRe(e){var t=L0(e),n=e.read_shift(1);return[t,n,"e"]}function qRe(e){var t=xs(e),n=e.read_shift(4);return[t,n,"s"]}function GRe(e){var t=L0(e),n=e.read_shift(4);return[t,n,"s"]}function VRe(e){var t=xs(e),n=ii(e);return[t,n,"n"]}function HZ(e){var t=L0(e),n=ii(e);return[t,n,"n"]}function XRe(e){var t=xs(e),n=MO(e);return[t,n,"n"]}function WRe(e){var t=L0(e),n=MO(e);return[t,n,"n"]}function YRe(e){var t=xs(e),n=DO(e);return[t,n,"is"]}function KRe(e){var t=xs(e),n=hi(e);return[t,n,"str"]}function QRe(e){var t=L0(e),n=hi(e);return[t,n,"str"]}function ZRe(e,t,n){var r=e.l+t,i=xs(e);i.r=n["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(n.cellFormula){e.l+=2;var o=nS(e,r-e.l,n);s[3]=ni(o,null,i,n.supbooks,n)}else e.l=r;return s}function JRe(e,t,n){var r=e.l+t,i=xs(e);i.r=n["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(n.cellFormula){e.l+=2;var o=nS(e,r-e.l,n);s[3]=ni(o,null,i,n.supbooks,n)}else e.l=r;return s}function eNe(e,t,n){var r=e.l+t,i=xs(e);i.r=n["!row"];var a=ii(e),s=[i,a,"n"];if(n.cellFormula){e.l+=2;var o=nS(e,r-e.l,n);s[3]=ni(o,null,i,n.supbooks,n)}else e.l=r;return s}function tNe(e,t,n){var r=e.l+t,i=xs(e);i.r=n["!row"];var a=hi(e),s=[i,a,"str"];if(n.cellFormula){e.l+=2;var o=nS(e,r-e.l,n);s[3]=ni(o,null,i,n.supbooks,n)}else e.l=r;return s}var nNe=I0;function rNe(e,t){var n=e.l+t,r=I0(e),i=OO(e),a=hi(e),s=hi(e),o=hi(e);e.l=n;var u={rfx:r,relId:i,loc:a,display:o};return s&&(u.Tooltip=s),u}function iNe(){}function aNe(e,t,n){var r=e.l+t,i=aZ(e),a=e.read_shift(1),s=[i];if(s[2]=a,n.cellFormula){var o=cRe(e,r-e.l,n);s[1]=o}else e.l=r;return s}function sNe(e,t,n){var r=e.l+t,i=I0(e),a=[i];if(n.cellFormula){var s=hRe(e,r-e.l,n);a[1]=s,e.l=r}else e.l=r;return a}var oNe=["left","right","top","bottom","header","footer"];function lNe(e){var t={};return oNe.forEach(function(n){t[n]=ii(e)}),t}function uNe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function cNe(){}function fNe(){}function hNe(e,t,n,r,i,a,s){if(!e)return e;var o=t||{};r||(r={"!id":{}});var u=o.dense?[]:{},c,h={s:{r:2e6,c:2e6},e:{r:0,c:0}},d=!1,p=!1,m,y,v,_,E,w,A,k,D,O=[];o.biff=12,o["!row"]=0;var T=0,F=!1,C=[],N={},L=o.supbooks||i.supbooks||[[]];if(L.sharedf=N,L.arrayf=C,L.SheetNames=i.SheetNames||i.Sheets.map(function(re){return re.name}),!o.supbooks&&(o.supbooks=L,i.Names))for(var I=0;I<i.Names.length;++I)L[0][I+1]=i.Names[I];var Q=[],J=[],H=!1;G_[16]={n:"BrtShortReal",f:HZ};var z;if(ou(e,function(j,le,q){if(!p)switch(q){case 148:c=j;break;case 0:m=j,o.sheetRows&&o.sheetRows<=m.r&&(p=!0),k=qr(_=m.r),o["!row"]=m.r,(j.hidden||j.hpt||j.level!=null)&&(j.hpt&&(j.hpx=xm(j.hpt)),J[j.r]=j);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(y={t:j[2]},j[2]){case"n":y.v=j[1];break;case"s":A=Op[j[1]],y.v=A.t,y.r=A.r;break;case"b":y.v=!!j[1];break;case"e":y.v=j[1],o.cellText!==!1&&(y.w=z0[y.v]);break;case"str":y.t="s",y.v=j[1];break;case"is":y.t="s",y.v=j[1].t;break}if((v=s.CellXf[j[0].iStyleRef])&&PZ(y,v.numFmtId,null,o,a,s),E=j[0].c==-1?E+1:j[0].c,o.dense?(u[_]||(u[_]=[]),u[_][E]=y):u[hr(E)+k]=y,o.cellFormula){for(F=!1,T=0;T<C.length;++T){var R=C[T];m.r>=R[0].s.r&&m.r<=R[0].e.r&&E>=R[0].s.c&&E<=R[0].e.c&&(y.F=zt(R[0]),F=!0)}!F&&j.length>3&&(y.f=j[3])}if(h.s.r>m.r&&(h.s.r=m.r),h.s.c>E&&(h.s.c=E),h.e.r<m.r&&(h.e.r=m.r),h.e.c<E&&(h.e.c=E),o.cellDates&&v&&y.t=="n"&&xg(yt[v.numFmtId])){var G=Mf(y.v);G&&(y.t="d",y.v=new Date(G.y,G.m-1,G.d,G.H,G.M,G.S,G.u))}z&&(z.type=="XLDAPR"&&(y.D=!0),z=void 0);break;case 1:case 12:if(!o.sheetStubs||d)break;y={t:"z",v:void 0},E=j[0].c==-1?E+1:j[0].c,o.dense?(u[_]||(u[_]=[]),u[_][E]=y):u[hr(E)+k]=y,h.s.r>m.r&&(h.s.r=m.r),h.s.c>E&&(h.s.c=E),h.e.r<m.r&&(h.e.r=m.r),h.e.c<E&&(h.e.c=E),z&&(z.type=="XLDAPR"&&(y.D=!0),z=void 0);break;case 176:O.push(j);break;case 49:z=((o.xlmeta||{}).Cell||[])[j-1];break;case 494:var K=r["!id"][j.relId];for(K?(j.Target=K.Target,j.loc&&(j.Target+="#"+j.loc),j.Rel=K):j.relId==""&&(j.Target="#"+j.loc),_=j.rfx.s.r;_<=j.rfx.e.r;++_)for(E=j.rfx.s.c;E<=j.rfx.e.c;++E)o.dense?(u[_]||(u[_]=[]),u[_][E]||(u[_][E]={t:"z",v:void 0}),u[_][E].l=j):(w=mt({c:E,r:_}),u[w]||(u[w]={t:"z",v:void 0}),u[w].l=j);break;case 426:if(!o.cellFormula)break;C.push(j),D=o.dense?u[_][E]:u[hr(E)+k],D.f=ni(j[1],h,{r:m.r,c:E},L,o),D.F=zt(j[0]);break;case 427:if(!o.cellFormula)break;N[mt(j[0].s)]=j[1],D=o.dense?u[_][E]:u[hr(E)+k],D.f=ni(j[1],h,{r:m.r,c:E},L,o);break;case 60:if(!o.cellStyles)break;for(;j.e>=j.s;)Q[j.e--]={width:j.w/256,hidden:!!(j.flags&1),level:j.level},H||(H=!0,LO(j.w/256)),jd(Q[j.e+1]);break;case 161:u["!autofilter"]={ref:zt(j)};break;case 476:u["!margins"]=j;break;case 147:i.Sheets[n]||(i.Sheets[n]={}),j.name&&(i.Sheets[n].CodeName=j.name),(j.above||j.left)&&(u["!outline"]={above:j.above,left:j.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),j.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:d=!0;break;case 36:d=!1;break;case 37:d=!0;break;case 38:d=!1;break;default:if(!le.T){if(!d||o.WTF)throw new Error("Unexpected record 0x"+q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!u["!ref"]&&(h.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(u["!ref"]=zt(c||h)),o.sheetRows&&u["!ref"]){var X=Hn(u["!ref"]);o.sheetRows<=+X.e.r&&(X.e.r=o.sheetRows-1,X.e.r>h.e.r&&(X.e.r=h.e.r),X.e.r<X.s.r&&(X.s.r=X.e.r),X.e.c>h.e.c&&(X.e.c=h.e.c),X.e.c<X.s.c&&(X.s.c=X.e.c),u["!fullref"]=u["!ref"],u["!ref"]=zt(X))}return O.length>0&&(u["!merges"]=O),Q.length>0&&(u["!cols"]=Q),J.length>0&&(u["!rows"]=J),u}function dNe(e){var t=[],n=e.match(/^<c:numCache>/),r;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=n?+s[2]:s[2])});var i=Bt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){r=a.replace(/<.*?>/g,"")}),[t,i,r]}function gNe(e,t,n,r,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,u=0,c="A",h={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(d){var p=dNe(d);h.s.r=h.s.c=0,h.e.c=o,c=hr(o),p[0].forEach(function(m,y){s[c+qr(y)]={t:"n",v:m,z:p[1]},u=y}),h.e.r<u&&(h.e.r=u),++o}),o>0&&(s["!ref"]=zt(h)),s}function pNe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(UZ);return o&&zO(o[0],a,i,n),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}function mNe(e,t){e.l+=10;var n=hi(e);return{name:n}}function xNe(e,t,n,r,i){if(!e)return e;r||(r={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return ou(e,function(u,c,h){switch(h){case 550:a["!rel"]=u;break;case 651:i.Sheets[n]||(i.Sheets[n]={}),u.name&&(i.Sheets[n].CodeName=u.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+h.toString(16))}}}},t),r["!id"][a["!rel"]]&&(a["!drawel"]=r["!id"][a["!rel"]]),a}var jZ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],yNe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],vNe=[],_Ne=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function mB(e,t){for(var n=0;n!=e.length;++n)for(var r=e[n],i=0;i!=t.length;++i){var a=t[i];if(r[a[0]]==null)r[a[0]]=a[1];else switch(a[2]){case"bool":typeof r[a[0]]=="string"&&(r[a[0]]=kn(r[a[0]]));break;case"int":typeof r[a[0]]=="string"&&(r[a[0]]=parseInt(r[a[0]],10));break}}}function xB(e,t){for(var n=0;n!=t.length;++n){var r=t[n];if(e[r[0]]==null)e[r[0]]=r[1];else switch(r[2]){case"bool":typeof e[r[0]]=="string"&&(e[r[0]]=kn(e[r[0]]));break;case"int":typeof e[r[0]]=="string"&&(e[r[0]]=parseInt(e[r[0]],10));break}}}function qZ(e){xB(e.WBProps,jZ),xB(e.CalcPr,_Ne),mB(e.WBView,yNe),mB(e.Sheets,vNe),sd.date1904=kn(e.WBProps.date1904)}var bNe="][*?/\\".split("");function ENe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var n=!0;return bNe.forEach(function(r){if(e.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),n}var SNe=/<\w+:workbook/;function wNe(e,t){if(!e)throw new Error("Could not find file");var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",a={},s=0;if(e.replace(mi,function(u,c){var h=ct(u);switch(Jo(h[0])){case"<?xml":break;case"<workbook":u.match(SNe)&&(i="xmlns"+u.match(/<(\w+):/)[1]),n.xmlns=h[i];break;case"</workbook>":break;case"<fileVersion":delete h[0],n.AppVersion=h;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":jZ.forEach(function(d){if(h[d[0]]!=null)switch(d[2]){case"bool":n.WBProps[d[0]]=kn(h[d[0]]);break;case"int":n.WBProps[d[0]]=parseInt(h[d[0]],10);break;default:n.WBProps[d[0]]=h[d[0]]}}),h.codeName&&(n.WBProps.CodeName=mn(h.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete h[0],n.WBView.push(h);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(h.state){case"hidden":h.Hidden=1;break;case"veryHidden":h.Hidden=2;break;default:h.Hidden=0}delete h.state,h.name=Bt(mn(h.name)),delete h[0],n.Sheets.push(h);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":a={},a.Name=mn(h.name),h.comment&&(a.Comment=h.comment),h.localSheetId&&(a.Sheet=+h.localSheetId),kn(h.hidden||"0")&&(a.Hidden=!0),s=c+u.length;break;case"</definedName>":a.Ref=Bt(mn(e.slice(s,c))),n.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete h[0],n.CalcPr=h;break;case"<calcPr/>":delete h[0],n.CalcPr=h;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&t.WTF)throw new Error("unrecognized "+h[0]+" in workbook")}return u}),H6e.indexOf(n.xmlns)===-1)throw new Error("Unknown Namespace: "+n.xmlns);return qZ(n),n}function ANe(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=$4(e),n.name=hi(e),n}function TNe(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?hi(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(r&65536),n.backupFile=!!(r&64),n.checkCompatibility=!!(r&4096),n.date1904=!!(r&1),n.filterPrivacy=!!(r&8),n.hidePivotFieldList=!!(r&1024),n.promptedSolutions=!!(r&16),n.publishItems=!!(r&2048),n.refreshAllConnections=!!(r&262144),n.saveExternalLinkValues=!!(r&128),n.showBorderUnselectedTables=!!(r&4),n.showInkAnnotation=!!(r&32),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(r&32768),n.updateLinks=["userSet","never","always"][r>>8&3],n}function kNe(e,t){var n={};return e.read_shift(4),n.ArchID=e.read_shift(4),e.l+=t-8,n}function CNe(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=sDe(e),s=fRe(e,0,n),o=OO(e);e.l=r;var u={Name:a,Ptg:s};return i<268435455&&(u.Sheet=i),o&&(u.Comment=o),u}function FNe(e,t){var n={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],G_[16]={n:"BrtFRTArchID$",f:kNe},ou(e,function(u,c,h){switch(h){case 156:s.SheetNames.push(u.name),n.Sheets.push(u);break;case 153:n.WBProps=u;break;case 39:u.Sheet!=null&&(t.SID=u.Sheet),u.Ref=ni(u.Ptg,null,null,s,t),delete t.SID,delete u.Ptg,a.push(u);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([h,u]):s[0]=[h,u],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(u),s.XTI=s.XTI.concat(u);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(h),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(h),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+h.toString(16))}}},t),qZ(n),n.Names=a,n.supbooks=s,n}function DNe(e,t,n){return t.slice(-4)===".bin"?FNe(e,n):wNe(e,n)}function ONe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?hNe(e,r,n,i,a,s,o):ARe(e,r,n,i,a,s,o)}function MNe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?xNe(e,r,n,i,a):pNe(e,r,n,i,a)}function RNe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?U8e():H8e()}function NNe(e,t,n,r,i,a,s,o){return t.slice(-4)===".bin"?B8e():P8e()}function $Ne(e,t,n,r){return t.slice(-4)===".bin"?n8e(e,n,r):KOe(e,n,r)}function LNe(e,t,n){return DZ(e,n)}function INe(e,t,n){return t.slice(-4)===".bin"?yOe(e,n):mOe(e,n)}function zNe(e,t,n){return t.slice(-4)===".bin"?L8e(e,n):O8e(e,n)}function BNe(e,t,n){return t.slice(-4)===".bin"?C8e(e):T8e(e)}function PNe(e,t,n,r){return n.slice(-4)===".bin"?F8e(e,t,n,r):void 0}function UNe(e,t,n){return t.slice(-4)===".bin"?w8e(e,t,n):A8e(e,t,n)}var GZ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,VZ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ss(e,t){var n=e.split(/\s+/),r=[];if(r[0]=n[0],n.length===1)return r;var i=e.match(GZ),a,s,o,u;if(i)for(u=0;u!=i.length;++u)a=i[u].match(VZ),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),r[o]=a[2].slice(1,a[2].length-1));return r}function HNe(e){var t=e.split(/\s+/),n={};if(t.length===1)return n;var r=e.match(GZ),i,a,s,o;if(r)for(o=0;o!=r.length;++o)i=r[o].match(VZ),(a=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),n[s]=i[2].slice(1,i[2].length-1));return n}var Rp;function jNe(e,t){var n=Rp[e]||Bt(e);return n==="General"?d0(t):ds(n,t)}function qNe(e,t,n,r){var i=r;switch((n[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=kn(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=kr(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+n[0])}e[Bt(t)]=i}function GNe(e,t,n){if(e.t!=="z"){if(!n||n.cellText!==!1)try{e.t==="e"?e.w=e.w||z0[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=hm(e.v):e.w=d0(e.v):e.w=jNe(t||"General",e.v)}catch(a){if(n.WTF)throw a}try{var r=Rp[t]||t||"General";if(n.cellNF&&(e.z=r),n.cellDates&&e.t=="n"&&xg(r)){var i=Mf(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(n.WTF)throw a}}}function VNe(e,t,n){if(n.cellStyles&&t.Interior){var r=t.Interior;r.Pattern&&(r.patternType=qOe[r.Pattern]||r.Pattern)}e[t.ID]=t}function XNe(e,t,n,r,i,a,s,o,u,c){var h="General",d=r.StyleID,p={};c=c||{};var m=[],y=0;for(d===void 0&&o&&(d=o.StyleID),d===void 0&&s&&(d=s.StyleID);a[d]!==void 0&&(a[d].nf&&(h=a[d].nf),a[d].Interior&&m.push(a[d].Interior),!!a[d].Parent);)d=a[d].Parent;switch(n.Type){case"Boolean":r.t="b",r.v=kn(e);break;case"String":r.t="s",r.r=Bz(Bt(e)),r.v=e.indexOf("<")>-1?Bt(t||e).replace(/<.*?>/g,""):r.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),r.v=(kr(e)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),r.v!==r.v?r.v=Bt(e):r.v<60&&(r.v=r.v-1),(!h||h=="General")&&(h="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+e),r.t||(r.t="n");break;case"Error":r.t="e",r.v=lZ[e],c.cellText!==!1&&(r.w=e);break;default:e==""&&t==""?r.t="z":(r.t="s",r.v=Bz(t||e));break}if(GNe(r,h,c),c.cellFormula!==!1)if(r.Formula){var v=Bt(r.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),r.f=ad(v,i),delete r.Formula,r.ArrayRange=="RC"?r.F=ad("RC:RC",i):r.ArrayRange&&(r.F=ad(r.ArrayRange,i),u.push([Hn(r.F),r.F]))}else for(y=0;y<u.length;++y)i.r>=u[y][0].s.r&&i.r<=u[y][0].e.r&&i.c>=u[y][0].s.c&&i.c<=u[y][0].e.c&&(r.F=u[y][1]);c.cellStyles&&(m.forEach(function(_){!p.patternType&&_.patternType&&(p.patternType=_.patternType)}),r.s=p),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function WNe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function mk(e,t){var n=t||{};NQ();var r=op(TO(e));(n.type=="binary"||n.type=="array"||n.type=="base64")&&(r=mn(r));var i=r.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=jr(n);return s.type="string",pm.to_workbook(r,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(nt){i.indexOf("<"+nt)>=0&&(a=!0)}),a)return r9e(r,n);Rp={"General Number":"General","General Date":yt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":yt[15],"Short Date":yt[14],"Long Time":yt[19],"Medium Time":yt[18],"Short Time":yt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:yt[2],Standard:yt[4],Percent:yt[10],Scientific:yt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,u=[],c,h={},d=[],p=n.dense?[]:{},m="",y={},v={},_=Ss('<Data ss:Type="String">'),E=0,w=0,A=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},D={},O={},T="",F=0,C=[],N={},L={},I=0,Q=[],J=[],H={},z=[],X,re=!1,j=[],le=[],q={},R=0,G=0,K={Sheets:[],WBProps:{date1904:!1}},Y={};gm.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var se="";o=gm.exec(r);)switch(o[3]=(se=o[3]).toLowerCase()){case"data":if(se=="data"){if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break}if(u[u.length-1][1])break;o[1]==="/"?XNe(r.slice(E,o.index),T,_,u[u.length-1][0]=="comment"?H:y,{c:w,r:A},D,z[w],v,j,n):(T="",_=Ss(o[0]),E=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(J.length>0&&(y.c=J),(!n.sheetRows||n.sheetRows>A)&&y.v!==void 0&&(n.dense?(p[A]||(p[A]=[]),p[A][w]=y):p[hr(w)+qr(A)]=y),y.HRef&&(y.l={Target:Bt(y.HRef)},y.HRefScreenTip&&(y.l.Tooltip=y.HRefScreenTip),delete y.HRef,delete y.HRefScreenTip),(y.MergeAcross||y.MergeDown)&&(R=w+(parseInt(y.MergeAcross,10)|0),G=A+(parseInt(y.MergeDown,10)|0),C.push({s:{c:w,r:A},e:{c:R,r:G}})),!n.sheetStubs)y.MergeAcross?w=R+1:++w;else if(y.MergeAcross||y.MergeDown){for(var ve=w;ve<=R;++ve)for(var _e=A;_e<=G;++_e)(ve>w||_e>A)&&(n.dense?(p[_e]||(p[_e]=[]),p[_e][ve]={t:"z"}):p[hr(ve)+qr(_e)]={t:"z"});w=R+1}else++w;else y=HNe(o[0]),y.Index&&(w=+y.Index-1),w<k.s.c&&(k.s.c=w),w>k.e.c&&(k.e.c=w),o[0].slice(-2)==="/>"&&++w,J=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<k.s.r&&(k.s.r=A),A>k.e.r&&(k.e.r=A),o[0].slice(-2)==="/>"&&(v=Ss(o[0]),v.Index&&(A=+v.Index-1)),w=0,++A):(v=Ss(o[0]),v.Index&&(A=+v.Index-1),q={},(v.AutoFitHeight=="0"||v.Height)&&(q.hpx=parseInt(v.Height,10),q.hpt=FZ(q.hpx),le[A]=q),v.Hidden=="1"&&(q.hidden=!0,le[A]=q));break;case"worksheet":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));d.push(m),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(p["!ref"]=zt(k),n.sheetRows&&n.sheetRows<=k.e.r&&(p["!fullref"]=p["!ref"],k.e.r=n.sheetRows-1,p["!ref"]=zt(k))),C.length&&(p["!merges"]=C),z.length>0&&(p["!cols"]=z),le.length>0&&(p["!rows"]=le),h[m]=p}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=w=0,u.push([o[3],!1]),c=Ss(o[0]),m=Bt(c.Name),p=n.dense?[]:{},C=[],j=[],le=[],Y={name:m,Hidden:0},K.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;u.push([o[3],!1]),z=[],re=!1}break;case"style":o[1]==="/"?VNe(D,O,n):O=Ss(o[0]);break;case"numberformat":O.nf=Bt(Ss(o[0]).Format||"General"),Rp[O.nf]&&(O.nf=Rp[O.nf]);for(var ae=0;ae!=392&&yt[ae]!=O.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(yt[ae]==null){jf(O.nf,ae);break}}break;case"column":if(u[u.length-1][0]!=="table")break;if(X=Ss(o[0]),X.Hidden&&(X.hidden=!0,delete X.Hidden),X.Width&&(X.wpx=parseInt(X.Width,10)),!re&&X.wpx>10){re=!0,Ci=kZ;for(var ue=0;ue<z.length;++ue)z[ue]&&jd(z[ue])}re&&jd(X),z[X.Index-1||z.length]=X;for(var ke=0;ke<+X.Span;++ke)z[z.length]=jr(X);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var P=ct(o[0]),Ze={Name:P.Name,Ref:ad(P.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Ze.Sheet=K.Sheets.length-1),K.Names.push(Ze);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=r.slice(F,o.index):F=o.index+o[0].length;break;case"interior":if(!n.cellStyles)break;O.Interior=Ss(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?ODe(N,se,r.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else u.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));WNe(H),J.push(H)}else u.push([o[3],!1]),c=Ss(o[0]),H={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Le=Ss(o[0]);p["!autofilter"]={ref:ad(Le.Range).replace(/\$/g,"")},u.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=u.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&u.push([o[3],!0]);break;case"null":break;default:if(u.length==0&&o[3]=="document"||u.length==0&&o[3]=="uof")return SB(r,n);var He=!0;switch(u[u.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:He=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:He=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:He=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:He=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(r.slice(I,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else I=o.index+o[0].length;break;case"header":p["!margins"]||Mp(p["!margins"]={},"xlml"),isNaN(+ct(o[0]).Margin)||(p["!margins"].header=+ct(o[0]).Margin);break;case"footer":p["!margins"]||Mp(p["!margins"]={},"xlml"),isNaN(+ct(o[0]).Margin)||(p["!margins"].footer=+ct(o[0]).Margin);break;case"pagemargins":var Re=ct(o[0]);p["!margins"]||Mp(p["!margins"]={},"xlml"),isNaN(+Re.Top)||(p["!margins"].top=+Re.Top),isNaN(+Re.Left)||(p["!margins"].left=+Re.Left),isNaN(+Re.Right)||(p["!margins"].right=+Re.Right),isNaN(+Re.Bottom)||(p["!margins"].bottom=+Re.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":p["!outline"]||(p["!outline"]={}),p["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:He=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:He=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:He=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:He=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:He=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:He=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:He=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:He=!1}break;case"smarttags":break;default:He=!1;break}if(He||o[3].match(/!\[CDATA/))break;if(!u[u.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+u.join("|");if(u[u.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?qNe(L,se,Q,r.slice(I,o.index)):(Q=o,I=o.index+o[0].length);break}if(n.WTF)throw"Unrecognized tag: "+o[3]+"|"+u.join("|")}var Fe={};return!n.bookSheets&&!n.bookProps&&(Fe.Sheets=h),Fe.SheetNames=d,Fe.Workbook=K,Fe.SSF=jr(yt),Fe.Props=N,Fe.Custprops=L,Fe}function B4(e,t){switch(UO(t=t||{}),t.type||"base64"){case"base64":return mk(Na(e),t);case"binary":case"buffer":case"file":return mk(e,t);case"array":return mk($0(e),t)}}function YNe(e){var t={},n=e.content;if(n.l=28,t.AnsiUserType=n.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=uDe(n),n.length-n.l<=4)return t;var r=n.read_shift(4);if(r==0||r>40||(n.l-=4,t.Reserved1=n.read_shift(0,"lpstr-ansi"),n.length-n.l<=4)||(r=n.read_shift(4),r!==1907505652)||(t.UnicodeClipboardFormat=cDe(n),r=n.read_shift(4),r==0||r>40))return t;n.l-=4,t.Reserved2=n.read_shift(0,"lpwstr")}var KNe=[60,1084,2066,2165,2175];function QNe(e,t,n,r,i){var a=r,s=[],o=n.slice(n.l,n.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),n.l+=a;for(var u=Nl(n,n.l),c=P4[u],h=0;c!=null&&KNe.indexOf(u)>-1;)a=Nl(n,n.l+2),h=n.l+4,u==2066?h+=4:(u==2165||u==2175)&&(h+=12),o=n.slice(h,n.l+4+a),s.push(o),n.l+=4+a,c=P4[u=Nl(n,n.l)];var d=ju(s);Ir(d,0);var p=0;d.lens=[];for(var m=0;m<s.length;++m)d.lens.push(p),p+=s[m].length;if(d.length<r)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+d.length+" < "+r;return t.f(d,d.length,i)}function fo(e,t,n){if(e.t!=="z"&&e.XF){var r=0;try{r=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=yt[r])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||z0[e.v]:r===0||r=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=hm(e.v):e.w=d0(e.v):e.w=ds(r,e.v,{date1904:!!n,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&r&&e.t=="n"&&xg(yt[r]||String(r))){var i=Mf(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Cv(e,t,n){return{v:e,ixfe:t,t:n}}function ZNe(e,t){var n={opts:{}},r={},i=t.dense?[]:{},a={},s={},o=null,u=[],c="",h={},d,p="",m,y,v,_,E={},w=[],A,k,D=[],O=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},C=function(gt){return gt<8?qf[gt]:gt<64&&O[gt-8]||qf[gt]},N=function(gt,Qt,yn){var Vt=Qt.XF.data;if(!(!Vt||!Vt.patternType||!yn||!yn.cellStyles)){Qt.s={},Qt.s.patternType=Vt.patternType;var Sn;(Sn=mm(C(Vt.icvFore)))&&(Qt.s.fgColor={rgb:Sn}),(Sn=mm(C(Vt.icvBack)))&&(Qt.s.bgColor={rgb:Sn})}},L=function(gt,Qt,yn){if(!(q>1)&&!(yn.sheetRows&&gt.r>=yn.sheetRows)){if(yn.cellStyles&&Qt.XF&&Qt.XF.data&&N(gt,Qt,yn),delete Qt.ixfe,delete Qt.XF,d=gt,p=mt(gt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),gt.r<s.s.r&&(s.s.r=gt.r),gt.c<s.s.c&&(s.s.c=gt.c),gt.r+1>s.e.r&&(s.e.r=gt.r+1),gt.c+1>s.e.c&&(s.e.c=gt.c+1),yn.cellFormula&&Qt.f){for(var Vt=0;Vt<w.length;++Vt)if(!(w[Vt][0].s.c>gt.c||w[Vt][0].s.r>gt.r)&&!(w[Vt][0].e.c<gt.c||w[Vt][0].e.r<gt.r)){Qt.F=zt(w[Vt][0]),(w[Vt][0].s.c!=gt.c||w[Vt][0].s.r!=gt.r)&&delete Qt.f,Qt.f&&(Qt.f=""+ni(w[Vt][1],s,gt,j,I));break}}yn.dense?(i[gt.r]||(i[gt.r]=[]),i[gt.r][gt.c]=Qt):i[p]=Qt}},I={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var Q,J=[],H=[],z=[],X=[],re=!1,j=[];j.SheetNames=I.snames,j.sharedf=I.sharedf,j.arrayf=I.arrayf,j.names=[],j.XTI=[];var le=0,q=0,R=0,G=[],K=[],Y;I.codepage=1200,zs(1200);for(var se=!1;e.l<e.length-1;){var ve=e.l,_e=e.read_shift(2);if(_e===0&&le===10)break;var ae=e.l===e.length?0:e.read_shift(2),ue=P4[_e];if(ue&&ue.f){if(t.bookSheets&&le===133&&_e!==133)break;if(le=_e,ue.r===2||ue.r==12){var ke=e.read_shift(2);if(ae-=2,!I.enc&&ke!==_e&&((ke&255)<<8|ke>>8)!==_e)throw new Error("rt mismatch: "+ke+"!="+_e);ue.r==12&&(e.l+=10,ae-=10)}var P={};if(_e===10?P=ue.f(e,ae,I):P=QNe(_e,ue,e,ae,I),q==0&&[9,521,1033,2057].indexOf(le)===-1)continue;switch(_e){case 34:n.opts.Date1904=T.WBProps.date1904=P;break;case 134:n.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=P,!t.password)throw new Error("File is password-protected");if(P.valid==null)throw new Error("Encryption scheme unsupported");if(!P.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=P;break;case 66:var Ze=Number(P);switch(Ze){case 21010:Ze=1200;break;case 32768:Ze=1e4;break;case 32769:Ze=1252;break}zs(I.codepage=Ze),se=!0;break;case 317:I.rrtabid=P;break;case 25:I.winlocked=P;break;case 439:n.opts.RefreshAll=P;break;case 12:n.opts.CalcCount=P;break;case 16:n.opts.CalcDelta=P;break;case 17:n.opts.CalcIter=P;break;case 13:n.opts.CalcMode=P;break;case 14:n.opts.CalcPrecision=P;break;case 95:n.opts.CalcSaveRecalc=P;break;case 15:I.CalcRefMode=P;break;case 2211:n.opts.FullCalc=P;break;case 129:P.fDialog&&(i["!type"]="dialog"),P.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),P.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:D.push(P);break;case 430:j.push([P]),j[j.length-1].XTI=[];break;case 35:case 547:j[j.length-1].push(P);break;case 24:case 536:Y={Name:P.Name,Ref:ni(P.rgce,s,null,j,I)},P.itab>0&&(Y.Sheet=P.itab-1),j.names.push(Y),j[0]||(j[0]=[],j[0].XTI=[]),j[j.length-1].push(P),P.Name=="_xlnm._FilterDatabase"&&P.itab>0&&P.rgce&&P.rgce[0]&&P.rgce[0][0]&&P.rgce[0][0][0]=="PtgArea3d"&&(K[P.itab-1]={ref:zt(P.rgce[0][0][1][2])});break;case 22:I.ExternCount=P;break;case 23:j.length==0&&(j[0]=[],j[0].XTI=[]),j[j.length-1].XTI=j[j.length-1].XTI.concat(P),j.XTI=j.XTI.concat(P);break;case 2196:if(I.biff<8)break;Y!=null&&(Y.Comment=P[1]);break;case 18:i["!protect"]=P;break;case 19:P!==0&&I.WTF&&console.error("Password verifier: "+P);break;case 133:a[P.pos]=P,I.snames.push(P.name);break;case 10:{if(--q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=zt(s),t.sheetRows&&t.sheetRows<=s.e.r){var Le=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=zt(s),s.e.r=Le}s.e.r++,s.e.c++}J.length>0&&(i["!merges"]=J),H.length>0&&(i["!objects"]=H),z.length>0&&(i["!cols"]=z),X.length>0&&(i["!rows"]=X),T.Sheets.push(F)}c===""?h=i:r[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[_e]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[P.BIFFVer]||8),I.biffguess=P.BIFFVer==0,P.BIFFVer==0&&P.dt==4096&&(I.biff=5,se=!0,zs(I.codepage=28591)),I.biff==8&&P.BIFFVer==0&&P.dt==16&&(I.biff=2),q++)break;if(i=t.dense?[]:{},I.biff<8&&!se&&(se=!0,zs(I.codepage=t.codepage||1252)),I.biff<5||P.BIFFVer==0&&P.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var He={pos:e.l-ae,name:c};a[He.pos]=He,I.snames.push(c)}else c=(a[ve]||{name:""}).name;P.dt==32&&(i["!type"]="chart"),P.dt==64&&(i["!type"]="macro"),J=[],H=[],I.arrayf=w=[],z=[],X=[],re=!1,F={Hidden:(a[ve]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[P.r]||[])[P.c]:i[mt({c:P.c,r:P.r})])&&++P.c,A={ixfe:P.ixfe,XF:D[P.ixfe]||{},v:P.val,t:"n"},R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:P.c,r:P.r},A,t);break;case 5:case 517:A={ixfe:P.ixfe,XF:D[P.ixfe],v:P.val,t:P.t},R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:P.c,r:P.r},A,t);break;case 638:A={ixfe:P.ixfe,XF:D[P.ixfe],v:P.rknum,t:"n"},R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:P.c,r:P.r},A,t);break;case 189:for(var Re=P.c;Re<=P.C;++Re){var Fe=P.rkrec[Re-P.c][0];A={ixfe:Fe,XF:D[Fe],v:P.rkrec[Re-P.c][1],t:"n"},R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:Re,r:P.r},A,t)}break;case 6:case 518:case 1030:{if(P.val=="String"){o=P;break}if(A=Cv(P.val,P.cell.ixfe,P.tt),A.XF=D[A.ixfe],t.cellFormula){var nt=P.formula;if(nt&&nt[0]&&nt[0][0]&&nt[0][0][0]=="PtgExp"){var bt=nt[0][0][1][0],$t=nt[0][0][1][1],Kn=mt({r:bt,c:$t});E[Kn]?A.f=""+ni(P.formula,s,P.cell,j,I):A.F=((t.dense?(i[bt]||[])[$t]:i[Kn])||{}).F}else A.f=""+ni(P.formula,s,P.cell,j,I)}R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L(P.cell,A,t),o=P}break;case 7:case 519:if(o)o.val=P,A=Cv(P,o.cell.ixfe,"s"),A.XF=D[A.ixfe],t.cellFormula&&(A.f=""+ni(o.formula,s,o.cell,j,I)),R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L(o.cell,A,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(P);var xr=mt(P[0].s);if(m=t.dense?(i[P[0].s.r]||[])[P[0].s.c]:i[xr],t.cellFormula&&m){if(!o||!xr||!m)break;m.f=""+ni(P[1],s,P[0],j,I),m.F=zt(P[0])}}break;case 1212:{if(!t.cellFormula)break;if(p){if(!o)break;E[mt(o.cell)]=P[0],m=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[mt(o.cell)],(m||{}).f=""+ni(P[0],s,d,j,I)}}break;case 253:A=Cv(u[P.isst].t,P.ixfe,"s"),u[P.isst].h&&(A.h=u[P.isst].h),A.XF=D[A.ixfe],R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:P.c,r:P.r},A,t);break;case 513:t.sheetStubs&&(A={ixfe:P.ixfe,XF:D[P.ixfe],t:"z"},R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:P.c,r:P.r},A,t));break;case 190:if(t.sheetStubs)for(var Xr=P.c;Xr<=P.C;++Xr){var dt=P.ixfe[Xr-P.c];A={ixfe:dt,XF:D[dt],t:"z"},R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:Xr,r:P.r},A,t)}break;case 214:case 516:case 4:A=Cv(P.val,P.ixfe,"s"),A.XF=D[A.ixfe],R>0&&(A.z=G[A.ixfe>>8&63]),fo(A,t,n.opts.Date1904),L({c:P.c,r:P.r},A,t);break;case 0:case 512:q===1&&(s=P);break;case 252:u=P;break;case 1054:if(I.biff==4){G[R++]=P[1];for(var Nn=0;Nn<R+163&&yt[Nn]!=P[1];++Nn);Nn>=163&&jf(P[1],R+163)}else jf(P[1],P[0]);break;case 30:{G[R++]=P;for(var Yt=0;Yt<R+163&&yt[Yt]!=P;++Yt);Yt>=163&&jf(P,R+163)}break;case 229:J=J.concat(P);break;case 93:H[P.cmo[0]]=I.lastobj=P;break;case 438:I.lastobj.TxO=P;break;case 127:I.lastobj.ImData=P;break;case 440:for(_=P[0].s.r;_<=P[0].e.r;++_)for(v=P[0].s.c;v<=P[0].e.c;++v)m=t.dense?(i[_]||[])[v]:i[mt({c:v,r:_})],m&&(m.l=P[1]);break;case 2048:for(_=P[0].s.r;_<=P[0].e.r;++_)for(v=P[0].s.c;v<=P[0].e.c;++v)m=t.dense?(i[_]||[])[v]:i[mt({c:v,r:_})],m&&m.l&&(m.l.Tooltip=P[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;m=t.dense?(i[P[0].r]||[])[P[0].c]:i[mt(P[0])];var Dn=H[P[2]];m||(t.dense?(i[P[0].r]||(i[P[0].r]=[]),m=i[P[0].r][P[0].c]={t:"z"}):m=i[mt(P[0])]={t:"z"},s.e.r=Math.max(s.e.r,P[0].r),s.s.r=Math.min(s.s.r,P[0].r),s.e.c=Math.max(s.e.c,P[0].c),s.s.c=Math.min(s.s.c,P[0].c)),m.c||(m.c=[]),y={a:P[1],t:Dn.TxO.t},m.c.push(y)}break;case 2173:_8e(D[P.ixfe],P.ext);break;case 125:{if(!I.cellStyles)break;for(;P.e>=P.s;)z[P.e--]={width:P.w/256,level:P.level||0,hidden:!!(P.flags&1)},re||(re=!0,LO(P.w/256)),jd(z[P.e+1])}break;case 520:{var Kt={};P.level!=null&&(X[P.r]=Kt,Kt.level=P.level),P.hidden&&(X[P.r]=Kt,Kt.hidden=!0),P.hpt&&(X[P.r]=Kt,Kt.hpt=P.hpt,Kt.hpx=xm(P.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Mp(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[_e]]=P;break;case 161:i["!margins"]||Mp(i["!margins"]={}),i["!margins"].header=P.header,i["!margins"].footer=P.footer;break;case 574:P.RTL&&(T.Views[0].RTL=!0);break;case 146:O=P;break;case 2198:Q=P;break;case 140:k=P;break;case 442:c?F.CodeName=P||F.name:T.WBProps.CodeName=P||"ThisWorkbook";break}}else ue||console.error("Missing Info for XLS Record 0x"+_e.toString(16)),e.l+=ae}return n.SheetNames=Bo(a).sort(function(Wr,gt){return Number(Wr)-Number(gt)}).map(function(Wr){return a[Wr].name}),t.bookSheets||(n.Sheets=r),!n.SheetNames.length&&h["!ref"]?(n.SheetNames.push("Sheet1"),n.Sheets&&(n.Sheets.Sheet1=h)):n.Preamble=h,n.Sheets&&K.forEach(function(Wr,gt){n.Sheets[n.SheetNames[gt]]["!autofilter"]=Wr}),n.Strings=u,n.SSF=jr(yt),I.enc&&(n.Encryption=I.enc),Q&&(n.Themes=Q),n.Metadata={},k!==void 0&&(n.Metadata.Country=k),j.names.length>0&&(T.Names=j.names),n.Workbook=T,n}var yB={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JNe(e,t,n){var r=It.find(e,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=tB(r,mDe,yB.DSI);for(var a in i)t[a]=i[a]}catch(c){if(n.WTF)throw c}var s=It.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=tB(s,xDe,yB.SI);for(var u in o)t[u]==null&&(t[u]=o[u])}catch(c){if(n.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(cZ(t.HeadingPairs,t.TitlesOfParts,t,n),delete t.HeadingPairs,delete t.TitlesOfParts)}function XZ(e,t){t||(t={}),UO(t),EQ(),t.codepage&&vO(t.codepage);var n,r;if(e.FullPaths){if(It.find(e,"/encryption"))throw new Error("File is password-protected");n=It.find(e,"!CompObj"),r=It.find(e,"/Workbook")||It.find(e,"/Book")}else{switch(t.type){case"base64":e=Rs(Na(e));break;case"binary":e=Rs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ir(e,0),r={content:e}}var i,a;if(n&&YNe(n),t.bookProps&&!t.bookSheets)i={};else{var s=Mt?"buffer":"array";if(r&&r.content)i=ZNe(r.content,t);else if((a=It.find(e,"PerfectOffice_MAIN"))&&a.content)i=Dp.to_workbook(a.content,(t.type=s,t));else if((a=It.find(e,"NativeContent_MAIN"))&&a.content)i=Dp.to_workbook(a.content,(t.type=s,t));else throw(a=It.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&It.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=z8e(e))}var o={};return e.FullPaths&&JNe(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}var G_={0:{f:NRe},1:{f:zRe},2:{f:XRe},3:{f:HRe},4:{f:PRe},5:{f:VRe},6:{f:KRe},7:{f:qRe},8:{f:tNe},9:{f:eNe},10:{f:ZRe},11:{f:JRe},12:{f:BRe},13:{f:WRe},14:{f:jRe},15:{f:URe},16:{f:HZ},17:{f:QRe},18:{f:GRe},19:{f:DO},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:CNe},40:{},42:{},43:{f:ZOe},44:{f:QOe},45:{f:JOe},46:{f:t8e},47:{f:e8e},48:{},49:{f:nDe},50:{},51:{f:E8e},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:EZ},62:{f:YRe},63:{f:k8e},64:{f:cNe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:pi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:uNe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:IRe},148:{f:$Re,p:16},151:{f:iNe},152:{},153:{f:TNe},154:{},155:{},156:{f:ANe},157:{},158:{},159:{T:1,f:xOe},160:{T:-1},161:{T:1,f:I0},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:nNe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:b8e},336:{T:-1},337:{f:S8e,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:$4},357:{},358:{},359:{},360:{T:1},361:{},362:{f:bZ},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:aNe},427:{f:sNe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:lNe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:LRe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:rNe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:$4},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$8e},633:{T:1},634:{T:-1},635:{T:1,f:N8e},636:{T:-1},637:{f:iDe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:mNe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:fNe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},P4={6:{f:gk},10:{f:Ru},12:{f:rr},13:{f:rr},14:{f:Gn},15:{f:Gn},16:{f:ii},17:{f:Gn},18:{f:Gn},19:{f:rr},20:{f:aB},21:{f:aB},23:{f:bZ},24:{f:oB},25:{f:Gn},26:{},27:{},28:{f:M5e},29:{},34:{f:Gn},35:{f:sB},38:{f:ii},39:{f:ii},40:{f:ii},41:{f:ii},42:{f:Gn},43:{f:Gn},47:{f:LOe},49:{f:d5e},51:{f:rr},60:{},61:{f:c5e},64:{f:Gn},65:{f:h5e},66:{f:rr},77:{},80:{},81:{},82:{},85:{f:rr},89:{},90:{},91:{},92:{f:n5e},93:{f:N5e},94:{},95:{f:Gn},96:{},97:{},99:{f:Gn},125:{f:EZ},128:{f:S5e},129:{f:r5e},130:{f:rr},131:{f:Gn},132:{f:Gn},133:{f:i5e},134:{},140:{f:P5e},141:{f:rr},144:{},146:{f:H5e},151:{},152:{},153:{},154:{},155:{},156:{f:rr},157:{},158:{},160:{f:X5e},161:{f:q5e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:v5e},190:{f:_5e},193:{f:Ru},197:{},198:{},199:{},200:{},201:{},202:{f:Gn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:rr},220:{},221:{f:Gn},222:{},224:{f:E5e},225:{f:t5e},226:{f:Ru},227:{},229:{f:R5e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:a5e},253:{f:g5e},255:{f:s5e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:pZ},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Gn},353:{f:Ru},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:A5e},431:{f:Gn},432:{},433:{},434:{},437:{},438:{f:I5e},439:{f:Gn},440:{f:z5e},441:{},442:{f:gx},443:{},444:{f:rr},445:{},446:{},448:{f:Ru},449:{f:u5e,r:2},450:{f:Ru},512:{f:rB},513:{f:V5e},515:{f:w5e},516:{f:p5e},517:{f:iB},519:{f:W5e},520:{f:o5e},523:{},545:{f:lB},549:{f:nB},566:{},574:{f:f5e},638:{f:y5e},659:{},1048:{},1054:{f:m5e},1084:{},1212:{f:F5e},2048:{f:B5e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Av},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ru},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:j5e,r:12},2173:{f:v8e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Gn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:C5e,r:12},2197:{},2198:{f:d8e,r:12},2199:{},2200:{},2201:{},2202:{f:D5e,r:12},2203:{f:Ru},2204:{},2205:{},2206:{},2207:{},2211:{f:l5e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:rr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:G5e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:U5e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:rB},1:{},2:{f:Z5e},3:{f:Q5e},4:{f:K5e},5:{f:iB},7:{f:J5e},8:{},9:{f:Av},11:{},22:{f:rr},30:{f:x5e},31:{},32:{},33:{f:lB},36:{},37:{f:nB},50:{f:eOe},62:{},52:{},67:{},68:{f:rr},69:{},86:{},126:{},127:{f:Y5e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:tOe},223:{},234:{},354:{},421:{},518:{f:gk},521:{f:Av},536:{f:oB},547:{f:sB},561:{},579:{},1030:{f:gk},1033:{f:Av},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ws(e,t,n,r){var i=t;if(!isNaN(i)){var a=(n||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&nZ(n)&&e.push(n)}}function vB(e,t){var n=t||{},r=n.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,u=w6e(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,h=0,d=0,p=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},y=[];for(s=0;s<u.length;++s){var v=u[s].trim(),_=v.slice(0,3).toLowerCase();if(_=="<tr"){if(++c,n.sheetRows&&n.sheetRows<=c){--c;break}h=0;continue}if(!(_!="<td"&&_!="<th")){var E=v.split(/<\/t[dh]>/i);for(o=0;o<E.length;++o){var w=E[o].trim();if(w.match(/<t[dh]/i)){for(var A=w,k=0;A.charAt(0)=="<"&&(k=A.indexOf(">"))>-1;)A=A.slice(k+1);for(var D=0;D<y.length;++D){var O=y[D];O.s.c==h&&O.s.r<c&&c<=O.e.r&&(h=O.e.c+1,D=-1)}var T=ct(w.slice(0,w.indexOf(">")));p=T.colspan?+T.colspan:1,((d=+T.rowspan)>1||p>1)&&y.push({s:{r:c,c:h},e:{r:c+(d||1)-1,c:h+p-1}});var F=T.t||T["data-t"]||"";if(!A.length){h+=p;continue}if(A=jQ(A),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>h&&(m.s.c=h),m.e.c<h&&(m.e.c=h),!A.length){h+=p;continue}var C={t:"s",v:A};n.raw||!A.trim().length||F=="s"||(A==="TRUE"?C={t:"b",v:!0}:A==="FALSE"?C={t:"b",v:!1}:isNaN(Hs(A))?isNaN(Hd(A).getDate())||(C={t:"d",v:kr(A)},n.cellDates||(C={t:"n",v:Bi(C.v)}),C.z=n.dateNF||yt[14]):C={t:"n",v:Hs(A)}),n.dense?(r[c]||(r[c]=[]),r[c][h]=C):r[mt({r:c,c:h})]=C,h+=p}}}}return r["!ref"]=zt(m),y.length&&(r["!merges"]=y),r}function e9e(e,t,n,r){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,u=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>s)&&!(i[c].e.r<n||i[c].e.c<s)){if(i[c].s.r<n||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,u=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var h=mt({r:n,c:s}),d=r.dense?(e[n]||[])[s]:e[h],p=d&&d.v!=null&&(d.h||AO(d.w||(Ql(d),d.w)||""))||"",m={};o>1&&(m.rowspan=o),u>1&&(m.colspan=u),r.editable?p='<span contenteditable="true">'+p+"</span>":d&&(m["data-t"]=d&&d.t||"z",d.v!=null&&(m["data-v"]=d.v),d.z!=null&&(m["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(p='<a href="'+d.l.Target+'">'+p+"</a>")),m.id=(r.id||"sjs")+"-"+h,a.push(P6e("td",p,m))}}var y="<tr>";return y+a.join("")+"</tr>"}var t9e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',n9e="</body></html>";function r9e(e,t){var n=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!n||n.length==0)throw new Error("Invalid HTML: could not find <table>");if(n.length==1)return Pc(vB(n[0],t),t);var r=jO();return n.forEach(function(i,a){qO(r,vB(i,t),"Sheet"+(a+1))}),r}function i9e(e,t,n){var r=[];return r.join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function a9e(e,t){var n=t||{},r=n.header!=null?n.header:t9e,i=n.footer!=null?n.footer:n9e,a=[r],s=yg(e["!ref"]);n.dense=Array.isArray(e),a.push(i9e(e,s,n));for(var o=s.s.r;o<=s.e.r;++o)a.push(e9e(e,s,o,n));return a.push("</table>"+i),a.join("")}function WZ(e,t,n){var r=n||{},i=0,a=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var s=typeof r.origin=="string"?Mi(r.origin):r.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),u=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var h=yg(e["!ref"]);c.s.r=Math.min(c.s.r,h.s.r),c.s.c=Math.min(c.s.c,h.s.c),c.e.r=Math.max(c.e.r,h.e.r),c.e.c=Math.max(c.e.c,h.e.c),i==-1&&(c.e.r=i=h.e.r+1)}var d=[],p=0,m=e["!rows"]||(e["!rows"]=[]),y=0,v=0,_=0,E=0,w=0,A=0;for(e["!cols"]||(e["!cols"]=[]);y<o.length&&v<u;++y){var k=o[y];if(_B(k)){if(r.display)continue;m[v]={hidden:!0}}var D=k.children;for(_=E=0;_<D.length;++_){var O=D[_];if(!(r.display&&_B(O))){var T=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):jQ(O.innerHTML),F=O.getAttribute("data-z")||O.getAttribute("z");for(p=0;p<d.length;++p){var C=d[p];C.s.c==E+a&&C.s.r<v+i&&v+i<=C.e.r&&(E=C.e.c+1-a,p=-1)}A=+O.getAttribute("colspan")||1,((w=+O.getAttribute("rowspan")||1)>1||A>1)&&d.push({s:{r:v+i,c:E+a},e:{r:v+i+(w||1)-1,c:E+a+(A||1)-1}});var N={t:"s",v:T},L=O.getAttribute("data-t")||O.getAttribute("t")||"";T!=null&&(T.length==0?N.t=L||"z":r.raw||T.trim().length==0||L=="s"||(T==="TRUE"?N={t:"b",v:!0}:T==="FALSE"?N={t:"b",v:!1}:isNaN(Hs(T))?isNaN(Hd(T).getDate())||(N={t:"d",v:kr(T)},r.cellDates||(N={t:"n",v:Bi(N.v)}),N.z=r.dateNF||yt[14]):N={t:"n",v:Hs(T)})),N.z===void 0&&F!=null&&(N.z=F);var I="",Q=O.getElementsByTagName("A");if(Q&&Q.length)for(var J=0;J<Q.length&&!(Q[J].hasAttribute("href")&&(I=Q[J].getAttribute("href"),I.charAt(0)!="#"));++J);I&&I.charAt(0)!="#"&&(N.l={Target:I}),r.dense?(e[v+i]||(e[v+i]=[]),e[v+i][E+a]=N):e[mt({c:E+a,r:v+i})]=N,c.e.c<E+a&&(c.e.c=E+a),E+=A}}++v}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),c.e.r=Math.max(c.e.r,v-1+i),e["!ref"]=zt(c),v>=u&&(e["!fullref"]=zt((c.e.r=o.length-y+v-1+i,c))),e}function YZ(e,t){var n=t||{},r=n.dense?[]:{};return WZ(r,e,t)}function s9e(e,t){return Pc(YZ(e,t),t)}function _B(e){var t="",n=o9e(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function o9e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function l9e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),n=Bt(t.replace(/<[^>]*>/g,""));return[n]}var bB={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function KZ(e,t){var n=t||{},r=TO(e),i=[],a,s,o={name:""},u="",c=0,h,d,p={},m=[],y=n.dense?[]:{},v,_,E={value:""},w="",A=0,k=[],D=-1,O=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,C={},N=[],L={},I=0,Q=0,J=[],H=1,z=1,X=[],re={Names:[]},j={},le=["",""],q=[],R={},G="",K=0,Y=!1,se=!1,ve=0;for(gm.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=gm.exec(r);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?y["!ref"]=zt(T):y["!ref"]="A1:A1",n.sheetRows>0&&n.sheetRows<=T.e.r&&(y["!fullref"]=y["!ref"],T.e.r=n.sheetRows-1,y["!ref"]=zt(T)),N.length&&(y["!merges"]=N),J.length&&(y["!rows"]=J),h.name=h.||h.name,typeof JSON<"u"&&JSON.stringify(h),m.push(h.name),p[h.name]=y,se=!1):v[0].charAt(v[0].length-2)!=="/"&&(h=ct(v[0],!1),D=O=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,y=n.dense?[]:{},N=[],J=[],se=!0);break;case"table-row-group":v[1]==="/"?--F:++F;break;case"table-row":case"":if(v[1]==="/"){D+=H,H=1;break}if(d=ct(v[0],!1),d.?D=d.-1:D==-1&&(D=0),H=+d["number-rows-repeated"]||1,H<10)for(ve=0;ve<H;++ve)F>0&&(J[D+ve]={level:F});O=-1;break;case"covered-table-cell":v[1]!=="/"&&++O,n.sheetStubs&&(n.dense?(y[D]||(y[D]=[]),y[D][O]={t:"z"}):y[mt({r:D,c:O})]={t:"z"}),w="",k=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++O,E=ct(v[0],!1),z=parseInt(E["number-columns-repeated"]||"1",10),_={t:"z",v:null},E.formula&&n.cellFormula!=!1&&(_.f=pB(Bt(E.formula))),(E.||E["value-type"])=="string"&&(_.t="s",_.v=Bt(E["string-value"]||""),n.dense?(y[D]||(y[D]=[]),y[D][O]=_):y[mt({r:D,c:O})]=_),O+=z-1;else if(v[1]!=="/"){++O,w="",A=0,k=[],z=1;var _e=H?D+H-1:D;if(O>T.e.c&&(T.e.c=O),O<T.s.c&&(T.s.c=O),D<T.s.r&&(T.s.r=D),_e>T.e.r&&(T.e.r=_e),E=ct(v[0],!1),q=[],R={},_={t:E.||E["value-type"],v:null},n.cellFormula)if(E.formula&&(E.formula=Bt(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(I=parseInt(E["number-matrix-rows-spanned"],10)||0,Q=parseInt(E["number-matrix-columns-spanned"],10)||0,L={s:{r:D,c:O},e:{r:D+I-1,c:O+Q-1}},_.F=zt(L),X.push([L,_.F])),E.formula)_.f=pB(E.formula);else for(ve=0;ve<X.length;++ve)D>=X[ve][0].s.r&&D<=X[ve][0].e.r&&O>=X[ve][0].s.c&&O<=X[ve][0].e.c&&(_.F=X[ve][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(I=parseInt(E["number-rows-spanned"],10)||0,Q=parseInt(E["number-columns-spanned"],10)||0,L={s:{r:D,c:O},e:{r:D+I-1,c:O+Q-1}},N.push(L)),E["number-columns-repeated"]&&(z=parseInt(E["number-columns-repeated"],10)),_.t){case"boolean":_.t="b",_.v=kn(E["boolean-value"]);break;case"float":_.t="n",_.v=parseFloat(E.value);break;case"percentage":_.t="n",_.v=parseFloat(E.value);break;case"currency":_.t="n",_.v=parseFloat(E.value);break;case"date":_.t="d",_.v=kr(E["date-value"]),n.cellDates||(_.t="n",_.v=Bi(_.v)),_.z="m/d/yy";break;case"time":_.t="n",_.v=b6e(E["time-value"])/86400,n.cellDates&&(_.t="d",_.v=JE(_.v)),_.z="HH:MM:SS";break;case"number":_.t="n",_.v=parseFloat(E.);break;default:if(_.t==="string"||_.t==="text"||!_.t)_.t="s",E["string-value"]!=null&&(w=Bt(E["string-value"]),k=[]);else throw new Error("Unsupported value type "+_.t)}}else{if(Y=!1,_.t==="s"&&(_.v=w||"",k.length&&(_.R=k),Y=A==0),j.Target&&(_.l=j),q.length>0&&(_.c=q,q=[]),w&&n.cellText!==!1&&(_.w=w),Y&&(_.t="z",delete _.v),(!Y||n.sheetStubs)&&!(n.sheetRows&&n.sheetRows<=D))for(var ae=0;ae<H;++ae){if(z=parseInt(E["number-columns-repeated"]||"1",10),n.dense)for(y[D+ae]||(y[D+ae]=[]),y[D+ae][O]=ae==0?_:jr(_);--z>0;)y[D+ae][O+z]=jr(_);else for(y[mt({r:D+ae,c:O})]=_;--z>0;)y[mt({r:D+ae,c:O+z})]=jr(_);T.e.c<=O&&(T.e.c=O)}z=parseInt(E["number-columns-repeated"]||"1",10),O+=z-1,z=0,_={},w="",k=[]}j={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a;R.t=w,k.length&&(R.R=k),R.a=G,q.push(R)}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);G="",K=0,w="",A=0,k=[];break;case"creator":v[1]==="/"?G=r.slice(K,v.index):K=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&i.push([v[3],!1]);w="",A=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(C[o.name]=u,(a=i.pop())[0]!==v[3])throw"Bad state: "+a}else v[0].charAt(v[0].length-2)!=="/"&&(u="",o=ct(v[0],!1),i.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=ct(v[0],!1),u+=bB[v[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=ct(v[0],!1),u+=bB[v[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":u+=r.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":s=ct(v[0],!1),le=pk(s["cell-range-address"]);var ue={Name:s.name,Ref:le[0]+"!"+le[1]};se&&(ue.Sheet=m.length),re.Names.push(ue);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(v[1]==="/"&&(!E||!E["string-value"])){var ke=l9e(r.slice(A,v.index));w=(w.length>0?w+`
`:"")+ke[0]}else ct(v[0],!1),A=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{le=pk(ct(v[0])["target-range-address"]),p[le[0]]["!autofilter"]={ref:le[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(j=ct(v[0],!1),!j.href)break;j.Target=Bt(j.href),delete j.href,j.Target.charAt(0)=="#"&&j.Target.indexOf(".")>-1?(le=pk(j.Target.slice(1)),j.Target="#"+le[0]+"!"+le[1]):j.Target.match(/^\.\.[\\\/]/)&&(j.Target=j.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(n.WTF)throw new Error(v)}}var P={Sheets:p,SheetNames:m,Workbook:re};return n.bookSheets&&delete P.Sheets,P}function EB(e,t){t=t||{},Qa(e,"META-INF/manifest.xml")&&wDe(nr(e,"META-INF/manifest.xml"),t);var n=Ea(e,"content.xml");if(!n)throw new Error("Missing content.xml in ODS / UOF file");var r=KZ(mn(n),t);return Qa(e,"meta.xml")&&(r.Props=uZ(nr(e,"meta.xml"))),r}function SB(e,t){return KZ(e,t)}function BO(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function U4(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):mn($0(e))}function H4(e){var t=e.reduce(function(i,a){return i+a.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(i){n.set(i,r),r+=i.length}),n}function wB(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function u9e(e,t){for(var n=(e[t+15]&127)<<7|e[t+14]>>1,r=e[t+14]&1,i=t+13;i>=t;--i)r=r*256+e[i];return(e[t+15]&128?-r:r)*Math.pow(10,n-6176)}function ym(e,t){var n=t?t[0]:0,r=e[n]&127;e:if(e[n++]>=128&&(r|=(e[n]&127)<<7,e[n++]<128||(r|=(e[n]&127)<<14,e[n++]<128)||(r|=(e[n]&127)<<21,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,28),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,35),++n,e[n++]<128)||(r+=(e[n]&127)*Math.pow(2,42),++n,e[n++]<128)))break e;return t&&(t[0]=n),r}function gr(e){var t=0,n=e[t]&127;e:if(e[t++]>=128){if(n|=(e[t]&127)<<7,e[t++]<128||(n|=(e[t]&127)<<14,e[t++]<128)||(n|=(e[t]&127)<<21,e[t++]<128))break e;n|=(e[t]&127)<<28}return n}function oi(e){for(var t=[],n=[0];n[0]<e.length;){var r=n[0],i=ym(e,n),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var u=n[0];e[n[0]++]>=128;);o=e.slice(u,n[0])}break;case 5:s=4,o=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,o=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=ym(e,n),o=e.slice(n[0],n[0]+s),n[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(r))}var c={data:o,type:a};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function PO(e,t){return e?.map(function(n){return t(n.data)})||[]}function c9e(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=ym(e,r),a=oi(e.slice(r[0],r[0]+i));r[0]+=i;var s={id:gr(a[1][0].data),messages:[]};a[2].forEach(function(o){var u=oi(o.data),c=gr(u[3][0].data);s.messages.push({meta:u,data:e.slice(r[0],r[0]+c)}),r[0]+=c}),(t=a[3])!=null&&t[0]&&(s.merge=gr(a[3][0].data)>>>0>0),n.push(s)}return n}function f9e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=ym(t,n),i=[];n[0]<t.length;){var a=t[n[0]]&3;if(a==0){var s=t[n[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[n[0]],o>1&&(s|=t[n[0]+1]<<8),o>2&&(s|=t[n[0]+2]<<16),o>3&&(s|=t[n[0]+3]<<24),s>>>=0,s++,n[0]+=o}i.push(t.slice(n[0],n[0]+s)),n[0]+=s;continue}else{var u=0,c=0;if(a==1?(c=(t[n[0]]>>2&7)+4,u=(t[n[0]++]&224)<<3,u|=t[n[0]++]):(c=(t[n[0]++]>>2)+1,a==2?(u=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(u=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[H4(i)],u==0)throw new Error("Invalid offset 0");if(u>i[0].length)throw new Error("Invalid offset beyond length");if(c>=u)for(i.push(i[0].slice(-u)),c-=u;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-u,-u+c))}}var h=H4(i);if(h.length!=r)throw new Error("Unexpected length: ".concat(h.length," != ").concat(r));return h}function h9e(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(f9e(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return H4(t)}function d9e(e,t,n,r){var i=BO(e),a=i.getUint32(4,!0),s=(r>1?12:8)+wB(a&(r>1?3470:398))*4,o=-1,u=-1,c=NaN,h=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=wB(a&(r>1?12288:4096))*4,a&16&&(u=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(h.setTime(h.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var d;switch(e[2]){case 0:break;case 2:d={t:"n",v:c};break;case 3:d={t:"s",v:t[u]};break;case 5:d={t:"d",v:h};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(o>-1)d={t:"s",v:n[o]};else if(u>-1)d={t:"s",v:t[u]};else if(!isNaN(c))d={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return d}function g9e(e,t,n){var r=BO(e),i=r.getUint32(8,!0),a=12,s=-1,o=-1,u=NaN,c=NaN,h=new Date(2001,0,1);i&1&&(u=u9e(e,a),a+=16),i&2&&(c=r.getFloat64(a,!0),a+=8),i&4&&(h.setTime(h.getTime()+r.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=r.getUint32(a,!0),a+=4),i&16&&(s=r.getUint32(a,!0),a+=4);var d;switch(e[1]){case 0:break;case 2:d={t:"n",v:u};break;case 3:d={t:"s",v:t[o]};break;case 5:d={t:"d",v:h};break;case 6:d={t:"b",v:c>0};break;case 7:d={t:"n",v:c/86400};break;case 8:d={t:"e",v:0};break;case 9:if(s>-1)d={t:"s",v:n[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:d={t:"n",v:u};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return d}function p9e(e,t,n){switch(e[0]){case 0:case 1:case 2:case 3:return d9e(e,t,n,e[0]);case 5:return g9e(e,t,n);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function oc(e){var t=oi(e);return ym(t[1][0].data)}function AB(e,t){var n=oi(t.data),r=gr(n[1][0].data),i=n[3],a=[];return(i||[]).forEach(function(s){var o=oi(s.data),u=gr(o[1][0].data)>>>0;switch(r){case 1:a[u]=U4(o[3][0].data);break;case 8:{var c=e[oc(o[9][0].data)][0],h=oi(c.data),d=e[oc(h[1][0].data)][0],p=gr(d.meta[1][0].data);if(p!=2001)throw new Error("2000 unexpected reference to ".concat(p));var m=oi(d.data);a[u]=m[3].map(function(y){return U4(y.data)}).join("")}break}}),a}function m9e(e,t){var n,r,i,a,s,o,u,c,h,d,p,m,y,v,_=oi(e),E=gr(_[1][0].data)>>>0,w=gr(_[2][0].data)>>>0,A=((r=(n=_[8])==null?void 0:n[0])==null?void 0:r.data)&&gr(_[8][0].data)>0||!1,k,D;if((a=(i=_[7])==null?void 0:i[0])!=null&&a.data&&t!=0)k=(o=(s=_[7])==null?void 0:s[0])==null?void 0:o.data,D=(c=(u=_[6])==null?void 0:u[0])==null?void 0:c.data;else if((d=(h=_[4])==null?void 0:h[0])!=null&&d.data&&t!=1)k=(m=(p=_[4])==null?void 0:p[0])==null?void 0:m.data,D=(v=(y=_[3])==null?void 0:y[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=A?4:1,T=BO(k),F=[],C=0;C<k.length/2;++C){var N=T.getUint16(C*2,!0);N<65535&&F.push([C,N])}if(F.length!=w)throw"Expected ".concat(w," cells, found ").concat(F.length);var L=[];for(C=0;C<F.length-1;++C)L[F[C][0]]=D.subarray(F[C][1]*O,F[C+1][1]*O);return F.length>=1&&(L[F[F.length-1][0]]=D.subarray(F[F.length-1][1]*O)),{R:E,cells:L}}function x9e(e,t){var n,r=oi(t.data),i=(n=r?.[7])!=null&&n[0]?gr(r[7][0].data)>>>0>0?1:0:-1,a=PO(r[5],function(s){return m9e(s,i)});return{nrows:gr(r[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(u,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=u}),s},[])}}function y9e(e,t,n){var r,i=oi(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(gr(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(gr(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));n["!ref"]=zt(a);var s=oi(i[4][0].data),o=AB(e,e[oc(s[4][0].data)][0]),u=(r=s[17])!=null&&r[0]?AB(e,e[oc(s[17][0].data)][0]):[],c=oi(s[3][0].data),h=0;c[1].forEach(function(d){var p=oi(d.data),m=e[oc(p[2][0].data)][0],y=gr(m.meta[1][0].data);if(y!=6002)throw new Error("6001 unexpected reference to ".concat(y));var v=x9e(e,m);v.data.forEach(function(_,E){_.forEach(function(w,A){var k=mt({r:h+E,c:A}),D=p9e(w,o,u);D&&(n[k]=D)})}),h+=v.nrows})}function v9e(e,t){var n=oi(t.data),r={"!ref":"A1"},i=e[oc(n[2][0].data)],a=gr(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return y9e(e,i[0],r),r}function _9e(e,t){var n,r=oi(t.data),i={name:(n=r[1])!=null&&n[0]?U4(r[1][0].data):"",sheets:[]},a=PO(r[2],oc);return a.forEach(function(s){e[s].forEach(function(o){var u=gr(o.meta[1][0].data);u==6e3&&i.sheets.push(v9e(e,o))})}),i}function b9e(e,t){var n=jO(),r=oi(t.data),i=PO(r[1],oc);if(i.forEach(function(a){e[a].forEach(function(s){var o=gr(s.meta[1][0].data);if(o==2){var u=_9e(e,s);u.sheets.forEach(function(c,h){qO(n,c,h==0?u.name:u.name+"_"+h,!0)})}})}),n.SheetNames.length==0)throw new Error("Empty NUMBERS file");return n}function xk(e){var t,n,r,i,a={},s=[];if(e.FullPaths.forEach(function(u){if(u.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(u){if(u.name.match(/\.iwa$/)){var c;try{c=h9e(u.content)}catch(d){return console.log("?? "+u.content.length+" "+(d.message||d))}var h;try{h=c9e(c)}catch(d){return console.log("## "+(d.message||d))}h.forEach(function(d){a[d.id]=d.messages,s.push(d.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(r=(n=(t=a?.[1])==null?void 0:t[0])==null?void 0:n.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&gr(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(u){a[u].forEach(function(c){var h=gr(c.meta[1][0].data)>>>0;if(h==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return b9e(a,o)}function E9e(e){return function(n){for(var r=0;r!=e.length;++r){var i=e[r];n[i[0]]===void 0&&(n[i[0]]=i[1]),i[2]==="n"&&(n[i[0]]=Number(n[i[0]]))}}}function UO(e){E9e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function S9e(e){return Xh.WS.indexOf(e)>-1?"sheet":e==Xh.CS?"chart":e==Xh.DS?"dialog":e==Xh.MS?"macro":e&&e.length?e:"sheet"}function w9e(e,t){if(!e)return 0;try{e=t.map(function(r){return r.id||(r.id=r.strRelID),[r.name,e["!id"][r.id].Target,S9e(e["!id"][r.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function A9e(e,t,n,r,i,a,s,o,u,c,h,d){try{a[r]=Cp(Ea(e,n,!0),t);var p=nr(e,t),m;switch(o){case"sheet":m=ONe(p,t,i,u,a[r],c,h,d);break;case"chart":if(m=MNe(p,t,i,u,a[r],c,h,d),!m||!m["!drawel"])break;var y=up(m["!drawel"].Target,t),v=L4(y),_=D8e(Ea(e,y,!0),Cp(Ea(e,v,!0),y)),E=up(_,y),w=L4(E);m=gNe(Ea(e,E,!0),E,u,Cp(Ea(e,w,!0),E),c,m);break;case"macro":m=RNe(p,t,i,u,a[r],c,h,d);break;case"dialog":m=NNe(p,t,i,u,a[r],c,h,d);break;default:throw new Error("Unrecognized sheet type "+o)}s[r]=m;var A=[];a&&a[r]&&Bo(a[r]).forEach(function(k){var D="";if(a[r][k].Type==Xh.CMNT){D=up(a[r][k].Target,t);var O=zNe(nr(e,D,!0),D,u);if(!O||!O.length)return;cB(m,O,!1)}a[r][k].Type==Xh.TCMNT&&(D=up(a[r][k].Target,t),A=A.concat(M8e(nr(e,D,!0),u)))}),A&&A.length&&cB(m,A,!0,u.people||[])}catch(k){if(u.WTF)throw k}}function Ya(e){return e.charAt(0)=="/"?e.slice(1):e}function T9e(e,t){if(NQ(),t=t||{},UO(t),Qa(e,"META-INF/manifest.xml")||Qa(e,"objectdata.xml"))return EB(e,t);if(Qa(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof xk<"u"){if(e.FileIndex)return xk(e);var n=It.utils.cfb_new();return Iz(e).forEach(function(J){k6e(n,J,T6e(e,J))}),xk(n)}throw new Error("Unsupported NUMBERS file")}if(!Qa(e,"[Content_Types].xml"))throw Qa(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Qa(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=Iz(e),i=EDe(Ea(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",nr(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!nr(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var u={},c={};if(!t.bookSheets&&!t.bookProps){if(Op=[],i.sst)try{Op=INe(nr(e,Ya(i.sst)),i.sst,t)}catch(J){if(t.WTF)throw J}t.cellStyles&&i.themes.length&&(u=LNe(Ea(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=$Ne(nr(e,Ya(i.style)),i.style,u,t))}i.links.map(function(J){try{var H=Cp(Ea(e,L4(Ya(J))),J);return PNe(nr(e,Ya(J)),H,J,t)}catch{}});var h=DNe(nr(e,Ya(i.workbooks[0])),i.workbooks[0],t),d={},p="";i.coreprops.length&&(p=nr(e,Ya(i.coreprops[0]),!0),p&&(d=uZ(p)),i.extprops.length!==0&&(p=nr(e,Ya(i.extprops[0]),!0),p&&kDe(p,d,t)));var m={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(p=Ea(e,Ya(i.custprops[0]),!0),p&&(m=FDe(p,t)));var y={};if((t.bookSheets||t.bookProps)&&(h.Sheets?s=h.Sheets.map(function(H){return H.name}):d.Worksheets&&d.SheetNames.length>0&&(s=d.SheetNames),t.bookProps&&(y.Props=d,y.Custprops=m),t.bookSheets&&typeof s<"u"&&(y.SheetNames=s),t.bookSheets?y.SheetNames:t.bookProps))return y;s={};var v={};t.bookDeps&&i.calcchain&&(v=BNe(nr(e,Ya(i.calcchain)),i.calcchain));var _=0,E={},w,A;{var k=h.Sheets;d.Worksheets=k.length,d.SheetNames=[];for(var D=0;D!=k.length;++D)d.SheetNames[D]=k[D].name}var O=a?"bin":"xml",T=i.workbooks[0].lastIndexOf("/"),F=(i.workbooks[0].slice(0,T+1)+"_rels/"+i.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");Qa(e,F)||(F="xl/_rels/workbook."+O+".rels");var C=Cp(Ea(e,F,!0),F.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=UNe(nr(e,Ya(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=R8e(nr(e,Ya(i.people[0])),t)),C&&(C=w9e(C,h.Sheets));var N=nr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(_=0;_!=d.Worksheets;++_){var L="sheet";if(C&&C[_]?(w="xl/"+C[_][1].replace(/[\/]?xl\//,""),Qa(e,w)||(w=C[_][1]),Qa(e,w)||(w=F.replace(/_rels\/.*$/,"")+C[_][1]),L=C[_][2]):(w="xl/worksheets/sheet"+(_+1-N)+"."+O,w=w.replace(/sheet0\./,"sheet.")),A=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(_!=t.sheets)continue e;break;case"string":if(d.SheetNames[_].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,Q=0;Q!=t.sheets.length;++Q)typeof t.sheets[Q]=="number"&&t.sheets[Q]==_&&(I=1),typeof t.sheets[Q]=="string"&&t.sheets[Q].toLowerCase()==d.SheetNames[_].toLowerCase()&&(I=1);if(!I)continue e}}A9e(e,w,A,d.SheetNames[_],_,E,s,L,t,h,u,c)}return y={Directory:i,Workbook:h,Props:d,Custprops:m,Deps:v,Sheets:s,SheetNames:d.SheetNames,Strings:Op,Styles:c,Themes:u,SSF:jr(yt)},t&&t.bookFiles&&(e.files?(y.keys=r,y.files=e.files):(y.keys=[],y.files={},e.FullPaths.forEach(function(J,H){J=J.replace(/^Root Entry[\/]/,""),y.keys.push(J),y.files[J]=e.FileIndex[H]}))),t&&t.bookVBA&&(i.vba.length>0?y.vbaraw=nr(e,Ya(i.vba[0]),!0):i.defaults&&i.defaults.bin===I8e&&(y.vbaraw=nr(e,"xl/vbaProject.bin",!0))),y}function k9e(e,t){var n=t||{},r="Workbook",i=It.find(e,r);try{if(r="/!DataSpaces/Version",i=It.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(vOe(i.content),r="/!DataSpaces/DataSpaceMap",i=It.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=bOe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=It.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=EOe(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=It.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);wOe(i.content)}catch{}if(r="/EncryptionInfo",i=It.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var o=AOe(i.content);if(r="/EncryptedPackage",i=It.find(e,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,n.password||"",n);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,n.password||"",n);throw new Error("File is password-protected")}function HO(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Na(e.slice(0,12));break;case"binary":n=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function C9e(e,t){return It.find(e,"EncryptedPackage")?k9e(e,t):XZ(e,t)}function F9e(e,t){var n,r=e,i=t||{};return i.type||(i.type=Mt&&Buffer.isBuffer(e)?"buffer":"base64"),n=PQ(r,i),T9e(n,i)}function QZ(e,t){var n=0;e:for(;n<e.length;)switch(e.charCodeAt(n)){case 10:case 13:case 32:++n;break;case 60:return B4(e.slice(n),t);default:break e}return pm.to_workbook(e,t)}function D9e(e,t){var n="",r=HO(e,t);switch(t.type){case"base64":n=Na(e);break;case"binary":n=e;break;case"buffer":n=e.toString("binary");break;case"array":n=g0(e);break;default:throw new Error("Unrecognized type "+t.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(n=mn(n)),t.type="binary",QZ(n,t)}function O9e(e,t){var n=e;return t.type=="base64"&&(n=Na(n)),n=fm.utils.decode(1200,n.slice(2),"str"),t.type="binary",QZ(n,t)}function M9e(e){return e.match(/[^\x00-\x7F]/)?cp(e):e}function yk(e,t,n,r){return r?(n.type="string",pm.to_workbook(e,n)):pm.to_workbook(t,n)}function j4(e,t){EQ();var n=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return j4(new Uint8Array(e),(n=jr(n),n.type="array",n));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!n.type&&(n.type=typeof Deno<"u"?"buffer":"array");var r=e,i=[0,0,0,0],a=!1;if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),sd={},n.dateNF&&(sd.dateNF=n.dateNF),n.type||(n.type=Mt&&Buffer.isBuffer(e)?"buffer":"base64"),n.type=="file"&&(n.type=Mt?"buffer":"binary",r=v6e(e),typeof Uint8Array<"u"&&!Mt&&(n.type="array")),n.type=="string"&&(a=!0,n.type="binary",n.codepage=65001,r=M9e(e)),n.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return n=jr(n),n.type="array",j4(_O(r),n)}switch((i=HO(r,n))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return C9e(It.read(r,n),n);break;case 9:if(i[1]<=8)return XZ(r,n);break;case 60:return B4(r,n);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return sOe(r,n);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return iOe.to_workbook(r,n);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?F9e(r,n):yk(e,r,n,a);case 239:return i[3]===60?B4(r,n):yk(e,r,n,a);case 255:if(i[1]===254)return O9e(r,n);if(i[1]===0&&i[2]===2&&i[3]===0)return Dp.to_workbook(r,n);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Dp.to_workbook(r,n);break;case 3:case 131:case 139:case 140:return uB.to_workbook(r,n);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return IOe.to_workbook(r,n);break;case 10:case 13:case 32:return D9e(r,n);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return nOe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?uB.to_workbook(r,n):yk(e,r,n,a)}function R9e(e,t,n,r,i,a,s,o){var u=qr(n),c=o.defval,h=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,p=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(p,"__rowNum__",{value:n,enumerable:!1})}catch{p.__rowNum__=n}else p.__rowNum__=n;if(!s||e[n])for(var m=t.s.c;m<=t.e.c;++m){var y=s?e[n][m]:e[r[m]+u];if(y===void 0||y.t===void 0){if(c===void 0)continue;a[m]!=null&&(p[a[m]]=c);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(a[m]!=null){if(v==null)if(y.t=="e"&&v===null)p[a[m]]=null;else if(c!==void 0)p[a[m]]=c;else if(h&&v===null)p[a[m]]=null;else continue;else p[a[m]]=h&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:Ql(y,v,o);v!=null&&(d=!1)}}return{row:p,isempty:d}}function q4(e,t){if(e==null||e["!ref"]==null)return[];var n={t:"n",v:0},r=0,i=1,a=[],s=0,o="",u={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},h=c.range!=null?c.range:e["!ref"];switch(c.header===1?r=1:c.header==="A"?r=2:Array.isArray(c.header)?r=3:c.header==null&&(r=0),typeof h){case"string":u=Hn(h);break;case"number":u=Hn(e["!ref"]),u.s.r=h;break;default:u=h}r>0&&(i=0);var d=qr(u.s.r),p=[],m=[],y=0,v=0,_=Array.isArray(e),E=u.s.r,w=0,A={};_&&!e[E]&&(e[E]=[]);var k=c.skipHidden&&e["!cols"]||[],D=c.skipHidden&&e["!rows"]||[];for(w=u.s.c;w<=u.e.c;++w)if(!(k[w]||{}).hidden)switch(p[w]=hr(w),n=_?e[E][w]:e[p[w]+d],r){case 1:a[w]=w-u.s.c;break;case 2:a[w]=p[w];break;case 3:a[w]=c.header[w-u.s.c];break;default:if(n==null&&(n={w:"__EMPTY",t:"s"}),o=s=Ql(n,null,c),v=A[s]||0,!v)A[s]=1;else{do o=s+"_"+v++;while(A[o]);A[s]=v,A[o]=1}a[w]=o}for(E=u.s.r+i;E<=u.e.r;++E)if(!(D[E]||{}).hidden){var O=R9e(e,u,E,p,r,a,_,c);(O.isempty===!1||(r===1?c.blankrows!==!1:c.blankrows))&&(m[y++]=O.row)}return m.length=y,m}var TB=/"/g;function N9e(e,t,n,r,i,a,s,o){for(var u=!0,c=[],h="",d=qr(n),p=t.s.c;p<=t.e.c;++p)if(r[p]){var m=o.dense?(e[n]||[])[p]:e[r[p]+d];if(m==null)h="";else if(m.v!=null){u=!1,h=""+(o.rawNumbers&&m.t=="n"?m.v:Ql(m,null,o));for(var y=0,v=0;y!==h.length;++y)if((v=h.charCodeAt(y))===i||v===a||v===34||o.forceQuotes){h='"'+h.replace(TB,'""')+'"';break}h=="ID"&&(h='"ID"')}else m.f!=null&&!m.F?(u=!1,h="="+m.f,h.indexOf(",")>=0&&(h='"'+h.replace(TB,'""')+'"')):h="";c.push(h)}return o.blankrows===!1&&u?null:c.join(s)}function ZZ(e,t){var n=[],r=t??{};if(e==null||e["!ref"]==null)return"";var i=Hn(e["!ref"]),a=r.FS!==void 0?r.FS:",",s=a.charCodeAt(0),o=r.RS!==void 0?r.RS:`
`,u=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),h="",d=[];r.dense=Array.isArray(e);for(var p=r.skipHidden&&e["!cols"]||[],m=r.skipHidden&&e["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(p[y]||{}).hidden||(d[y]=hr(y));for(var v=0,_=i.s.r;_<=i.e.r;++_)(m[_]||{}).hidden||(h=N9e(e,i,_,d,s,u,a,r),h!=null&&(r.strip&&(h=h.replace(c,"")),(h||r.blankrows!==!1)&&n.push((v++?o:"")+h)));return delete r.dense,n.join("")}function $9e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var n=ZZ(e,t);return n}function L9e(e){var t="",n,r="";if(e==null||e["!ref"]==null)return[];var i=Hn(e["!ref"]),a="",s=[],o,u=[],c=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=hr(o);for(var h=i.s.r;h<=i.e.r;++h)for(a=qr(h),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,n=c?(e[h]||[])[o]:e[t],r="",n!==void 0){if(n.F!=null){if(t=n.F,!n.f)continue;r=n.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(n.f!=null)r=n.f;else{if(n.t=="z")continue;if(n.t=="n"&&n.v!=null)r=""+n.v;else if(n.t=="b")r=n.v?"TRUE":"FALSE";else if(n.w!==void 0)r="'"+n.w;else{if(n.v===void 0)continue;n.t=="s"?r="'"+n.v:r=""+n.v}}u[u.length]=t+"="+r}return u}function JZ(e,t,n){var r=n||{},i=+!r.skipHeader,a=e||{},s=0,o=0;if(a&&r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var u=typeof r.origin=="string"?Mi(r.origin):r.origin;s=u.r,o=u.c}var c,h={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var d=Hn(a["!ref"]);h.e.c=Math.max(h.e.c,d.e.c),h.e.r=Math.max(h.e.r,d.e.r),s==-1&&(s=d.e.r+1,h.e.r=s+t.length-1+i)}else s==-1&&(s=0,h.e.r=t.length-1+i);var p=r.header||[],m=0;t.forEach(function(v,_){Bo(v).forEach(function(E){(m=p.indexOf(E))==-1&&(p[m=p.length]=E);var w=v[E],A="z",k="",D=mt({c:o+m,r:s+_+i});c=vm(a,D),w&&typeof w=="object"&&!(w instanceof Date)?a[D]=w:(typeof w=="number"?A="n":typeof w=="boolean"?A="b":typeof w=="string"?A="s":w instanceof Date?(A="d",r.cellDates||(A="n",w=Bi(w)),k=r.dateNF||yt[14]):w===null&&r.nullError&&(A="e",w=0),c?(c.t=A,c.v=w,delete c.w,delete c.R,k&&(c.z=k)):a[D]=c={t:A,v:w},k&&(c.z=k))})}),h.e.c=Math.max(h.e.c,o+p.length-1);var y=qr(s);if(i)for(m=0;m<p.length;++m)a[hr(m+o)+y]={t:"s",v:p[m]};return a["!ref"]=zt(h),a}function I9e(e,t){return JZ(null,e,t)}function vm(e,t,n){if(typeof t=="string"){if(Array.isArray(e)){var r=Mi(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?vm(e,mt(t)):vm(e,mt({r:t,c:n||0}))}function z9e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function jO(){return{SheetNames:[],Sheets:{}}}function qO(e,t,n,r){var i=1;if(!n)for(;i<=65535&&e.SheetNames.indexOf(n="Sheet"+i)!=-1;++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||n;for(++i;i<=65535&&e.SheetNames.indexOf(n=s+i)!=-1;++i);}if(ENe(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function B9e(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=z9e(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n}function P9e(e,t){return e.z=t,e}function eJ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}function U9e(e,t,n){return eJ(e,"#"+t,n)}function H9e(e,t,n){e.c||(e.c=[]),e.c.push({t,a:n||"SheetJS"})}function j9e(e,t,n,r){for(var i=typeof t!="string"?t:Hn(t),a=typeof t=="string"?t:zt(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var u=vm(e,s,o);u.t="n",u.F=a,delete u.v,s==i.s.r&&o==i.s.c&&(u.f=n,r&&(u.D=!0))}return e}var q9e={encode_col:hr,encode_row:qr,encode_cell:mt,encode_range:zt,decode_col:FO,decode_row:CO,split_cell:tDe,decode_cell:Mi,decode_range:yg,format_cell:Ql,sheet_add_aoa:iZ,sheet_add_json:JZ,sheet_add_dom:WZ,aoa_to_sheet:vg,json_to_sheet:I9e,table_to_sheet:YZ,table_to_book:s9e,sheet_to_csv:ZZ,sheet_to_txt:$9e,sheet_to_json:q4,sheet_to_html:a9e,sheet_to_formulae:L9e,sheet_to_row_object_array:q4,sheet_get_cell:vm,book_new:jO,book_append_sheet:qO,book_set_sheet_visibility:B9e,cell_set_number_format:P9e,cell_set_hyperlink:eJ,cell_set_internal_link:U9e,cell_add_comment:H9e,sheet_set_array_formula:j9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const G9e=e=>new Promise((t,n)=>{const r=e.name.split(".").pop().toLowerCase();if(r==="csv")HFe.parse(e,{header:!0,dynamicTyping:!0,skipEmptyLines:!0,complete:i=>t(i.data),error:i=>n(i)});else if(["xlsx","xls"].includes(r)){const i=new FileReader;i.onload=a=>{const s=new Uint8Array(a.target.result),o=j4(s,{type:"array"}),u=o.SheetNames[0],c=o.Sheets[u],h=q9e.sheet_to_json(c);t(h)},i.onerror=a=>n(a),i.readAsArrayBuffer(e)}else n(new Error("Unsupported file type"))}),V9e=e=>!e||e.length===0?[]:Object.keys(e[0]).map(r=>{const i=e.map(d=>d[r]).filter(d=>d!=null),a=i.length;if(a===0)return{name:r,type:"unknown"};const s=i.every(d=>!isNaN(Number(d))),o=i.every(d=>!isNaN(Date.parse(d))),u=new Set(i),c=u.size<Math.min(50,a*.5);let h="text";return s?h="numeric":o?h="date":c&&(h="categorical"),{name:r,type:h,uniqueCount:u.size,min:s?Math.min(...i):null,max:s?Math.max(...i):null}}),X9e=e=>{const t=e.filter(i=>i.type==="numeric"),n=e.filter(i=>i.type==="categorical"||i.type==="text"),r=e.filter(i=>i.type==="date");return{mood:n.find(i=>i.name.toLowerCase().includes("mood")||i.name.toLowerCase().includes("category"))||n[0],intensity:t.find(i=>i.name.toLowerCase().includes("intensity")||i.name.toLowerCase().includes("score"))||t[0],impact:t.find(i=>i.name.toLowerCase().includes("impact")||i.name.toLowerCase().includes("value"))||t[1]||t[0],relevance:t.find(i=>i.name.toLowerCase().includes("relevance")||i.name.toLowerCase().includes("percent"))||t[2]||t[0],time:r[0]||null}},W9e=(e,t,n="bubble")=>{const{mood:r,intensity:i,impact:a,relevance:s,time:o}=t,u={$schema:"https://vega.github.io/schema/vega-lite/v5.json",width:600,height:400,data:{values:e},background:"transparent",config:{font:"Inter",axis:{domainColor:"#e1e4e8",gridColor:"#f0f0f0",labelColor:"#4a4a4a",titleColor:"#2c3e50",titleFont:"Playfair Display",titleFontWeight:600},legend:{titleFont:"Playfair Display",labelColor:"#4a4a4a"}}};return n==="bubble"?{...u,mark:{type:"circle",opacity:.7,stroke:"#fff",strokeWidth:1},encoding:{x:{field:a?.name||"x",type:"quantitative",title:"Impact (Academic Weight)",scale:{zero:!1}},y:{field:i?.name||"y",type:"quantitative",title:"Intensity (Research Depth)",scale:{zero:!1}},size:{field:s?.name||"size",type:"quantitative",title:"Relevance",scale:{range:[50,500]}},color:{field:r?.name||"category",type:"nominal",title:"Category / Mood",scale:{scheme:"tableau10"}},tooltip:[{field:r?.name,title:"Category"},{field:a?.name,title:"Impact"},{field:i?.name,title:"Intensity"}]}}:n==="radar"?{...u,encoding:{theta:{field:r?.name,type:"nominal",stack:!0},radius:{field:i?.name,type:"quantitative",scale:{type:"sqrt",zero:!0,rangeMin:20}},color:{field:r?.name,type:"nominal"},order:{field:i?.name,sort:"descending"}},layer:[{mark:{type:"arc",innerRadius:20,stroke:"#fff"}},{mark:{type:"text",radiusOffset:10},encoding:{text:{field:r?.name},color:{value:"black"}}}]}:n==="heatmap"?{...u,mark:"rect",encoding:{x:{field:r?.name,type:"nominal",title:"Category"},y:{field:o?.name||"id",type:o?"temporal":"ordinal",title:"Time / Sequence"},color:{field:i?.name,type:"quantitative",title:"Intensity",scale:{scheme:"viridis"}}}}:u},Y9e=(e,t)=>{const{mood:n,intensity:r,impact:i}=t,a=[];if(r){const s=Math.max(...e.map(u=>u[r.name])),o=e.find(u=>u[r.name]===s);a.push(`**High Intensity**: The data exhibits a peak intensity of ${s.toFixed(2)}`+(n?` within the '${o[n.name]}' category.`:"."))}if(i&&r&&a.push(`**Correlation Analysis**: There appears to be a dynamic relationship between ${i.name} and ${r.name}, suggesting that higher impact often correlates with increased research depth.`),n){const s={};e.forEach(u=>{const c=u[n.name];s[c]=(s[c]||0)+1});const o=Object.keys(s).reduce((u,c)=>s[u]>s[c]?u:c);a.push(`**Dominant Theme**: The '${o}' category is the most prevalent, indicating a strong focus in this area.`)}return a};function K9e(){const[e,t]=wi.useState(null),[n,r]=wi.useState([]),[i,a]=wi.useState({}),[s,o]=wi.useState("bubble"),[u,c]=wi.useState([]),h=async p=>{try{const m=await G9e(p);t(m);const y=V9e(m);r(y);const v=X9e(y);a(v);const _=Y9e(m,v);c(_)}catch(m){console.error("Error parsing file:",m),alert("Error parsing file. Please check the format.")}},d=wi.useMemo(()=>!e||!i?null:W9e(e,i,s),[e,i,s]);return tt.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12",children:[tt.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:tt.jsxs("div",{className:"container flex items-center justify-between py-4",children:[tt.jsxs("div",{className:"flex items-center gap-3",children:[tt.jsx("div",{className:"w-10 h-10 bg-indigo-900 rounded-lg flex items-center justify-center text-white",children:tt.jsx(Tte,{size:24})}),tt.jsxs("div",{children:[tt.jsx("h1",{className:"text-xl font-serif text-gray-900 m-0",children:"Academic Vibe Chart"}),tt.jsx("p",{className:"text-xs text-gray-500",children:"Data Visualization & Insight Generator"})]})]}),tt.jsxs("button",{className:"btn btn-outline text-sm",children:[tt.jsx(UN,{size:16,className:"mr-2"})," Settings"]})]})}),tt.jsx("main",{className:"container mt-8",children:e?tt.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[tt.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[tt.jsxs("div",{className:"card",children:[tt.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[tt.jsx(UN,{size:18})," Configuration"]}),tt.jsxs("div",{className:"mb-4",children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Chart Type"}),tt.jsxs("select",{value:s,onChange:p=>o(p.target.value),className:"w-full p-2 border border-gray-300 rounded-md bg-white",children:[tt.jsx("option",{value:"bubble",children:"Bubble Chart (Impact vs Intensity)"}),tt.jsx("option",{value:"radar",children:"Polar/Radar (Category Distribution)"}),tt.jsx("option",{value:"heatmap",children:"Heatmap (Temporal Intensity)"})]})]}),tt.jsxs("div",{className:"space-y-3",children:[tt.jsx("h4",{className:"text-sm font-medium text-gray-900 border-b pb-1",children:"Axis Mapping"}),["mood","intensity","impact","relevance"].map(p=>tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-xs uppercase text-gray-500 font-bold mb-1",children:p}),tt.jsxs("select",{value:i[p]?.name||"",onChange:m=>{const y=n.find(v=>v.name===m.target.value);a(v=>({...v,[p]:y}))},className:"w-full p-2 text-sm border border-gray-300 rounded-md",children:[tt.jsx("option",{value:"",children:"(None)"}),n.map(m=>tt.jsxs("option",{value:m.name,children:[m.name," (",m.type,")"]},m.name))]})]},p))]})]}),tt.jsxs("div",{className:"card bg-blue-50 border-blue-100",children:[tt.jsxs("h3",{className:"text-lg font-semibold mb-3 flex items-center gap-2 text-blue-900",children:[tt.jsx(Cte,{size:18})," Academic Insights"]}),tt.jsxs("div",{className:"space-y-3",children:[u.map((p,m)=>tt.jsx("p",{className:"text-sm text-blue-800 leading-relaxed",dangerouslySetInnerHTML:{__html:p.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>")}},m)),u.length===0&&tt.jsx("p",{className:"text-sm text-gray-500 italic",children:"No insights generated yet."})]})]})]}),tt.jsx("div",{className:"lg:col-span-2",children:tt.jsxs("div",{className:"card h-full min-h-[500px] flex flex-col",children:[tt.jsxs("div",{className:"flex justify-between items-center mb-6",children:[tt.jsx("h2",{className:"text-xl font-serif",children:"Vibe Visualization"}),tt.jsx("button",{className:"btn btn-primary text-sm",onClick:()=>t(null),children:"New Upload"})]}),tt.jsx("div",{className:"flex-grow bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-center p-4",children:tt.jsx(zFe,{spec:d})}),tt.jsx("div",{className:"mt-4 text-center text-xs text-gray-400",children:"Generated via Academic Vibe Tool  Vega-Lite"})]})})]}):tt.jsxs("div",{className:"max-w-2xl mx-auto",children:[tt.jsxs("div",{className:"text-center mb-8",children:[tt.jsx("h2",{className:"text-3xl font-serif text-gray-800 mb-2",children:"Visualize Your Research Data"}),tt.jsx("p",{className:"text-gray-600",children:"Upload your dataset to generate publication-ready Vibe Charts with automatic academic insights."})]}),tt.jsx(Mte,{onFileUpload:h})]})})]})}vte.createRoot(document.getElementById("root")).render(tt.jsx(fte.StrictMode,{children:tt.jsx(K9e,{})}));
